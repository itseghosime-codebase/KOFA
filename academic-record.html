<html lang="en"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>University of Benin | Student Portal</title>
    <!-- Tailwind CSS CDN for utility-first styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts - Inter for a modern and clean typeface -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&amp;display=swap" rel="stylesheet">
    <!-- Lucide Icons CDN for scalable vector icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        /* Apply Inter font family to the entire body */
        body {
            font-family: 'Inter', sans-serif;
            -webkit-font-smoothing: antialiased; /* Enhance font rendering on macOS */
            -moz-osx-font-smoothing: grayscale; /* Enhance font rendering on macOS */
        }
        /* Custom button background color for a consistent theme */
        .btn-purple {
            background-color: #55074B; /* Deep purple */
        }
        .btn-purple:hover {
            background-color: #400538; /* Slightly darker shade for hover effect */
        }

        /* Custom CSS for mobile sidebar sliding animation */
        .sidebar-mobile-closed {
            /* This class will be toggled to slide the sidebar out of view */
            transform: translateX(-100%);
        }
        /* Styles for submenu items */
        .submenu-item {
            padding-left: 2.5rem; /* Indent submenu items */
        }

        /* Tab styling for Clearance form */
        .tab-button {
            position: relative;
            padding-bottom: 0.75rem; /* Space for border-bottom */
            transition: all 0.2s ease-in-out;
            display: flex;
            align-items: center;
        }
        .tab-button.active {
            border-bottom: 3px solid #55074B;
            color: #55074B;
            font-weight: 600;
        }
        .tab-button.completed {
            color: #4CAF50; /* Green for completed */
            font-weight: 500;
        }
        .tab-button.completed::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background-color: #4CAF50; /* Green underline for completed */
        }
        .tab-button.disabled {
            opacity: 0.6;
            cursor: not-allowed;
            color: #9CA3AF; /* Gray out disabled tabs */
            border-bottom: 3px solid transparent; /* No active border for disabled */
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
    </style>
<style>*, ::before, ::after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }/* ! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com */*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}::after,::before{--tw-content:''}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-0{inset:0px}.-right-1{right:-0.25rem}.-top-1{top:-0.25rem}.left-0{left:0px}.right-0{right:0px}.right-3{right:0.75rem}.top-0{top:0px}.top-16{top:4rem}.top-3{top:0.75rem}.top-full{top:100%}.z-10{z-index:10}.z-20{z-index:20}.z-30{z-index:30}.z-50{z-index:50}.mx-2{margin-left:0.5rem;margin-right:0.5rem}.mx-4{margin-left:1rem;margin-right:1rem}.mx-auto{margin-left:auto;margin-right:auto}.my-1{margin-top:0.25rem;margin-bottom:0.25rem}.my-2{margin-top:0.5rem;margin-bottom:0.5rem}.-ml-1{margin-left:-0.25rem}.mb-1{margin-bottom:0.25rem}.mb-2{margin-bottom:0.5rem}.mb-3{margin-bottom:0.75rem}.mb-4{margin-bottom:1rem}.mb-6{margin-bottom:1.5rem}.mb-8{margin-bottom:2rem}.ml-1{margin-left:0.25rem}.ml-2{margin-left:0.5rem}.ml-3{margin-left:0.75rem}.ml-4{margin-left:1rem}.mr-1{margin-right:0.25rem}.mr-2{margin-right:0.5rem}.mr-3{margin-right:0.75rem}.mt-1{margin-top:0.25rem}.mt-2{margin-top:0.5rem}.mt-4{margin-top:1rem}.mt-6{margin-top:1.5rem}.mt-8{margin-top:2rem}.ml-0{margin-left:0px}.mt-0\.5{margin-top:0.125rem}.block{display:block}.inline-block{display:inline-block}.flex{display:flex}.inline-flex{display:inline-flex}.grid{display:grid}.hidden{display:none}.h-16{height:4rem}.h-32{height:8rem}.h-4{height:1rem}.h-5{height:1.25rem}.h-8{height:2rem}.h-\[calc\(100vh-64px\)\]{height:calc(100vh - 64px)}.h-full{height:100%}.h-2\.5{height:0.625rem}.max-h-\[85vh\]{max-height:85vh}.min-h-0{min-height:0px}.min-h-screen{min-height:100vh}.w-1\/2{width:50%}.w-1\/3{width:33.333333%}.w-11\/12{width:91.666667%}.w-16{width:4rem}.w-2\/3{width:66.666667%}.w-3\/4{width:75%}.w-32{width:8rem}.w-4{width:1rem}.w-48{width:12rem}.w-5{width:1.25rem}.w-5\/6{width:83.333333%}.w-64{width:16rem}.w-8{width:2rem}.w-80{width:20rem}.w-full{width:100%}.w-20{width:5rem}.min-w-full{min-width:100%}.max-w-2xl{max-width:42rem}.max-w-4xl{max-width:56rem}.max-w-lg{max-width:32rem}.max-w-md{max-width:28rem}.max-w-sm{max-width:24rem}.max-w-xl{max-width:36rem}.max-w-0{max-width:0px}.flex-shrink-0{flex-shrink:0}.rotate-180{--tw-rotate:180deg;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes pulse{50%{opacity:.5}}.animate-pulse{animation:pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite}@keyframes spin{to{transform:rotate(360deg)}}.animate-spin{animation:spin 1s linear infinite}.cursor-not-allowed{cursor:not-allowed}.list-inside{list-style-position:inside}.list-disc{list-style-type:disc}.grid-cols-1{grid-template-columns:repeat(1, minmax(0, 1fr))}.grid-cols-2{grid-template-columns:repeat(2, minmax(0, 1fr))}.flex-col{flex-direction:column}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-4{gap:1rem}.gap-6{gap:1.5rem}.gap-x-6{column-gap:1.5rem}.gap-y-3{row-gap:0.75rem}.space-x-3 > :not([hidden]) ~ :not([hidden]){--tw-space-x-reverse:0;margin-right:calc(0.75rem * var(--tw-space-x-reverse));margin-left:calc(0.75rem * calc(1 - var(--tw-space-x-reverse)))}.space-x-4 > :not([hidden]) ~ :not([hidden]){--tw-space-x-reverse:0;margin-right:calc(1rem * var(--tw-space-x-reverse));margin-left:calc(1rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-2 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.5rem * var(--tw-space-y-reverse))}.space-y-3 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.75rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.75rem * var(--tw-space-y-reverse))}.space-y-4 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(1rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1rem * var(--tw-space-y-reverse))}.space-y-6 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(1.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1.5rem * var(--tw-space-y-reverse))}.space-y-8 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(2rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(2rem * var(--tw-space-y-reverse))}.divide-y > :not([hidden]) ~ :not([hidden]){--tw-divide-y-reverse:0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-gray-100 > :not([hidden]) ~ :not([hidden]){--tw-divide-opacity:1;border-color:rgb(243 244 246 / var(--tw-divide-opacity, 1))}.overflow-hidden{overflow:hidden}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.whitespace-nowrap{white-space:nowrap}.rounded{border-radius:0.25rem}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:0.5rem}.rounded-md{border-radius:0.375rem}.rounded-b-lg{border-bottom-right-radius:0.5rem;border-bottom-left-radius:0.5rem}.rounded-r-lg{border-top-right-radius:0.5rem;border-bottom-right-radius:0.5rem}.border{border-width:1px}.border-b{border-bottom-width:1px}.border-t{border-top-width:1px}.border-dashed{border-style:dashed}.border-gray-100{--tw-border-opacity:1;border-color:rgb(243 244 246 / var(--tw-border-opacity, 1))}.border-gray-200{--tw-border-opacity:1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1))}.border-gray-300{--tw-border-opacity:1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1))}.border-gray-400{--tw-border-opacity:1;border-color:rgb(156 163 175 / var(--tw-border-opacity, 1))}.border-orange-200{--tw-border-opacity:1;border-color:rgb(254 215 170 / var(--tw-border-opacity, 1))}.border-transparent{border-color:transparent}.bg-gray-100{--tw-bg-opacity:1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.bg-gray-200{--tw-bg-opacity:1;background-color:rgb(229 231 235 / var(--tw-bg-opacity, 1))}.bg-gray-300{--tw-bg-opacity:1;background-color:rgb(209 213 219 / var(--tw-bg-opacity, 1))}.bg-gray-50{--tw-bg-opacity:1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.bg-gray-800{--tw-bg-opacity:1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}.bg-gray-900{--tw-bg-opacity:1;background-color:rgb(17 24 39 / var(--tw-bg-opacity, 1))}.bg-green-600{--tw-bg-opacity:1;background-color:rgb(22 163 74 / var(--tw-bg-opacity, 1))}.bg-orange-50{--tw-bg-opacity:1;background-color:rgb(255 247 237 / var(--tw-bg-opacity, 1))}.bg-purple-100{--tw-bg-opacity:1;background-color:rgb(243 232 255 / var(--tw-bg-opacity, 1))}.bg-purple-600{--tw-bg-opacity:1;background-color:rgb(147 51 234 / var(--tw-bg-opacity, 1))}.bg-red-500{--tw-bg-opacity:1;background-color:rgb(239 68 68 / var(--tw-bg-opacity, 1))}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.bg-green-100{--tw-bg-opacity:1;background-color:rgb(220 252 231 / var(--tw-bg-opacity, 1))}.bg-blue-100{--tw-bg-opacity:1;background-color:rgb(219 234 254 / var(--tw-bg-opacity, 1))}.bg-pink-100{--tw-bg-opacity:1;background-color:rgb(252 231 243 / var(--tw-bg-opacity, 1))}.bg-opacity-75{--tw-bg-opacity:0.75}.object-contain{object-fit:contain}.object-cover{object-fit:cover}.p-1{padding:0.25rem}.p-2{padding:0.5rem}.p-3{padding:0.75rem}.p-4{padding:1rem}.p-6{padding:1.5rem}.p-12{padding:3rem}.px-3{padding-left:0.75rem;padding-right:0.75rem}.px-4{padding-left:1rem;padding-right:1rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.px-8{padding-left:2rem;padding-right:2rem}.py-1{padding-top:0.25rem;padding-bottom:0.25rem}.py-2{padding-top:0.5rem;padding-bottom:0.5rem}.py-3{padding-top:0.75rem;padding-bottom:0.75rem}.py-4{padding-top:1rem;padding-bottom:1rem}.px-2{padding-left:0.5rem;padding-right:0.5rem}.pb-2{padding-bottom:0.5rem}.pb-3{padding-bottom:0.75rem}.pb-4{padding-bottom:1rem}.pb-6{padding-bottom:1.5rem}.pl-3{padding-left:0.75rem}.pr-10{padding-right:2.5rem}.pr-3{padding-right:0.75rem}.pt-20{padding-top:5rem}.pt-4{padding-top:1rem}.pt-6{padding-top:1.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.font-mono{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace}.text-2xl{font-size:1.5rem;line-height:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-base{font-size:1rem;line-height:1.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:0.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:0.75rem;line-height:1rem}.font-bold{font-weight:700}.font-light{font-weight:300}.font-medium{font-weight:500}.font-semibold{font-weight:600}.font-normal{font-weight:400}.uppercase{text-transform:uppercase}.italic{font-style:italic}.leading-normal{line-height:1.5}.tracking-wide{letter-spacing:0.025em}.tracking-wider{letter-spacing:0.05em}.text-blue-600{--tw-text-opacity:1;color:rgb(37 99 235 / var(--tw-text-opacity, 1))}.text-gray-500{--tw-text-opacity:1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.text-gray-600{--tw-text-opacity:1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.text-gray-700{--tw-text-opacity:1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.text-gray-800{--tw-text-opacity:1;color:rgb(31 41 55 / var(--tw-text-opacity, 1))}.text-gray-900{--tw-text-opacity:1;color:rgb(17 24 39 / var(--tw-text-opacity, 1))}.text-green-600{--tw-text-opacity:1;color:rgb(22 163 74 / var(--tw-text-opacity, 1))}.text-orange-600{--tw-text-opacity:1;color:rgb(234 88 12 / var(--tw-text-opacity, 1))}.text-orange-700{--tw-text-opacity:1;color:rgb(194 65 12 / var(--tw-text-opacity, 1))}.text-orange-800{--tw-text-opacity:1;color:rgb(154 52 18 / var(--tw-text-opacity, 1))}.text-purple-600{--tw-text-opacity:1;color:rgb(147 51 234 / var(--tw-text-opacity, 1))}.text-purple-700{--tw-text-opacity:1;color:rgb(126 34 206 / var(--tw-text-opacity, 1))}.text-purple-800{--tw-text-opacity:1;color:rgb(107 33 168 / var(--tw-text-opacity, 1))}.text-red-500{--tw-text-opacity:1;color:rgb(239 68 68 / var(--tw-text-opacity, 1))}.text-red-600{--tw-text-opacity:1;color:rgb(220 38 38 / var(--tw-text-opacity, 1))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.text-yellow-500{--tw-text-opacity:1;color:rgb(234 179 8 / var(--tw-text-opacity, 1))}.text-green-800{--tw-text-opacity:1;color:rgb(22 101 52 / var(--tw-text-opacity, 1))}.text-blue-800{--tw-text-opacity:1;color:rgb(30 64 175 / var(--tw-text-opacity, 1))}.text-pink-800{--tw-text-opacity:1;color:rgb(157 23 77 / var(--tw-text-opacity, 1))}.text-green-700{--tw-text-opacity:1;color:rgb(21 128 61 / var(--tw-text-opacity, 1))}.opacity-25{opacity:0.25}.opacity-75{opacity:0.75}.opacity-60{opacity:0.6}.opacity-0{opacity:0}.shadow-2xl{--tw-shadow:0 25px 50px -12px rgb(0 0 0 / 0.25);--tw-shadow-colored:0 25px 50px -12px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-lg{--tw-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-md{--tw-shadow:0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-sm{--tw-shadow:0 1px 2px 0 rgb(0 0 0 / 0.05);--tw-shadow-colored:0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-xl{--tw-shadow:0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.transition{transition-property:color, background-color, border-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-text-decoration-color, -webkit-backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-text-decoration-color, -webkit-backdrop-filter;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.transition-colors{transition-property:color, background-color, border-color, fill, stroke, -webkit-text-decoration-color;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, -webkit-text-decoration-color;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.transition-transform{transition-property:transform;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.duration-200{transition-duration:200ms}.duration-300{transition-duration:300ms}.ease-in-out{transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}.ease-out{transition-timing-function:cubic-bezier(0, 0, 0.2, 1)}.file\:mr-4::file-selector-button{margin-right:1rem}.file\:rounded-full::file-selector-button{border-radius:9999px}.file\:border-0::file-selector-button{border-width:0px}.file\:bg-purple-50::file-selector-button{--tw-bg-opacity:1;background-color:rgb(250 245 255 / var(--tw-bg-opacity, 1))}.file\:px-4::file-selector-button{padding-left:1rem;padding-right:1rem}.file\:py-2::file-selector-button{padding-top:0.5rem;padding-bottom:0.5rem}.file\:text-sm::file-selector-button{font-size:0.875rem;line-height:1.25rem}.file\:font-semibold::file-selector-button{font-weight:600}.file\:text-purple-700::file-selector-button{--tw-text-opacity:1;color:rgb(126 34 206 / var(--tw-text-opacity, 1))}.hover\:bg-gray-100:hover{--tw-bg-opacity:1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.hover\:bg-gray-300:hover{--tw-bg-opacity:1;background-color:rgb(209 213 219 / var(--tw-bg-opacity, 1))}.hover\:bg-gray-400:hover{--tw-bg-opacity:1;background-color:rgb(156 163 175 / var(--tw-bg-opacity, 1))}.hover\:bg-gray-700:hover{--tw-bg-opacity:1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1))}.hover\:bg-green-700:hover{--tw-bg-opacity:1;background-color:rgb(21 128 61 / var(--tw-bg-opacity, 1))}.hover\:bg-purple-100:hover{--tw-bg-opacity:1;background-color:rgb(243 232 255 / var(--tw-bg-opacity, 1))}.hover\:bg-purple-700:hover{--tw-bg-opacity:1;background-color:rgb(126 34 206 / var(--tw-bg-opacity, 1))}.hover\:bg-purple-800:hover{--tw-bg-opacity:1;background-color:rgb(107 33 168 / var(--tw-bg-opacity, 1))}.hover\:bg-red-50:hover{--tw-bg-opacity:1;background-color:rgb(254 242 242 / var(--tw-bg-opacity, 1))}.hover\:bg-gray-50:hover{--tw-bg-opacity:1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.hover\:text-gray-800:hover{--tw-text-opacity:1;color:rgb(31 41 55 / var(--tw-text-opacity, 1))}.hover\:text-purple-700:hover{--tw-text-opacity:1;color:rgb(126 34 206 / var(--tw-text-opacity, 1))}.hover\:text-purple-900:hover{--tw-text-opacity:1;color:rgb(88 28 135 / var(--tw-text-opacity, 1))}.hover\:text-red-700:hover{--tw-text-opacity:1;color:rgb(185 28 28 / var(--tw-text-opacity, 1))}.hover\:underline:hover{-webkit-text-decoration-line:underline;text-decoration-line:underline}.hover\:opacity-80:hover{opacity:0.8}.hover\:file\:bg-purple-100::file-selector-button:hover{--tw-bg-opacity:1;background-color:rgb(243 232 255 / var(--tw-bg-opacity, 1))}.focus\:border-purple-500:focus{--tw-border-opacity:1;border-color:rgb(168 85 247 / var(--tw-border-opacity, 1))}.focus\:border-gray-300:focus{--tw-border-opacity:1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1))}.focus\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\:ring-2:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}.focus\:ring-0:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}.focus\:ring-gray-400:focus{--tw-ring-opacity:1;--tw-ring-color:rgb(156 163 175 / var(--tw-ring-opacity, 1))}.focus\:ring-gray-500:focus{--tw-ring-opacity:1;--tw-ring-color:rgb(107 114 128 / var(--tw-ring-opacity, 1))}.focus\:ring-purple-500:focus{--tw-ring-opacity:1;--tw-ring-color:rgb(168 85 247 / var(--tw-ring-opacity, 1))}.focus\:ring-opacity-50:focus{--tw-ring-opacity:0.5}.focus\:ring-offset-2:focus{--tw-ring-offset-width:2px}.disabled\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\:text-gray-400:disabled{--tw-text-opacity:1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}@media (min-width: 640px){.sm\:mb-0{margin-bottom:0px}.sm\:inline{display:inline}.sm\:w-auto{width:auto}.sm\:flex-1{flex:1 1 0%}.sm\:grid-cols-2{grid-template-columns:repeat(2, minmax(0, 1fr))}.sm\:grid-cols-3{grid-template-columns:repeat(3, minmax(0, 1fr))}.sm\:flex-row{flex-direction:row}.sm\:text-sm{font-size:0.875rem;line-height:1.25rem}}@media (min-width: 768px){.md\:col-span-2{grid-column:span 2 / span 2}.md\:mb-0{margin-bottom:0px}.md\:ml-64{margin-left:16rem}.md\:ml-20{margin-left:5rem}.md\:block{display:block}.md\:flex{display:flex}.md\:hidden{display:none}.md\:w-1\/3{width:33.333333%}.md\:grid-cols-2{grid-template-columns:repeat(2, minmax(0, 1fr))}.md\:flex-row{flex-direction:row}.md\:items-center{align-items:center}.md\:p-6{padding:1.5rem}}@media (min-width: 1024px){.lg\:col-span-3{grid-column:span 3 / span 3}.lg\:grid-cols-3{grid-template-columns:repeat(3, minmax(0, 1fr))}.lg\:grid-cols-4{grid-template-columns:repeat(4, minmax(0, 1fr))}}@media print{.print\:block{display:block}.print\:hidden{display:none}}</style><link type="image/x-icon" rel="shortcut icon" href="uniben.png"><script src="https://login.remita.net/payment/v1/remita-pay-inline.bundle.js" async=""></script></head>
<body class="min-h-screen bg-gray-100"> <!-- Page background: light gray for a clean look -->

    <!-- Top Navigation Bar (visible on all screens, fixed at the top) -->
    <nav class="bg-white shadow-sm p-4 flex items-center justify-between sticky top-0 z-10 h-16">
        <div class="flex items-center">
            <!-- Mobile Menu Button (visible only on small screens, hidden on medium and larger) -->
            <button id="mobile-menu-button" class="md:hidden text-gray-500 focus:outline-none p-2 rounded-md hover:bg-gray-100 mr-3">
                <!-- Lucide Menu icon for mobile sidebar toggle -->
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu"><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg>
            </button>
            <!-- Desktop Sidebar Toggle Button (hidden on small screens, visible on medium and larger) -->
            <button id="desktop-sidebar-toggle" class="hidden md:block text-gray-500 focus:outline-none p-2 rounded-md hover:bg-gray-100 mr-3">
                <!-- Lucide Book Open icon for desktop sidebar collapse/expand -->
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-book-open"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path></svg>
            </button>
            <!-- Institution Logo -->
            <img id="institution-logo" src="uniben.png" alt="University of Benin Logo" class="h-8 w-8 rounded-full mr-2">
            <!-- Institution Name -->
            <h1 id="institution-name" class="text-xl font-bold text-gray-800">University of Benin</h1>
        </div>
        <div class="flex items-center space-x-3 relative">
            <!-- Notification Icon and Dropdown -->
            <div class="relative"> <button id="notification-button" class="flex items-center focus:outline-none p-1 rounded-md hover:bg-gray-100">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-bell"><path d="M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"></path><path d="M10.3 21a1.94 1.94 0 0 0 3.4 0"></path></svg>
                    <span id="notification-badge" class="absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold rounded-full h-4 w-4 flex items-center justify-center hidden">0</span>
                </button>
                <div id="notification-dropdown" class="absolute hidden bg-white shadow-lg rounded-md right-0 top-full mt-2 border border-gray-200 z-30 w-80">
                    <div class="px-4 py-2 text-gray-800 font-semibold border-b border-gray-100">Notifications</div>
                    <div id="notification-list-container"><p class="p-4 text-sm text-center text-gray-500">No new notifications.</p></div>
                    <div class="border-t border-gray-100"></div>
                    <a href="#" class="block px-4 py-2 text-purple-600 hover:bg-gray-100 text-sm text-center">View All Notifications</a>
                </div>
            </div>

            <!-- Student Avatar and Profile Dropdown Trigger -->
            <button id="student-profile-button" class="flex items-center focus:outline-none p-1 rounded-md hover:bg-gray-100">
                <img id="profile-avatar-img" src="/app/files/passport/B1152783.jpg" alt="Student Avatar" class="h-8 w-8 rounded-full object-cover border border-gray-200">
                <!-- Student name, hidden on very small screens for better mobile layout -->
                <span class="font-medium text-gray-800 text-sm ml-2 hidden sm:inline">Itebiye Caroline Ray</span>
                <!-- Chevron Down icon for dropdown indication -->
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-down text-gray-500 ml-1"><path d="m6 9 6 6 6-6"></path></svg>
            </button>
            <!-- Dropdown Menu -->
            <div id="profile-dropdown" class="absolute hidden bg-white shadow-lg rounded-md right-0 top-full mt-2 py-1 border border-gray-200 z-30 w-48">
                <a href="#" id="update-profile-link" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">
                    <!-- Lucide User Cog icon for profile settings -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-user-cog inline-block mr-2"><circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="10" r="3"></circle><path d="M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662"></path><path d="M15.5 9.5a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z"></path><path d="M17.5 12.5a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z"></path></svg>
                    Update Profile
                </a>
                <a href="#" id="change-password-link" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">
                    <!-- Lucide Lock icon for password change -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-lock inline-block mr-2"><rect width="18" height="11" x="3" y="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg>
                    Change Password
                </a>
                <div class="border-t border-gray-100 my-1"></div>
                <a href="#" id="sign-out-link" class="block px-4 py-2 text-red-600 hover:bg-red-50">
                    <!-- Lucide Log Out icon for signing out -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-log-out inline-block mr-2"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="17 17 22 12 17 7"></polyline><line x1="22" x2="10" y1="12" y2="12"></line></svg>
                    Sign Out
                </a>
            </div>
        </div>
    </nav>

    <!-- Sidebar Navigation -->
    <aside id="sidebar" class="fixed top-16 left-0 h-[calc(100vh-64px)] overflow-y-auto z-20 transition-all duration-300 ease-in-out bg-white shadow-lg md:flex flex-col w-64">
        <div class="p-6">
     <nav>
                <ul>
                    <li class="mb-3">
                        <!-- Dashboard Link -->
                        <a href="dashboard.html" data-page="dashboard" class="flex items-center hover:bg-purple-100 hover:text-purple-700 p-3 rounded-md transition duration-200 ease-in-out justify-start text-gray-700">
                            <svg class="sidebar-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="7" height="9" x="3" y="3" rx="1"></rect><rect width="7" height="5" x="14" y="3" rx="1"></rect><rect width="7" height="9" x="14" y="12" rx="1"></rect><rect width="7" height="5" x="3" y="16" rx="1"></rect></svg>
                            <span class="font-medium whitespace-nowrap transition-all duration-300 ml-3">Dashboard</span>
                        </a>
                    </li>
                    <li class="mb-3">
                        <!-- Academics Menu Toggle -->
                        <button id="academics-menu-toggle" class="flex items-center hover:bg-purple-100 hover:text-purple-700 p-3 rounded-md transition duration-200 ease-in-out justify-start bg-purple-100 text-purple-700">
                            <div class="flex items-center">
                                <svg class="sidebar-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path></svg>
                                <span class="ml-3 font-medium whitespace-nowrap transition-all duration-300">Academics</span>
                            </div>
                            <svg id="academics-chevron" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-down transition-transform duration-200 rotate-180"><path d="m6 9 6 6 6-6"></path></svg>
                        </button>
                        <!-- Academics Submenu (initially hidden) -->
                        <ul id="academics-submenu" class="ml-4 mt-2 space-y-2">
                            <li>
                                <a href="clearance.html" data-page="clearance" class="flex items-center hover:bg-purple-100 hover:text-purple-700 p-2 rounded-md transition duration-200 ease-in-out submenu-item justify-start text-gray-700">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-check-circle mr-2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><path d="m9 11 3 3L22 4"></path></svg>
                                    <span class="whitespace-nowrap ml-3">Clearance</span>
                                </a>
                            </li>
                            <li>
                                <a href="academic-record.html" data-page="academic-record" class="flex items-center hover:bg-purple-100 hover:text-purple-700 p-3 rounded-md transition duration-200 ease-in-out justify-start bg-purple-100 text-purple-700">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clipboard-list mr-2"><rect width="8" height="4" x="8" y="2" rx="1" ry="1"></rect><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><path d="M12 11h4"></path><path d="M12 15h4"></path><path d="M8 11h.01"></path><path d="M8 15h.01"></path></svg>
                                    <span class="whitespace-nowrap ml-3">Academic Record</span>
                                </a>
                            </li>
                            <li>
                                <a href="course-registration.html" data-page="course-registration" class="flex items-center hover:bg-purple-100 hover:text-purple-700 p-2 rounded-md transition duration-200 ease-in-out submenu-item justify-start text-gray-700">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-edit-3 mr-2"><path d="M12 20h9"></path><path d="M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z"></path></svg>
                                    <span class="whitespace-nowrap ml-3">Course Registration</span>
                                </a>
                            </li>
                            <li>
                                <a href="results.html" data-page="results" class="flex items-center hover:bg-purple-100 hover:text-purple-700 p-2 rounded-md transition duration-200 ease-in-out submenu-item justify-start text-gray-700">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-graduation-cap mr-2"><path d="M21.42 10.922a1 1 0 0 0-.019-1.838L12.211 4.3a1 1 0 0 0-.422 0L2.598 9.084a1 1 0 0 0-.019 1.838l8.596 4.091a2 2 0 0 0 1.666 0Z"></path><path d="M22 10v6"></path><path d="M6 10v6.5"></path><path d="M2.35 14.532l8.463 4.036a2 2 0 0 0 1.666 0l8.463-4.036"></path></svg>
                                    <span class="whitespace-nowrap ml-3">Results</span>
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li class="mb-3">
                        <button id="hostel-menu-toggle" class="flex items-center justify-between w-full text-gray-700 hover:bg-purple-100 hover:text-purple-700 p-3 rounded-md transition duration-200 ease-in-out focus:outline-none">
                            <div class="flex items-center">
                                <svg class="sidebar-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="16" height="20" x="4" y="2" rx="2" ry="2"></rect><path d="M9 22v-4h6v4"></path><path d="M8 6h.01"></path><path d="M16 6h.01"></path><path d="M12 6h.01"></path><path d="M12 10h.01"></path><path d="M12 14h.01"></path><path d="M16 10h.01"></path><path d="M16 14h.01"></path><path d="M8 10h.01"></path><path d="M8 14h.01"></path></svg>
                                <span class="ml-3 font-medium whitespace-nowrap transition-all duration-300">Hostel</span>
                            </div>
                            <svg id="hostel-chevron" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-down transition-transform duration-200 rotate-180"><path d="m6 9 6 6 6-6"></path></svg>
                        </button>
                        <ul id="hostel-submenu" class="ml-4 mt-2 space-y-2">
                            <li>
                                <a href="#hostel-information" data-page="hostel-information" class="flex items-center hover:bg-purple-100 hover:text-purple-700 p-2 rounded-md transition duration-200 ease-in-out submenu-item justify-start text-gray-700">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-info mr-2"><circle cx="12" cy="12" r="10"></circle><path d="M12 16v-4"></path><path d="M12 8h.01"></path></svg>
                                    <span class="whitespace-nowrap ml-3">Hostel Information</span>
                                </a>
                            </li>
                            <li>
                                <a href="#hostel-application" data-page="hostel-application" class="flex items-center hover:bg-purple-100 hover:text-purple-700 p-2 rounded-md transition duration-200 ease-in-out submenu-item justify-start text-gray-700">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-file-pen-line mr-2"><path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"></path><path d="M15 5h-3"></path><path d="M15 8h-3"></path></svg>
                                    <span class="whitespace-nowrap ml-3">Hostel Application</span>
                                </a>
                            </li>
                            <li>
                                <a href="#hostel-history" data-page="hostel-history" class="flex items-center hover:bg-purple-100 hover:text-purple-700 p-2 rounded-md transition duration-200 ease-in-out submenu-item justify-start text-gray-700">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-history mr-2"><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg>
                                    <span class="whitespace-nowrap ml-3">Allocation Record</span>
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li class="mb-3">
                        <a href="#payment" data-page="payment" class="flex items-center hover:bg-purple-100 hover:text-purple-700 p-3 rounded-md transition duration-200 ease-in-out justify-start text-gray-700">
                            <svg class="sidebar-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="20" height="14" x="2" y="5" rx="2"></rect><line x1="2" x2="22" y1="10" y2="10"></line></svg>
                            <span class="font-medium whitespace-nowrap transition-all duration-300 ml-3">Payment</span>
                        </a>
                    </li>
                    <li class="mb-3 hidden">
                        <a href="#student-loan" data-page="student-loan" class="flex items-center text-gray-700 hover:bg-purple-100 hover:text-purple-700 p-3 rounded-md transition duration-200 ease-in-out justify-start">
                            <svg class="sidebar-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h12a2 2 0 0 1 0 4H5a2 2 0 0 0 0 4h12a2 2 0 0 1 0 4H5a2 2 0 0 0 0 4v-3"></path><path d="M22 7h-7"></path></svg>
                            <span class="font-medium whitespace-nowrap transition-all duration-300 ml-3">Student Loan</span>
                        </a>
                    </li>
                    <li class="mb-3 hidden">
                        <a href="#message" data-page="message" class="flex items-center text-gray-700 hover:bg-purple-100 hover:text-purple-700 p-3 rounded-md transition duration-200 ease-in-out justify-start">
                            <svg class="sidebar-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V3a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg>
                            <span class="font-medium whitespace-nowrap transition-all duration-300 ml-3">Message</span>
                        </a>
                    </li>
                    <li class="mb-3">
                        <a href="#help" data-page="help" class="flex items-center hover:bg-purple-100 hover:text-purple-700 p-3 rounded-md transition duration-200 ease-in-out justify-start text-gray-700">
                            <svg class="sidebar-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path><path d="M12 17h.01"></path></svg>
                            <span class="font-medium whitespace-nowrap transition-all duration-300 ml-3">Help</span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </aside>

    <!-- Main Content Area - This will house all dynamic page content -->
    <div id="main-content" class="p-4 md:p-6 transition-all duration-300 ease-in-out pt-20 md:ml-64">

        <!-- Dashboard Content Section -->
        <div id="dashboard-content" class="page-content hidden">
            <header class="flex flex-col md:flex-row items-start md:items-center justify-between mb-4">
                <h2 class="text-3xl font-semibold text-gray-800 mb-2 md:mb-0">Dashboard</h2>
                <!-- Academic Session Display -->
                <div class="flex items-center">
                    <span class="bg-purple-100 text-purple-800 text-sm font-semibold px-3 py-1 rounded-full shadow-sm">Academic Session: 2025/2026</span>
                </div>
            </header>

            <!-- Greeting and Basic Student Information Card -->
            <div class="mb-6 bg-white p-6 rounded-lg shadow-md border border-gray-200">
                <h3 class="text-2xl font-semibold text-gray-800 mb-2">Welcome, Itebiye Caroline Ray!</h3>
                <p class="text-gray-600">Student ID: <span class="font-medium text-purple-600">B1152783</span></p>
            </div>

            <!-- Content Cards/Sections Grid -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Academic Information Card -->
                <div class="bg-white p-6 rounded-lg shadow-md border border-gray-200">
                    <h3 class="text-xl font-semibold text-gray-800 mb-4 flex items-center">
                        <!-- Lucide Info icon -->
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-info text-purple-600 mr-2"><circle cx="12" cy="12" r="10"></circle><path d="M12 16v-4"></path><path d="M12 8h.01"></path></svg>
                        Academic Information
                    </h3>
                    <div id="academic-info-loader" class="text-gray-600 space-y-2">
                        <p><span class="font-medium text-gray-700">Faculty:</span> Engineering</p>
                        <p><span class="font-medium text-gray-700">Department:</span> Industrial Engineering</p>
                        <p><span class="font-medium text-gray-700">Degree Program:</span> BEng. Industrial Engineering</p>
                        <p><span class="font-medium text-gray-700">Current GPA:</span> 0.00</p>
                        <p><span class="font-medium text-gray-700">Expected Graduation:</span> 2026</p>
                    </div>
                    <!-- Button to view full academic record, now triggers page switch -->
                    <button id="dashboard-academic-record-btn" class="mt-4 btn-purple text-white py-2 px-4 rounded-md shadow-md transition duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50">
                        View Full Academic Record
                    </button>
                </div>

                <!-- Upcoming Events Card -->
                <div class="bg-white p-6 rounded-lg shadow-md border border-gray-200">
                    <h3 class="text-xl font-semibold text-gray-800 mb-4 flex items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-calendar-check text-purple-600 mr-2"><rect width="18" height="18" x="3" y="4" rx="2" ry="2"></rect><line x1="16" x2="16" y1="2" y2="6"></line><line x1="8" x2="8" y1="2" y2="6"></line><line x1="3" x2="21" y1="10" y2="10"></line><path d="m9 16 2 2 4-4"></path></svg>
                        Upcoming Events
                    </h3>
                    <!-- NEW: Dynamic list container -->
                    <div id="upcoming-events-container"><ul class="text-gray-600 space-y-2"><li><span class="font-medium text-gray-700">Mar 6:</span> Lecture Ends </li><li><span class="font-medium text-gray-700">Mar 9:</span> Revision Week </li><li><span class="font-medium text-gray-700">Mar 16:</span> Examinations begin in Faculties of Education, Engineering,  Environmental Sciences, Life Sciences, Pharmacy, Physical  Sciences and School of Basic Medical Sciences</li></ul></div>
                </div>

                <!-- Announcements Card -->
                <div class="bg-white p-6 rounded-lg shadow-md border border-gray-200">
                    <h3 class="text-xl font-semibold text-gray-800 mb-4 flex items-center">
                        Latest Announcements
                    </h3>
                    <ul id="latest-announcements-list" class="text-gray-600 space-y-3"><li>
                        <span class="font-bold text-gray-800">Candidates offered provisional admission are to pay their medical screening fees at the UNIBEN Microfinance Bank:</span> 
                        All newly admitted students are required to pay their health screening fees into the UNIBEN MICROFINANCE BANK, the details of... 
                        
                            <button class="read-more-announcement text-purple-600 hover:underline font-medium text-sm ml-1" data-title="Candidates offered provisional admission are to pay their medical screening fees at the UNIBEN Microfinance Bank" data-full-message="All newly admitted students are required to pay their health screening fees into the UNIBEN MICROFINANCE BANK, the details of the Account are given below;

	Account Name: Health Services Development Account
	Account Number: 1100093336

No student should pay the Health Screening Fee into REMITA, please.

Thank you.

Signed
Management


">
                                Read more
                            </button>
                        
                    </li></ul>
                </div>

                <!-- Student Event Calendar Card -->
                <div class="bg-white p-6 rounded-lg shadow-md border border-gray-200 lg:col-span-3">
                    <h3 class="text-xl font-semibold text-gray-800 mb-4 flex items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-calendar text-purple-600 mr-2"><rect width="18" height="18" x="3" y="4" rx="2" ry="2"></rect><line x1="16" x2="16" y1="2" y2="6"></line><line x1="8" x2="8" y1="2" y2="6"></line><line x1="3" x2="21" y1="10" y2="10"></line></svg>
                        Student Event Calendar
                    </h3>
                    <div class="overflow-x-auto">
                        <table class="min-w-full bg-white border border-gray-200 rounded-md">
                            <thead>
                                <tr class="bg-gray-50 text-left text-gray-600 uppercase text-sm leading-normal">
                                    <th class="py-3 px-6 border-b border-gray-200">Date</th>
                                    <th class="py-3 px-6 border-b border-gray-200">Event</th>
                                    <th class="py-3 px-6 border-b border-gray-200">Location</th>
                                </tr>
                            </thead>
                            <!-- NEW: Dynamic table body with a loading state -->
                            <tbody id="event-calendar-table-body" class="text-gray-700 text-sm font-light">
                        <tr class="border-b border-gray-200 hover:bg-gray-50">
                            <td class="py-3 px-6 whitespace-nowrap">2025-11-10</td>
                            <td class="py-3 px-6">Commencement of Online Clearance/Registration of newly  admitted students for the 2025/2026 Academic Session </td>
                            <td class="py-3 px-6"></td>
                        </tr>
                    
                        <tr class="border-b border-gray-200 hover:bg-gray-50">
                            <td class="py-3 px-6 whitespace-nowrap">2025-11-24</td>
                            <td class="py-3 px-6">Lectures begin in all Faculties</td>
                            <td class="py-3 px-6"></td>
                        </tr>
                    
                        <tr class="border-b border-gray-200 hover:bg-gray-50">
                            <td class="py-3 px-6 whitespace-nowrap">2026-03-06</td>
                            <td class="py-3 px-6">Lecture Ends </td>
                            <td class="py-3 px-6"></td>
                        </tr>
                    
                        <tr class="border-b border-gray-200 hover:bg-gray-50">
                            <td class="py-3 px-6 whitespace-nowrap">2026-01-26</td>
                            <td class="py-3 px-6"> Orientation for New Students </td>
                            <td class="py-3 px-6"></td>
                        </tr>
                    
                        <tr class="border-b border-gray-200 hover:bg-gray-50">
                            <td class="py-3 px-6 whitespace-nowrap">2026-01-28</td>
                            <td class="py-3 px-6">Matriculation Ceremony</td>
                            <td class="py-3 px-6"></td>
                        </tr>
                    
                        <tr class="border-b border-gray-200 hover:bg-gray-50">
                            <td class="py-3 px-6 whitespace-nowrap">2026-03-09</td>
                            <td class="py-3 px-6">Revision Week </td>
                            <td class="py-3 px-6"></td>
                        </tr>
                    
                        <tr class="border-b border-gray-200 hover:bg-gray-50">
                            <td class="py-3 px-6 whitespace-nowrap">2026-03-16</td>
                            <td class="py-3 px-6">Examinations begin in Faculties of Education, Engineering,  Environmental Sciences, Life Sciences, Pharmacy, Physical  Sciences and School of Basic Medical Sciences</td>
                            <td class="py-3 px-6"></td>
                        </tr>
                    
                        <tr class="border-b border-gray-200 hover:bg-gray-50">
                            <td class="py-3 px-6 whitespace-nowrap">2026-03-21</td>
                            <td class="py-3 px-6">CED Examinations </td>
                            <td class="py-3 px-6"></td>
                        </tr>
                    
                        <tr class="border-b border-gray-200 hover:bg-gray-50">
                            <td class="py-3 px-6 whitespace-nowrap">2026-03-23</td>
                            <td class="py-3 px-6">Examinations in other Faculties/Schools/Institutes</td>
                            <td class="py-3 px-6"></td>
                        </tr>
                    
                        <tr class="border-b border-gray-200 hover:bg-gray-50">
                            <td class="py-3 px-6 whitespace-nowrap">2026-04-03</td>
                            <td class="py-3 px-6">GST Examinations </td>
                            <td class="py-3 px-6"></td>
                        </tr>
                    
                        <tr class="border-b border-gray-200 hover:bg-gray-50">
                            <td class="py-3 px-6 whitespace-nowrap">2026-04-05</td>
                            <td class="py-3 px-6">First Semester Break/Students Vacate Hostels (2 Weeks)</td>
                            <td class="py-3 px-6"></td>
                        </tr>
                    
                        <tr class="border-b border-gray-200 hover:bg-gray-50">
                            <td class="py-3 px-6 whitespace-nowrap">2026-04-19</td>
                            <td class="py-3 px-6">Students return to Hostels </td>
                            <td class="py-3 px-6"></td>
                        </tr>
                    
                        <tr class="border-b border-gray-200 hover:bg-gray-50">
                            <td class="py-3 px-6 whitespace-nowrap">2026-04-20</td>
                            <td class="py-3 px-6">Lectures Begin in all Faculties</td>
                            <td class="py-3 px-6"></td>
                        </tr>
                    
                        <tr class="border-b border-gray-200 hover:bg-gray-50">
                            <td class="py-3 px-6 whitespace-nowrap">2026-07-31</td>
                            <td class="py-3 px-6">Second Semester Lecture Ends in all Faculties </td>
                            <td class="py-3 px-6"></td>
                        </tr>
                    
                        <tr class="border-b border-gray-200 hover:bg-gray-50">
                            <td class="py-3 px-6 whitespace-nowrap">2026-08-03</td>
                            <td class="py-3 px-6">Revision Week</td>
                            <td class="py-3 px-6"></td>
                        </tr>
                    
                        <tr class="border-b border-gray-200 hover:bg-gray-50">
                            <td class="py-3 px-6 whitespace-nowrap">2026-08-10</td>
                            <td class="py-3 px-6">Examinations begin in Faculties of Education, Engineering,  Environmental Sciences, Life Sciences, Pharmacy, Physical  Sciences, School of Basic Medical Sciences and Department  of Theatre Arts/Music </td>
                            <td class="py-3 px-6"></td>
                        </tr>
                    
                        <tr class="border-b border-gray-200 hover:bg-gray-50">
                            <td class="py-3 px-6 whitespace-nowrap">2026-08-15</td>
                            <td class="py-3 px-6">CED Examinations</td>
                            <td class="py-3 px-6"></td>
                        </tr>
                    
                        <tr class="border-b border-gray-200 hover:bg-gray-50">
                            <td class="py-3 px-6 whitespace-nowrap">2026-08-17</td>
                            <td class="py-3 px-6">Examinations begin in other Faculties/Schools/Institutes</td>
                            <td class="py-3 px-6"></td>
                        </tr>
                    
                        <tr class="border-b border-gray-200 hover:bg-gray-50">
                            <td class="py-3 px-6 whitespace-nowrap">2026-08-28</td>
                            <td class="py-3 px-6">GST Examinations</td>
                            <td class="py-3 px-6"></td>
                        </tr>
                    
                        <tr class="border-b border-gray-200 hover:bg-gray-50">
                            <td class="py-3 px-6 whitespace-nowrap">2026-08-30</td>
                            <td class="py-3 px-6">Students go on End of Session Holiday (4 weeks)</td>
                            <td class="py-3 px-6"></td>
                        </tr>
                    
                        <tr class="border-b border-gray-200 hover:bg-gray-50">
                            <td class="py-3 px-6 whitespace-nowrap">2026-09-14</td>
                            <td class="py-3 px-6">Departmental Boards of Examiners Consider  Results/Release of Provisional Results</td>
                            <td class="py-3 px-6"></td>
                        </tr>
                    
                        <tr class="border-b border-gray-200 hover:bg-gray-50">
                            <td class="py-3 px-6 whitespace-nowrap">2026-09-21</td>
                            <td class="py-3 px-6">Faculty Boards of Studies Consider Results </td>
                            <td class="py-3 px-6"></td>
                        </tr>
                    
                        <tr class="border-b border-gray-200 hover:bg-gray-50">
                            <td class="py-3 px-6 whitespace-nowrap">2026-09-28</td>
                            <td class="py-3 px-6">Senate Consider Results for 2024/2025 graduating students</td>
                            <td class="py-3 px-6"></td>
                        </tr>
                    
                        <tr class="border-b border-gray-200 hover:bg-gray-50">
                            <td class="py-3 px-6 whitespace-nowrap">2026-10-05</td>
                            <td class="py-3 px-6">Business Committees of Senate Consider Results/Release of  Results for lower levels</td>
                            <td class="py-3 px-6"></td>
                        </tr>
                    
                        <tr class="border-b border-gray-200 hover:bg-gray-50">
                            <td class="py-3 px-6 whitespace-nowrap">2026-10-05</td>
                            <td class="py-3 px-6">Commencement of Online Clearance/Registration of newly  admitted students for the 2025/2026 Academic Session</td>
                            <td class="py-3 px-6"></td>
                        </tr>
                    </tbody>
                        </table>
                    </div>
                    <button id="dashboard-view-full-calendar-btn" class="mt-4 btn-purple text-white py-2 px-4 rounded-md shadow-md transition duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50">
                        View Full Calendar
                    </button>
                </div>
            </div>

            <!-- Quick Links Section -->
            <div class="mt-8 bg-white p-6 rounded-lg shadow-md border border-gray-200">
                <h3 class="text-xl font-semibold text-gray-800 mb-4">Quick Links</h3>
                <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4">
                    <a href="#" id="quick-link-course-catalog" class="hidden block text-center bg-gray-50 hover:bg-gray-100 p-4 rounded-md transition duration-200 ease-in-out text-gray-700 border border-gray-200">Course Catalog</a>
                    <a href="#" id="quick-link-academic-calendar" class="block text-center bg-gray-50 hover:bg-gray-100 p-4 rounded-md transition duration-200 ease-in-out text-gray-700 border border-gray-200">Academic Calendar</a>
                    <a href="#" id="quick-link-student-handbook" class="block text-center bg-gray-50 hover:bg-gray-100 p-4 rounded-md transition duration-200 ease-in-out text-gray-700 border border-gray-200">Student Handbook</a>
                    <a href="#" id="quick-link-contact-support" class="block text-center bg-gray-50 hover:bg-gray-100 p-4 rounded-md transition duration-200 ease-in-out text-gray-700 border border-gray-200">Contact Support</a>
                </div>
            </div>
        </div>

        <!-- Clearance Content Section -->
        <div id="clearance-content" class="page-content hidden">
            <header class="flex flex-col md:flex-row items-start md:items-center justify-between mb-4">
                <h2 class="text-3xl font-semibold text-gray-800 mb-2 md:mb-0">Clearance Status</h2>
            </header>

            <!-- Pending Clearance View (Default, editable form) -->
            <div id="pending-clearance-view" class="clearance-view hidden">
                <div class="bg-white p-6 rounded-lg shadow-md border border-gray-200 mb-6 max-w-4xl mx-auto">
                    <p class="text-gray-700 mb-6" id="clearance-status-message">
                        Please update your clearance information in the tabs below.
                    </p>

                    <!-- Tab Navigation -->
                    <div class="flex border-b border-gray-200 mb-6" id="clearance-tab-navigation">
                        <button class="tab-button py-2 px-4 text-gray-600 hover:text-purple-700 focus:outline-none opacity-60 cursor-not-allowed" data-tab="profile" data-tab-index="0" disabled="">
                            Profile
                        </button>
                        <button class="tab-button py-2 px-4 text-gray-600 hover:text-purple-700 focus:outline-none opacity-60 cursor-not-allowed" data-tab="academic" data-tab-index="1" disabled="">
                            Academic Qualifications
                        </button>
                        <button class="tab-button py-2 px-4 text-gray-600 hover:text-purple-700 focus:outline-none opacity-60 cursor-not-allowed" data-tab="documents" data-tab-index="2" disabled="">
                            Document Upload
                        </button>
                        <button class="tab-button py-2 px-4 text-gray-600 hover:text-purple-700 focus:outline-none opacity-60 cursor-not-allowed" data-tab="declaration" data-tab-index="3" disabled="">
                            Declaration
                        </button>
                    </div>

                    <!-- Tab Content -->
                    <form id="clearance-update-form" class="space-y-8" novalidate="">
                        <!-- Profile Tab Content -->
                        <div id="profile-tab" class="tab-content">
                            <h3 class="text-xl font-semibold text-gray-800 mb-4 flex items-center">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-user mr-2"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>
                                Student Profile
                            </h3>
                            <p class="text-gray-600 mb-4">Update your personal details below.</p>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <!-- Passport Upload Field - Now editable -->
                                <div class="md:col-span-2 flex flex-col items-center">
                                    <label for="passport-upload" class="block text-sm font-medium text-gray-700 mb-1">Passport Photograph (JPG, &lt; 50KB, red background)</label>
                                    <input type="file" id="passport-upload" name="passport-upload" accept="image/jpeg" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm opacity-60 cursor-not-allowed" disabled="">
                                    <div class="mt-2 flex justify-center items-center p-2 border border-gray-300 rounded-md bg-gray-50 w-32 h-32 overflow-hidden">
                                        <img id="passport-preview" src="/app/files/passport/B1152783.jpg" alt="Passport Preview" class="w-full h-full object-contain rounded-md">
                                    </div>
                                    <p id="passport-error" class="text-red-500 text-xs mt-1 hidden">Error message</p>
                                </div>
                                <div>
                                    <label for="first-name" class="block text-sm font-medium text-gray-700 mb-1">First Name</label>
                                    <input type="text" id="first-name" name="first-name" value="John" required="" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none sm:text-sm bg-gray-100 cursor-not-allowed focus:ring-0 focus:border-gray-300 opacity-60" readonly="" disabled="">
                                </div>
                                <div>
                                    <label for="middle-name" class="block text-sm font-medium text-gray-700 mb-1">Middle Name (Optional)</label>
                                    <input type="text" id="middle-name" name="middle-name" value="" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none sm:text-sm bg-gray-100 cursor-not-allowed focus:ring-0 focus:border-gray-300 opacity-60" readonly="" disabled="">
                                </div>
                                <div>
                                    <label for="last-name" class="block text-sm font-medium text-gray-700 mb-1">Last Name</label>
                                    <input type="text" id="last-name" name="last-name" value="Doe" required="" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none sm:text-sm bg-gray-100 cursor-not-allowed focus:ring-0 focus:border-gray-300 opacity-60" readonly="" disabled="">
                                </div>
                                <div>
                                    <label for="date-of-birth" class="block text-sm font-medium text-gray-700 mb-1">Date of Birth</label>
                                    <input type="date" id="date-of-birth" name="date-of-birth" value="2000-01-15" required="" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm opacity-60 cursor-not-allowed" disabled="">
                                </div>
                                <div>
                                    <label for="gender" class="block text-sm font-medium text-gray-700 mb-1">Gender</label>
                                    <input type="text" id="gender" name="gender" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none sm:text-sm bg-gray-100 cursor-not-allowed focus:ring-0 focus:border-gray-300 opacity-60" readonly="" disabled="">
                                </div>
                                <div>
                                    <label for="marital-status" class="block text-sm font-medium text-gray-700 mb-1">Marital Status</label>
                                    <select id="marital-status" name="marital-status" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm opacity-60 cursor-not-allowed" disabled="">
                                        <option value="Single" selected="">Single</option>
                                        <option value="Married">Married</option>
                                        <option value="Divorced">Divorced</option>
                                        <option value="Widowed">Widowed</option>
                                    </select>
                                </div>
                                <div>
                                    <label for="nationality" class="block text-sm font-medium text-gray-700 mb-1">Nationality</label>
                                    <input type="text" id="nationality" name="nationality" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none sm:text-sm bg-gray-100 cursor-not-allowed focus:ring-0 focus:border-gray-300 opacity-60" readonly="" disabled="">
                                </div>
                                <div>
                                    <label for="state-of-origin" class="block text-sm font-medium text-gray-700 mb-1">State of Origin</label>
                                    <input type="text" id="state-of-origin" name="state-of-origin" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none sm:text-sm bg-gray-100 cursor-not-allowed focus:ring-0 focus:border-gray-300 opacity-60" readonly="" disabled="">
                                </div>
                                <div>
                                    <label for="lga-of-origin" class="block text-sm font-medium text-gray-700 mb-1">LGA of Origin</label>
                                    <input type="text" id="lga-of-origin" name="lga-of-origin" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none sm:text-sm bg-gray-100 cursor-not-allowed focus:ring-0 focus:border-gray-300 opacity-60" readonly="" disabled="">
                                </div>
                                <div>
                                    <label for="home-town" class="block text-sm font-medium text-gray-700 mb-1">Home Town</label>
                                    <input type="text" id="home-town" name="home-town" value="" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm opacity-60 cursor-not-allowed" disabled="">
                                </div>
                                <!-- Contact Information Section - Moved here for better flow within Profile tab -->
                                <div class="md:col-span-2 border-t border-gray-200 pt-6 mt-6">
                                    <h3 class="text-xl font-semibold text-gray-800 mb-4 flex items-center">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-contact mr-2"><path d="M17 18a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2"></path><rect width="18" height="18" x="3" y="3" rx="2"></rect><circle cx="12" cy="10" r="2"></circle></svg>
                                        Contact Information
                                    </h3>
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                        <div>
                                            <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email Address</label>
                                            <input type="email" id="email" name="email" value="john.doe@example.com" required="" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm opacity-60 cursor-not-allowed" disabled="">
                                        </div>
                                        <div>
                                            <label for="phone" class="block text-sm font-medium text-gray-700 mb-1">Phone Number</label>
                                            <input type="tel" id="phone" name="phone" value="+2348012345678" required="" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm opacity-60 cursor-not-allowed" disabled="">
                                        </div>
                                        <div class="md:col-span-2">
                                            <label for="address" class="block text-sm font-medium text-gray-700 mb-1">Residential Address</label>
                                            <textarea id="address" name="address" rows="3" required="" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm opacity-60 cursor-not-allowed" disabled="">123 University Road, City, State</textarea>
                                        </div>
                                    </div>
                                </div>
                                <!-- Sponsor Information Section - Moved here -->
                                <div class="md:col-span-2 border-t border-gray-200 pt-6 mt-6">
                                    <h3 class="text-xl font-semibold text-gray-800 mb-4 flex items-center">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-briefcase-business mr-2"><path d="M12 12h.01"></path><path d="M16 6V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v2"></path><path d="M22 13a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1v-6Z"></path><path d="M12 12V6"></path></svg>
                                    Sponsor Information
                                    </h3>
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                        <div>
                                            <label for="sponsor-name" class="block text-sm font-medium text-gray-700 mb-1">Sponsor's Full Name</label>
                                            <input type="text" id="sponsor-name" name="sponsor-name" value="Jane Doe" required="" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm opacity-60 cursor-not-allowed" disabled="">
                                        </div>
                                        <div>
                                            <label for="sponsor-relationship" class="block text-sm font-medium text-gray-700 mb-1">Relationship to Sponsor</label>
                                            <input type="text" id="sponsor-relationship" name="sponsor-relationship" value="Mother" required="" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm opacity-60 cursor-not-allowed" disabled="">
                                        </div>
                                        <div>
                                            <label for="sponsor-phone" class="block text-sm font-medium text-gray-700 mb-1">Sponsor's Phone Number</label>
                                            <input type="tel" id="sponsor-phone" name="sponsor-phone" value="+2348098765432" required="" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm opacity-60 cursor-not-allowed" disabled="">
                                        </div>
                                        <div>
                                            <label for="sponsor-email" class="block text-sm font-medium text-gray-700 mb-1">Sponsor's Email (Optional)</label>
                                            <input type="email" id="sponsor-email" name="sponsor-email" value="jane.doe@example.com" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm opacity-60 cursor-not-allowed" disabled="">
                                        </div>
                                    </div>
                                </div>
                                <!-- Next of Kin Section - Moved here -->
                                <div class="md:col-span-2 border-t border-gray-200 pt-6 mt-6">
                                    <h3 class="text-xl font-semibold text-gray-800 mb-4 flex items-center">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-users mr-2"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M22 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>
                                        Next of Kin
                                    </h3>
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                        <div>
                                            <label for="nok-name" class="block text-sm font-medium text-gray-700 mb-1">Next of Kin's Full Name</label>
                                            <input type="text" id="nok-name" name="nok-name" value="Peter Doe" required="" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm opacity-60 cursor-not-allowed" disabled="">
                                        </div>
                                        <div>
                                            <label for="nok-relationship" class="block text-sm font-medium text-gray-700 mb-1">Relationship to Next of Kin</label>
                                            <input type="text" id="nok-relationship" name="nok-relationship" value="Father" required="" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm opacity-60 cursor-not-allowed" disabled="">
                                        </div>
                                        <div>
                                            <label for="nok-phone" class="block text-sm font-medium text-gray-700 mb-1">Next of Kin's Phone Number</label>
                                            <input type="tel" id="nok-phone" name="nok-phone" value="+2348034567890" required="" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm opacity-60 cursor-not-allowed" disabled="">
                                        </div>
                                        <div>
                                            <label for="nok-address" class="block text-sm font-medium text-gray-700 mb-1">Next of Kin's Address</label>
                                            <textarea id="nok-address" name="nok-address" rows="2" required="" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm opacity-60 cursor-not-allowed" disabled="">456 Family Lane, Town, State</textarea>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="flex justify-end mt-6">
                                <button type="button" id="profile-next-btn" class="btn-purple text-white py-2 px-4 rounded-md font-semibold focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 opacity-60 cursor-not-allowed" disabled="">
                                    Next <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-right inline-block ml-2"><path d="M5 12h14"></path><path d="m12 5 7 7-7 7"></path></svg>
                                </button>
                            </div>
                        </div>

                        <!-- Academic Qualifications Tab Content -->
                        <div id="academic-tab" class="tab-content">
                            <h3 class="text-xl font-semibold text-gray-800 mb-4 flex items-center">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-graduation-cap mr-2"><path d="M21.42 10.922a1 1 0 0 0-.019-1.838L12.922 4.3a1 1 0 0 0-.923 0L2.597 9.084a1 1 0 0 0-.019 1.838l8.484 4.649a1 1 0 0 0 .923 0z"></path><path d="M12 14.5V21"></path><path d="M5 12.5V19"></path><path d="M19 12.5V19"></path></svg>
                                Academic Qualifications
                            </h3>
                            <p class="text-gray-600 mb-4">Please provide details of your O'Level, Advanced Level, and Higher Education results. You must provide at least one qualification.</p>

                            <!-- First Sitting (O'Level - Optional) -->
                            <div id="first-sitting-section" class="bg-gray-50 p-4 rounded-md border border-gray-200 mb-6 hidden">
                                <h4 class="text-lg font-semibold text-gray-800 mb-4 flex items-center justify-between">
                                    First Sitting (O'Level)
                                    <button type="button" id="remove-first-sitting" class="text-red-500 hover:text-red-700 text-sm font-medium opacity-60 cursor-not-allowed" disabled="">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x-circle inline-block mr-1"><circle cx="12" cy="12" r="10"></circle><path d="m15 9-6 6"></path><path d="m9 9 6 6"></path></svg>
                                        Remove
                                    </button>
                                </h4>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                                    <div>
                                        <label for="first-sitting-exam-type" class="block text-sm font-medium text-gray-700 mb-1">Exam Type</label>
                                        <select id="first-sitting-exam-type" name="first-sitting-exam-type" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm opacity-60 cursor-not-allowed" disabled="">
                                            <option value="">Select Exam Type</option>
                                            <option value="WAEC">WAEC</option>
                                            <option value="NECO">NECO</option>
                                            <option value="NABTEB">NABTEB</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label for="first-sitting-exam-number" class="block text-sm font-medium text-gray-700 mb-1">Exam Number</label>
                                        <input type="text" id="first-sitting-exam-number" name="first-sitting-exam-number" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm opacity-60 cursor-not-allowed" placeholder="e.g., 1234567890" disabled="">
                                    </div>
                                    <div>
                                        <label for="first-sitting-exam-date" class="block text-sm font-medium text-gray-700 mb-1">Exam Date</label>
                                        <input type="date" id="first-sitting-exam-date" name="first-sitting-exam-date" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm opacity-60 cursor-not-allowed" disabled="">
                                    </div>
                                </div>
                                <div id="first-sitting-subjects-container" class="space-y-3 mb-4 border p-3 rounded-md bg-white">
                                    <p class="text-sm font-medium text-gray-700 mb-2">Subjects and Grades:</p>
                                    <!-- Subject/Grade entries will be added here by JS -->
                                </div>
                                <button type="button" id="add-first-sitting-subject" class="inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 opacity-60 cursor-not-allowed" disabled="">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-plus mr-1"><path d="M12 5v14"></path><path d="M5 12h14"></path></svg>
                                    Add Subject
                                </button>
                            </div>

                            <button type="button" id="add-first-sitting-btn" class="inline-flex items-center px-4 py-2 border border-dashed border-gray-400 text-sm font-medium rounded-md text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 mb-4 opacity-60 cursor-not-allowed" disabled="">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-file-plus-2 mr-2"><path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"></path><path d="M14 2v4a2 2 0 0 0 2 2h4"></path><path d="M9 15h6"></path><path d="M12 12v6"></path></svg>
                                Add First Sitting (O'Level)
                            </button>

                            <!-- Second Sitting (O'Level - Optional) -->
                            <div id="second-sitting-section" class="bg-gray-50 p-4 rounded-md border border-gray-200 mb-6 hidden">
                                <h4 class="text-lg font-semibold text-gray-800 mb-4 flex items-center justify-between">
                                    Second Sitting (O'Level)
                                    <button type="button" id="remove-second-sitting" class="text-red-500 hover:text-red-700 text-sm font-medium opacity-60 cursor-not-allowed" disabled="">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x-circle inline-block mr-1"><circle cx="12" cy="12" r="10"></circle><path d="m15 9-6 6"></path><path d="m9 9 6 6"></path></svg>
                                        Remove
                                    </button>
                                </h4>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                                    <div>
                                        <label for="second-sitting-exam-type" class="block text-sm font-medium text-gray-700 mb-1">Exam Type</label>
                                        <select id="second-sitting-exam-type" name="second-sitting-exam-type" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm opacity-60 cursor-not-allowed" disabled="">
                                            <option value="">Select Exam Type</option>
                                            <option value="WAEC">WAEC</option>
                                            <option value="NECO">NECO</option>
                                            <option value="NABTEB">NABTEB</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label for="second-sitting-exam-number" class="block text-sm font-medium text-gray-700 mb-1">Exam Number</label>
                                        <input type="text" id="second-sitting-exam-number" name="second-sitting-exam-number" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm opacity-60 cursor-not-allowed" placeholder="e.g., 0987654321" disabled="">
                                    </div>
                                    <div>
                                        <label for="second-sitting-exam-date" class="block text-sm font-medium text-gray-700 mb-1">Exam Date</label>
                                        <input type="date" id="second-sitting-exam-date" name="second-sitting-exam-date" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm opacity-60 cursor-not-allowed" disabled="">
                                    </div>
                                </div>
                                <div id="second-sitting-subjects-container" class="space-y-3 mb-4 border p-3 rounded-md bg-white">
                                    <p class="text-sm font-medium text-gray-700 mb-2">Subjects and Grades:</p>
                                    <!-- Subject/Grade entries will be added here by JS -->
                                </div>
                                <button type="button" id="add-second-sitting-subject" class="inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 opacity-60 cursor-not-allowed" disabled="">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-plus mr-1"><path d="M12 5v14"></path><path d="M5 12h14"></path></svg>
                                    Add Subject
                                </button>
                            </div>

                            <button type="button" id="add-second-sitting-btn" class="inline-flex items-center px-4 py-2 border border-dashed border-gray-400 text-sm font-medium rounded-md text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 mb-4 opacity-60 cursor-not-allowed" disabled="">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-file-plus-2 mr-2"><path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"></path><path d="M14 2v4a2 2 0 0 0 2 2h4"></path><path d="M9 15h6"></path><path d="M12 12v6"></path></svg>
                                Add Second Sitting (O'Level)
                            </button>

                            <!-- Advanced Level Results (Multiple Optional) -->
                            <div id="advanced-level-results-container" class="space-y-6">
                                <!-- Advanced Level sections will be dynamically added here -->
                            </div>
                            <button type="button" id="add-advanced-level-btn" class="inline-flex items-center px-4 py-2 border border-dashed border-gray-400 text-sm font-medium rounded-md text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 mb-4 opacity-60 cursor-not-allowed" disabled="">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-file-plus-2 mr-2"><path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"></path><path d="M14 2v4a2 2 0 0 0 2 2h4"></path><path d="M9 15h6"></path><path d="M12 12v6"></path></svg>
                                Add Advanced Level Result
                            </button>

                            <!-- Higher Education Results (Multiple Optional) -->
                            <div id="higher-education-results-container" class="space-y-6">
                                <!-- Higher Education sections will be dynamically added here -->
                            </div>
                            <button type="button" id="add-higher-education-btn" class="inline-flex items-center px-4 py-2 border border-dashed border-gray-400 text-sm font-medium rounded-md text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 opacity-60 cursor-not-allowed" disabled="">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-book-open-check mr-2"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path><path d="m9 12 2 2 4-4"></path></svg>
                                Add Higher Education Result
                            </button>

                            <div class="flex justify-between mt-6">
                                <button type="button" id="academic-prev-btn" class="bg-gray-300 text-gray-700 py-2 px-4 rounded-md font-semibold hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 opacity-60 cursor-not-allowed" disabled="">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-left inline-block mr-2"><path d="m12 19-7-7 7-7"></path><path d="M19 12H5"></path></svg> Previous
                                </button>
                                <button type="button" id="academic-next-btn" class="btn-purple text-white py-2 px-4 rounded-md font-semibold focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 opacity-60 cursor-not-allowed" disabled="">
                                    Next <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-right inline-block ml-2"><path d="M5 12h14"></path><path d="m12 5 7 7-7 7"></path></svg>
                                </button>
                            </div>
                        </div>

                        <!-- Document Upload Tab Content -->
                        <div id="documents-tab" class="tab-content">
                            <h3 class="text-xl font-semibold text-gray-800 mb-4 flex items-center">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-upload-cloud mr-2"><path d="M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"></path><path d="M12 12v9"></path><path d="m16 16-4-4-4 4"></path></svg>
                                Document Uploads
                            </h3>
                            <p class="text-gray-600 mb-4">Upload required documents. Ensure files are clear PDF and under 2MB.</p>

                            <div id="document-uploads-container" class="grid grid-cols-1 md:grid-cols-2 gap-6"><div class="border border-gray-200 rounded-lg p-4">
                            <label for="acceptance-letter" class="block text-sm font-medium text-gray-700 mb-2">
                                Acceptance Letter <span class="text-red-500">*</span>
                            </label>
                            <input type="file" id="acceptance-letter" name="acceptance-letter" accept="application/pdf" required="" class="w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100 opacity-60 cursor-not-allowed" disabled="">
                            <p id="acceptance-letter-error" class="text-red-500 text-xs mt-1 hidden"></p>
                            <p class="text-gray-500 text-xs mt-2">Status: <span id="acceptance-letter-status" class="font-medium text-red-500">Pending</span></p>
                            <div class="w-full bg-gray-200 rounded-full h-2.5 mt-2">
                                <div class="bg-purple-600 h-2.5 rounded-full transition-all duration-300 ease-out" style="width: 0%" id="acceptance-letter-progress"></div>
                            </div>
                        </div><div class="border border-gray-200 rounded-lg p-4">
                            <label for="sponsor-letter" class="block text-sm font-medium text-gray-700 mb-2">
                                Sponsor's Letter <span class="text-red-500">*</span>
                            </label>
                            <input type="file" id="sponsor-letter" name="sponsor-letter" accept="application/pdf" required="" class="w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100 opacity-60 cursor-not-allowed" disabled="">
                            <p id="sponsor-letter-error" class="text-red-500 text-xs mt-1 hidden"></p>
                            <p class="text-gray-500 text-xs mt-2">Status: <span id="sponsor-letter-status" class="font-medium text-red-500">Pending</span></p>
                            <div class="w-full bg-gray-200 rounded-full h-2.5 mt-2">
                                <div class="bg-purple-600 h-2.5 rounded-full transition-all duration-300 ease-out" style="width: 0%" id="sponsor-letter-progress"></div>
                            </div>
                        </div><div class="border border-gray-200 rounded-lg p-4">
                            <label for="birth-certificate" class="block text-sm font-medium text-gray-700 mb-2">
                                Birth Certificate <span class="text-red-500">*</span>
                            </label>
                            <input type="file" id="birth-certificate" name="birth-certificate" accept="application/pdf" required="" class="w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100 opacity-60 cursor-not-allowed" disabled="">
                            <p id="birth-certificate-error" class="text-red-500 text-xs mt-1 hidden"></p>
                            <p class="text-gray-500 text-xs mt-2">Status: <span id="birth-certificate-status" class="font-medium text-red-500">Pending</span></p>
                            <div class="w-full bg-gray-200 rounded-full h-2.5 mt-2">
                                <div class="bg-purple-600 h-2.5 rounded-full transition-all duration-300 ease-out" style="width: 0%" id="birth-certificate-progress"></div>
                            </div>
                        </div><div class="border border-gray-200 rounded-lg p-4">
                            <label for="lga-origin-cert" class="block text-sm font-medium text-gray-700 mb-2">
                                Local government of origin certificate or Affidavit <span class="text-red-500">*</span>
                            </label>
                            <input type="file" id="lga-origin-cert" name="lga-origin-cert" accept="application/pdf" required="" class="w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100 opacity-60 cursor-not-allowed" disabled="">
                            <p id="lga-origin-cert-error" class="text-red-500 text-xs mt-1 hidden"></p>
                            <p class="text-gray-500 text-xs mt-2">Status: <span id="lga-origin-cert-status" class="font-medium text-red-500">Pending</span></p>
                            <div class="w-full bg-gray-200 rounded-full h-2.5 mt-2">
                                <div class="bg-purple-600 h-2.5 rounded-full transition-all duration-300 ease-out" style="width: 0%" id="lga-origin-cert-progress"></div>
                            </div>
                        </div><div class="border border-gray-200 rounded-lg p-4">
                            <label for="jamb-result" class="block text-sm font-medium text-gray-700 mb-2">
                                JAMB result slip (with passport) <span class="text-red-500">*</span>
                            </label>
                            <input type="file" id="jamb-result" name="jamb-result" accept="application/pdf" required="" class="w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100 opacity-60 cursor-not-allowed" disabled="">
                            <p id="jamb-result-error" class="text-red-500 text-xs mt-1 hidden"></p>
                            <p class="text-gray-500 text-xs mt-2">Status: <span id="jamb-result-status" class="font-medium text-red-500">Pending</span></p>
                            <div class="w-full bg-gray-200 rounded-full h-2.5 mt-2">
                                <div class="bg-purple-600 h-2.5 rounded-full transition-all duration-300 ease-out" style="width: 0%" id="jamb-result-progress"></div>
                            </div>
                        </div><div class="border border-gray-200 rounded-lg p-4">
                            <label for="jamb-admission" class="block text-sm font-medium text-gray-700 mb-2">
                                JAMB admission letter (institution's copy) <span class="text-red-500">*</span>
                            </label>
                            <input type="file" id="jamb-admission" name="jamb-admission" accept="application/pdf" required="" class="w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100 opacity-60 cursor-not-allowed" disabled="">
                            <p id="jamb-admission-error" class="text-red-500 text-xs mt-1 hidden"></p>
                            <p class="text-gray-500 text-xs mt-2">Status: <span id="jamb-admission-status" class="font-medium text-red-500">Pending</span></p>
                            <div class="w-full bg-gray-200 rounded-full h-2.5 mt-2">
                                <div class="bg-purple-600 h-2.5 rounded-full transition-all duration-300 ease-out" style="width: 0%" id="jamb-admission-progress"></div>
                            </div>
                        </div><div class="border border-gray-200 rounded-lg p-4">
                            <label for="affidavit-conduct" class="block text-sm font-medium text-gray-700 mb-2">
                                Affidavit of good conduct <span class="text-red-500">*</span>
                            </label>
                            <input type="file" id="affidavit-conduct" name="affidavit-conduct" accept="application/pdf" required="" class="w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100 opacity-60 cursor-not-allowed" disabled="">
                            <p id="affidavit-conduct-error" class="text-red-500 text-xs mt-1 hidden"></p>
                            <p class="text-gray-500 text-xs mt-2">Status: <span id="affidavit-conduct-status" class="font-medium text-red-500">Pending</span></p>
                            <div class="w-full bg-gray-200 rounded-full h-2.5 mt-2">
                                <div class="bg-purple-600 h-2.5 rounded-full transition-all duration-300 ease-out" style="width: 0%" id="affidavit-conduct-progress"></div>
                            </div>
                        </div><div class="border border-gray-200 rounded-lg p-4">
                            <label for="affidavit-cult" class="block text-sm font-medium text-gray-700 mb-2">
                                Affidavit of non-membership of secret cult <span class="text-red-500">*</span>
                            </label>
                            <input type="file" id="affidavit-cult" name="affidavit-cult" accept="application/pdf" required="" class="w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100 opacity-60 cursor-not-allowed" disabled="">
                            <p id="affidavit-cult-error" class="text-red-500 text-xs mt-1 hidden"></p>
                            <p class="text-gray-500 text-xs mt-2">Status: <span id="affidavit-cult-status" class="font-medium text-red-500">Pending</span></p>
                            <div class="w-full bg-gray-200 rounded-full h-2.5 mt-2">
                                <div class="bg-purple-600 h-2.5 rounded-full transition-all duration-300 ease-out" style="width: 0%" id="affidavit-cult-progress"></div>
                            </div>
                        </div></div>

                            <div class="flex justify-between mt-6">
                                <button type="button" id="documents-prev-btn" class="bg-gray-300 text-gray-700 py-2 px-4 rounded-md font-semibold hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 opacity-60 cursor-not-allowed" disabled="">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-left inline-block mr-2"><path d="m12 19-7-7 7-7"></path><path d="M19 12H5"></path></svg> Previous
                                </button>
                                <button type="button" id="documents-next-btn" class="btn-purple text-white py-2 px-4 rounded-md font-semibold focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 opacity-60 cursor-not-allowed" disabled="">
                                    Next <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-right inline-block ml-2"><path d="M5 12h14"></path><path d="m12 5 7 7-7 7"></path></svg>
                                </button>
                            </div>
                        </div>

                        <!-- Declaration Tab Content -->
                        <div id="declaration-tab" class="tab-content">
                            <h3 class="text-xl font-semibold text-gray-800 mb-4 flex items-center">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clipboard-check mr-2"><rect width="8" height="4" x="8" y="2" rx="1" ry="1"></rect><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><path d="m9 14 2 2 4-4"></path></svg>
                                Declaration
                            </h3>
                            <p class="text-gray-600 mb-4">Please read the declaration carefully and confirm your understanding.</p>

                            <div class="bg-gray-50 p-4 rounded-md border border-gray-200 mb-6">
                                <p class="text-sm text-gray-700">
                                    I hereby declare that all information provided in this clearance update form, including personal details, academic qualifications, and uploaded documents, is true, accurate, and complete to the best of my knowledge and belief. I understand that any false statement or misrepresentation may lead to the cancellation of my admission or other disciplinary actions as deemed appropriate by the university. I agree to abide by all university rules and regulations.
                                </p>
                            </div>

                            <div class="flex items-center mb-6">
                                <input type="checkbox" id="declaration-checkbox" name="declaration-checkbox" required="" class="h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded opacity-60 cursor-not-allowed" disabled="">
                                <label for="declaration-checkbox" class="ml-2 block text-sm text-gray-900">
                                    I agree to the above declaration.
                                </label>
                            </div>

                            <div>
                                <label for="additional-notes" class="block text-sm font-medium text-gray-700 mb-1">Additional Notes (Optional)</label>
                                <textarea id="additional-notes" name="additional-notes" rows="4" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm opacity-60 cursor-not-allowed" placeholder="Add any relevant notes or comments here..." disabled=""></textarea>
                            </div>

                            <div class="flex justify-between mt-6">
                                <button type="button" id="declaration-prev-btn" class="bg-gray-300 text-gray-700 py-2 px-4 rounded-md font-semibold hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 opacity-60 cursor-not-allowed" disabled="">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-left inline-block mr-2"><path d="m12 19-7-7 7-7"></path><path d="M19 12H5"></path></svg> Previous
                                </button>
                                <button type="submit" class="btn-purple text-white py-2 px-4 rounded-md font-semibold focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 opacity-60 cursor-not-allowed" disabled="">
                                    Submit Clearance Update
                                </button>
                            </div>
                        </div>

                        <div id="update-success-message" class="text-green-600 text-sm hidden">Clearance update submitted successfully!</div>
                        <div id="update-error-message" class="text-red-600 text-sm hidden">There was an error submitting your clearance update. Please try again.</div>
                    </form>
                </div>
            </div>

            <!-- Submitted Clearance View -->
            <div id="submitted-clearance-view" class="clearance-view hidden bg-white p-6 rounded-lg shadow-md border border-gray-200">
                <h3 class="text-2xl font-semibold text-gray-800 mb-4 flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-hourglass text-blue-600 mr-2"><path d="M6 2v6a6 6 0 0 0 6 6 6 6 0 0 0 6-6V2"></path><path d="M6 22v-6a6 6 0 0 1 6-6 6 6 0 0 1 6 6v6"></path></svg>
                    Clearance Submitted for Review
                </h3>
                <p class="text-gray-700 mb-6">Your clearance details have been submitted and are under review. Please review the details below for accuracy. You will be notified of any status change.</p>

                <div class="mb-6">
                    <h4 class="text-xl font-semibold text-gray-800 mb-3 border-b pb-2">Profile Information</h4>
                    <div id="submitted-student-details" class="grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-3 text-gray-600">
                        </div>
                </div>

                <div class="mb-6">
                    <h4 class="text-xl font-semibold text-gray-800 mb-3 border-b pb-2">Academic Qualifications</h4>
                    <div id="submitted-olevel-results"></div>
                    <div id="submitted-alevel-results" class="mt-4"></div>
                    <div id="submitted-he-results" class="mt-4"></div>
                </div>

                <div class="mb-6">
                    <h4 class="text-xl font-semibold text-gray-800 mb-3 border-b pb-2">Submitted Documents</h4>
                    <ul id="submitted-documents-list" class="list-disc list-inside text-gray-700 space-y-2">
                        </ul>
                </div>

                <div class="flex flex-col sm:flex-row justify-between items-center mt-8 border-t pt-6">
                    <button id="edit-submission-btn" class="bg-gray-200 text-gray-800 py-2 px-4 rounded-md font-semibold hover:bg-gray-300 transition duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-opacity-50 mb-4 sm:mb-0 w-full sm:w-auto">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-edit-3 inline-block mr-2"><path d="M12 20h9"></path><path d="M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z"></path></svg>
                        Make Changes
                    </button>
                    <button id="print-submitted-slip-btn" class="btn-purple text-white py-2 px-4 rounded-md shadow-md transition duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50 w-full sm:w-auto">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-printer inline-block mr-2"><polyline points="6 9 6 2 18 2 18 9"></polyline><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path><rect width="12" height="8" x="6" y="14" rx="2"></rect></svg>
                        Print Clearance Slip
                    </button>
                </div>
            </div>

            <div id="rejected-clearance-view" class="clearance-view hidden bg-white p-6 rounded-lg shadow-md border border-gray-200 text-center">
                <div class="text-red-500 mb-4">
                    <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x-octagon mx-auto"><polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon><path d="m15 9-6 6"></path><path d="m9 9 6 6"></path></svg>
                </div>
                <h3 class="text-2xl font-semibold text-gray-800 mb-2">Not Cleared</h3>
                <p class="text-gray-700">Unfortunately, your clearance has been rejected. Please read the officer's comment below and make the necessary corrections.</p>
                
                <div id="rejection-comment-display" class="mt-6 text-left max-w-2xl mx-auto"></div>

                <div class="mt-8 pt-6 border-t border-gray-100 flex justify-center">
                    <button id="rejected-edit-btn" class="bg-gray-800 text-white py-2 px-6 rounded-md font-semibold hover:bg-gray-700 transition duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-opacity-50 flex items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-edit-3 mr-2"><path d="M12 20h9"></path><path d="M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z"></path></svg>
                        Make Changes &amp; Re-submit
                    </button>
                </div>
            </div>

            <!-- Transfer Clearance View -->
            <div id="transfer-clearance-view" class="clearance-view hidden bg-white p-6 rounded-lg shadow-md border border-gray-200 text-center">
                <div class="text-yellow-500 mb-4">
                    <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-right-left mx-auto"><path d="M8 3H3v5"></path><path d="M3 3 8 8"></path><path d="M16 21h5v-5"></path><path d="M21 21-16 16"></path><path d="M17 14V3"></path><path d="M10 21V10"></path></svg>
                </div>
                <h3 class="text-2xl font-semibold text-gray-800 mb-2">Transfer Initiated</h3>
                <p class="text-gray-700">Your clearance officer has initiated a transfer process to the designated programme:</p>
                <p class="text-purple-600 font-bold text-xl mt-2" id="transfer-programme-display">Bachelor of Science in Software Engineering</p>
                <p class="text-gray-500 mt-2">You will be notified once the transfer is complete and your new clearance status is available.</p>
            </div>

            <!-- Approved Clearance View -->
            <div id="approved-clearance-view" class="clearance-view bg-white p-6 rounded-lg shadow-md border border-gray-200">
                <h3 class="text-2xl font-semibold text-gray-800 mb-4 flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-check-circle text-green-600 mr-2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><path d="m9 11 3 3L22 4"></path></svg>
                    Clearance Approved!
                </h3>
                <p class="text-gray-700 mb-6">Your clearance has been fully approved.</p>

                <div class="mb-6">
                    <h4 class="text-xl font-semibold text-gray-800 mb-3 flex items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-user mr-2"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>
                        Student Details
                    </h4>
                    <div id="approved-student-details" class="grid grid-cols-1 md:grid-cols-2 gap-4 text-gray-600">
                        <p><span class="font-medium text-gray-700">Name:</span> Itebiye Caroline Ray</p>
                        <p><span class="font-medium text-gray-700">JAMB Reg. No:</span> 10112631CB</p>
                        <p><span class="font-medium text-gray-700">Date of Birth:</span> 2004-05-30</p>
                        <p><span class="font-medium text-gray-700">Gender:</span> Male</p>
                        <p><span class="font-medium text-gray-700">Email:</span> jamoforlove@yahoo.com</p>
                        <p><span class="font-medium text-gray-700">Phone:</span> 08109013969</p>
                    </div>
                </div>

                <div class="mb-6">
                    <h4 class="text-xl font-semibold text-gray-800 mb-3 flex items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-folder-check mr-2"><path d="M11 15h2"></path><path d="M12 12v3"></path><path d="M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.66-.9L6.4 3.4A2 2 0 0 0 4.89 2H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h16"></path></svg>
                        Submitted Documents
                    </h4>
                    <ul id="approved-documents-list" class="list-disc list-inside text-gray-700 space-y-2"><li class="text-gray-500">No documents found.</li></ul>
                </div>

                <div class="flex justify-end mt-6">
                    <button id="print-approved-slip-btn" class="btn-purple text-white py-2 px-4 rounded-md shadow-md transition duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-printer inline-block mr-2"><polyline points="6 9 6 2 18 2 18 9"></polyline><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path><rect width="12" height="8" x="6" y="14" rx="2"></rect></svg>
                        Print Clearance Slip
                    </button>
                </div>
            </div>

            <!-- Quick Links (from dashboard) -->
            <div class="mt-8 bg-white p-6 rounded-lg shadow-md border border-gray-200">
                <h3 class="text-xl font-semibold text-gray-800 mb-4">Quick Links</h3>
                <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4">
                    <a href="#" id="clearance-quick-link-course-catalog" class="block text-center bg-gray-50 hover:bg-gray-100 p-4 rounded-md transition duration-200 ease-in-out text-gray-700 border border-gray-200">Course Catalog</a>
                    <a href="#" id="clearance-quick-link-academic-calendar" class="block text-center bg-gray-50 hover:bg-gray-100 p-4 rounded-md transition duration-200 ease-in-out text-gray-700 border border-gray-200">Academic Calendar</a>
                    <a href="#" id="clearance-quick-link-student-handbook" class="block text-center bg-gray-50 hover:bg-gray-100 p-4 rounded-md transition duration-200 ease-in-out text-gray-700 border border-gray-200">Student Handbook</a>
                    <a href="#" id="clearance-quick-link-contact-support" class="block text-center bg-gray-50 hover:bg-gray-100 p-4 rounded-md transition duration-200 ease-in-out text-gray-700 border border-gray-200">Contact Support</a>
                </div>
            </div>
        </div>

        <!-- Academic Record Content Section (renamed from academics-content) -->
        <div id="academic-record-content" class="page-content">
            <header class="flex flex-col md:flex-row items-start md:items-center justify-between mb-4">
                <h2 class="text-3xl font-semibold text-gray-800 mb-2 md:mb-0">Academic Record</h2>
                <div class="flex items-center space-x-4">
                    <button class="btn-purple text-white py-2 px-4 rounded-md shadow-md transition duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50" onclick="window.print()">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-printer inline-block mr-2"><polyline points="6 9 6 2 18 2 18 9"></polyline><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path><rect width="12" height="8" x="6" y="14" rx="2"></rect></svg>
                        Print Record
                    </button>
                </div>
            </header>

            <!-- Student Basic Information -->
            <div class="mb-6 bg-white p-6 rounded-lg shadow-md border border-gray-200">
                <h3 class="text-2xl font-semibold text-gray-800 mb-2">Student Details</h3>
                <div id="ar-student-details" class="grid grid-cols-1 md:grid-cols-2 gap-4 text-gray-600">
                        <p><span class="font-medium text-gray-700">Name:</span> Itebiye Caroline Ray</p>
                        <p><span class="font-medium text-gray-700">Matriculation Number:</span> ENG2103017</p>
                        <p><span class="font-medium text-gray-700">College/Faculty:</span> Engineering</p>
                        <p><span class="font-medium text-gray-700">Department:</span> Industrial Engineering</p>
                        <p><span class="font-medium text-gray-700">Course of Study:</span> BEng. Industrial Engineering</p>
                        <p><span class="font-medium text-gray-700">Level:</span> 500</p>
                        <p><span class="font-medium text-gray-700">Year of Entry:</span> 2021/2022</p>
                        <p><span class="font-medium text-gray-700">Mode of Entry:</span> UTME</p>
                        <p><span class="font-medium text-gray-700">Current Academic Session:</span> 2025/2026</p>
                        <p><span class="font-medium text-gray-700">Expected Graduation:</span> 2026</p>
                    </div>
            </div>

            <!-- Academic Summary -->
            <div class="mb-6 bg-white p-6 rounded-lg shadow-md border border-gray-200">
                <h3 class="text-xl font-semibold text-gray-800 mb-4 flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-award text-purple-600 mr-2"><circle cx="12" cy="8" r="7"></circle><path d="M8.21 13.89 7 22l5-3 5 3-1.21-8.11"></path></svg>
                    Academic Summary
                </h3>
                <div id="ar-academic-summary" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 text-gray-600">
                        <p><span class="font-medium text-gray-700">Overall GPA:</span> <span class="text-green-600 font-bold">0.00</span></p>
                        <p><span class="font-medium text-gray-700">Total Credits Earned:</span> 0 / 120</p>
                        <p><span class="font-medium text-gray-700">Academic Standing:</span> Successful Student</p>
                    </div>
            </div>

            <!-- Course History Table -->
            <div class="bg-white p-6 rounded-lg shadow-md border border-gray-200 mb-6">
                <h3 class="text-xl font-semibold text-gray-800 mb-4 flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clipboard-list text-purple-600 mr-2"><rect width="8" height="4" x="8" y="2" rx="1" ry="1"></rect><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><path d="M12 11h4"></path><path d="M12 15h4"></path><path d="M8 11h.01"></path><path d="M8 15h.01"></path></svg>
                    Course History
                </h3>
                <div class="overflow-x-auto">
                    <table class="min-w-full bg-white border border-gray-200 rounded-md">
                        <thead>
                            <tr class="bg-gray-50 text-left text-gray-600 uppercase text-sm leading-normal">
                                <th class="py-3 px-6 border-b border-gray-200">Course Code</th>
                                <th class="py-3 px-6 border-b border-gray-200">Course Title</th>
                                <th class="py-3 px-6 border-b border-gray-200">Units</th>
                                <th class="py-3 px-6 border-b border-gray-200">Session</th>
                                <th class="py-3 px-6 border-b border-gray-200">Grade</th>
                                <th class="py-3 px-6 border-b border-gray-200">Status</th>
                            </tr>
                        </thead>
                        <tbody id="course-history-tbody" class="text-gray-700 text-sm font-light"><tr><td colspan="6" class="py-4 px-6 text-center text-gray-500 italic">No course history found.</td></tr></tbody>
                        <tfoot>
                            <tr class="bg-gray-50">
                                <td colspan="6" class="py-3 px-6 border-t border-gray-200">
                                    <div class="flex items-center justify-between">
                                        <button id="prev-page-btn" class="text-sm font-semibold text-purple-700 hover:text-purple-900 disabled:text-gray-400 disabled:cursor-not-allowed">
                                             Previous
                                        </button>
                                        <span id="page-info" class="text-sm text-gray-600">Page 0 of 0</span>
                                        <button id="next-page-btn" class="text-sm font-semibold text-purple-700 hover:text-purple-900 disabled:text-gray-400 disabled:cursor-not-allowed">
                                            Next 
                                        </button>
                                    </div>
                                </td>
                            </tr>
                        </tfoot>
                    </table>
                </div>
            </div>

            <!-- Quick Links (from dashboard) -->
            <div class="mt-8 bg-white p-6 rounded-lg shadow-md border border-gray-200">
                <h3 class="text-xl font-semibold text-gray-800 mb-4">Quick Links</h3>
                <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4">
                    <a href="#" class="block text-center bg-gray-50 hover:bg-gray-100 p-4 rounded-md transition duration-200 ease-in-out text-gray-700 border border-gray-200">Course Catalog</a>
                    <a href="#" class="block text-center bg-gray-50 hover:bg-gray-100 p-4 rounded-md transition duration-200 ease-in-out text-gray-700 border border-gray-200">Academic Calendar</a>
                    <a href="#" class="block text-center bg-gray-50 hover:bg-gray-100 p-4 rounded-md transition duration-200 ease-in-out text-gray-700 border border-gray-200">Student Handbook</a>
                    <a href="#" class="block text-center bg-gray-50 hover:bg-gray-100 p-4 rounded-md transition duration-200 ease-in-out text-gray-700 border border-gray-200">Contact Support</a>
                </div>
            </div>
        </div>

        <!-- Course Registration Content Section -->
        <div id="course-registration-content" class="page-content hidden">
            <header class="flex flex-col md:flex-row items-start md:items-center justify-between mb-4">
                <h2 class="text-3xl font-semibold text-gray-800 mb-2 md:mb-0">Course Registration</h2>
            </header>

            <!-- Registration Status & Info Panel -->
            <div class="mb-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                <div class="bg-white p-4 rounded-lg shadow-md border border-gray-200">
                    <p class="text-sm text-gray-500">Session</p>
                    <p id="reg-session-semester" class="text-lg font-semibold text-purple-700"></p>
                </div>
                <div class="bg-white p-4 rounded-lg shadow-md border border-gray-200">
                    <p class="text-sm text-gray-500">Credit Unit Limit</p>
                    <p id="reg-credit-limit" class="text-lg font-semibold text-gray-800"></p>
                </div>
                <div class="bg-white p-4 rounded-lg shadow-md border border-gray-200">
                    <p class="text-sm text-gray-500">Registered Units</p>
                    <p id="reg-registered-units" class="text-lg font-bold text-green-600"></p>
                </div>
                <div class="bg-white p-4 rounded-lg shadow-md border border-gray-200">
                    <p class="text-sm text-gray-500">Registration Status</p>
                    <p id="reg-status" class="text-lg font-semibold"></p>
                </div>
            </div>

            <!-- Main Registration Area -->
            <div id="registration-main-panel" class="bg-white p-6 rounded-lg shadow-md border border-gray-200">
                
                <!-- Add Course Form -->
                <div id="add-course-section" class="mb-6 pb-6 border-b border-gray-200">
                    <h3 class="text-xl font-semibold text-gray-800 mb-4">Add a New Course</h3>
                    <form id="add-course-form" class="flex flex-col sm:flex-row items-end gap-4">
                        <div class="w-full sm:flex-1">
                            <label for="course-select" class="block text-sm font-medium text-gray-700 mb-1">Available Courses</label>
                            <select id="course-select" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500">
                                <option value="">Loading courses...</option>
                            </select>
                        </div>
                        <button type="submit" class="w-full sm:w-auto btn-purple text-white py-2 px-4 rounded-md font-semibold flex items-center justify-center">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-plus-circle mr-2"><circle cx="12" cy="12" r="10"></circle><line x1="12" x2="12" y1="8" y2="16"></line><line x1="8" x2="16" y1="12" y2="12"></line></svg>
                            Add Course
                        </button>
                    </form>
                </div>

                <!-- Registered Courses Table -->
                <div>
                    <h3 class="text-xl font-semibold text-gray-800 mb-4">Registered Courses</h3>
                    <div class="overflow-x-auto">
                        <table class="min-w-full bg-white">
                            <thead>
                                <tr class="bg-gray-50 text-left text-gray-600 uppercase text-xs leading-normal">
                                    <th class="py-3 px-4 border-b border-gray-200">S/N</th>
                                    <th class="py-3 px-4 border-b border-gray-200">Course Code</th>
                                    <th class="py-3 px-4 border-b border-gray-200">Course Title</th>
                                    <th class="py-3 px-4 border-b border-gray-200 text-center">Semester</th>
                                    <th class="py-3 px-4 border-b border-gray-200 text-center">Type</th>
                                    <th class="py-3 px-4 border-b border-gray-200 text-center">Units</th>
                                    <th class="py-3 px-4 border-b border-gray-200 text-center">Action</th>
                                </tr>
                            </thead>
                            <tbody id="registered-courses-tbody" class="text-gray-700 text-sm font-light">
                                <!-- Rows will be dynamically inserted here -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Final Action Buttons -->
                <div id="registration-action-buttons" class="flex flex-col sm:flex-row justify-end gap-4 mt-8 pt-6 border-t border-gray-200">
                    <button id="save-registration-btn" class="bg-gray-200 text-gray-800 py-2 px-4 rounded-md font-semibold hover:bg-gray-300 hidden">Save for Later</button>
                    <button id="submit-registration-btn" class="bg-green-600 text-white py-2 px-4 rounded-md font-semibold hover:bg-green-700">Submit Registration</button>
                </div>
            </div>

            <!-- Submitted/Closed View -->
            <div id="registration-submitted-panel" class="hidden bg-white p-6 rounded-lg shadow-md border border-gray-200">
                <div class="text-center">
                    <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-check-check mx-auto text-green-600 mb-4"><path d="M18 6 7 17l-5-5"></path><path d="m22 10-7.5 7.5L13 16"></path></svg>
                    <h3 class="text-2xl font-semibold text-gray-800 mb-2">Registration Submitted</h3>
                    <p class="text-gray-600 mb-6">Your course registration has been submitted and is now locked. You can view your registered courses below.</p>
                </div>
                <div class="overflow-x-auto mt-4">
                    <table class="min-w-full bg-white">
                        <thead>
                            <tr class="bg-gray-50 text-left text-gray-600 uppercase text-xs leading-normal">
                                <th class="py-3 px-4 border-b border-gray-200">S/N</th>
                                <th class="py-3 px-4 border-b border-gray-200">Course Code</th>
                                <th class="py-3 px-4 border-b border-gray-200">Course Title</th>
                                <th class="py-3 px-4 border-b border-gray-200 text-center">Semester</th>
                                <th class="py-3 px-4 border-b border-gray-200 text-center">Type</th>
                                <th class="py-3 px-4 border-b border-gray-200 text-center">Units</th>
                            </tr>
                        </thead>
                        <tbody id="submitted-courses-tbody" class="text-gray-700 text-sm font-light">
                            </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Results Content Section -->
        <div id="results-content" class="page-content hidden">
            <header class="flex flex-col md:flex-row items-start md:items-center justify-between mb-4">
                <h2 class="text-3xl font-semibold text-gray-800 mb-2 md:mb-0">Academic Results</h2>
                <button id="print-results-btn" class="btn-purple text-white py-2 px-4 rounded-md shadow-md transition duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50">
                    <svg xmlns="http://www.w.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-printer inline-block mr-2"><polyline points="6 9 6 2 18 2 18 9"></polyline><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path><rect width="12" height="8" x="6" y="14" rx="2"></rect></svg>
                    Print Result Slip
                </button>
            </header>

            <div class="mb-6 max-w-sm">
                <label for="session-select" class="block text-sm font-medium text-gray-700 mb-1">Select Academic Session</label>
                <select id="session-select" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500"><option>No sessions available</option></select>
            </div>

            <div id="results-display-container"><p class="text-gray-500">No results found.</p></div>
        </div>

        <!-- Placeholder for Hostel Content (initially hidden) -->
        <div id="hostel-information-content" class="page-content hidden">
            <h2 class="text-3xl font-semibold text-gray-800 mb-4">Hostel Information</h2>
            <div id="hostel-info-area" class="bg-white p-6 rounded-lg shadow-md border border-gray-200">
                    <p class="text-gray-600 mb-6">Below are the available university hostels for the current session. Allocation is subject to availability and completion of the clearance process.</p>
                    <div class="overflow-x-auto border border-gray-200 rounded-lg">
                        <table class="min-w-full bg-white text-sm">
                            <thead>
                                <tr class="bg-gray-50 text-left text-gray-600 uppercase text-xs tracking-wider border-b border-gray-200">
                                    <th class="py-3 px-4 font-semibold">Hostel Name / Location</th>
                                    <th class="py-3 px-4 font-semibold text-center">Gender</th>
                                    <th class="py-3 px-4 font-semibold text-right">Maintenance Fee</th>
                                </tr>
                            </thead>
                            <tbody class="text-gray-700 divide-y divide-gray-100">
                                
                        <tr class="border-b border-gray-100 hover:bg-gray-50 transition-colors">
                            <td class="py-3 px-4 font-medium text-gray-800">
                                AKANU IBIAM (HALL 4 - MALE)
                                <div class="text-xs text-gray-500 font-normal mt-0.5">Ugbowo</div>
                            </td>
                            <td class="py-3 px-4 text-center">
                                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800">
                                    Male
                                </span>
                            </td>
                            <td class="py-3 px-4 text-right font-semibold text-purple-700">
                                31,000.00
                            </td>
                        </tr>
                    
                        <tr class="border-b border-gray-100 hover:bg-gray-50 transition-colors">
                            <td class="py-3 px-4 font-medium text-gray-800">
                                AMINU KANO (HALL 3 - FEMALE)
                                <div class="text-xs text-gray-500 font-normal mt-0.5">Ugbowo</div>
                            </td>
                            <td class="py-3 px-4 text-center">
                                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-pink-100 text-pink-800">
                                    Female
                                </span>
                            </td>
                            <td class="py-3 px-4 text-right font-semibold text-purple-700">
                                31,000.00
                            </td>
                        </tr>
                    
                        <tr class="border-b border-gray-100 hover:bg-gray-50 transition-colors">
                            <td class="py-3 px-4 font-medium text-gray-800">
                                CLINICAL STUDENTS HOSTEL (UNISEX)
                                <div class="text-xs text-gray-500 font-normal mt-0.5">Ugbowo</div>
                            </td>
                            <td class="py-3 px-4 text-center">
                                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800">
                                    Unisex
                                </span>
                            </td>
                            <td class="py-3 px-4 text-right font-semibold text-purple-700">
                                37,000.00
                            </td>
                        </tr>
                    
                        <tr class="border-b border-gray-100 hover:bg-gray-50 transition-colors">
                            <td class="py-3 px-4 font-medium text-gray-800">
                                HALL 5 (MALE)
                                <div class="text-xs text-gray-500 font-normal mt-0.5">Ugbowo</div>
                            </td>
                            <td class="py-3 px-4 text-center">
                                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800">
                                    Male
                                </span>
                            </td>
                            <td class="py-3 px-4 text-right font-semibold text-purple-700">
                                46,000.00
                            </td>
                        </tr>
                    
                        <tr class="border-b border-gray-100 hover:bg-gray-50 transition-colors">
                            <td class="py-3 px-4 font-medium text-gray-800">
                                HALL 6 (FEMALE)
                                <div class="text-xs text-gray-500 font-normal mt-0.5">Ugbowo</div>
                            </td>
                            <td class="py-3 px-4 text-center">
                                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-pink-100 text-pink-800">
                                    Female
                                </span>
                            </td>
                            <td class="py-3 px-4 text-right font-semibold text-purple-700">
                                73,000.00
                            </td>
                        </tr>
                    
                        <tr class="border-b border-gray-100 hover:bg-gray-50 transition-colors">
                            <td class="py-3 px-4 font-medium text-gray-800">
                                KEYSTONE BANK HOSTEL (UNISEX)
                                <div class="text-xs text-gray-500 font-normal mt-0.5">Ugbowo</div>
                            </td>
                            <td class="py-3 px-4 text-center">
                                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800">
                                    Unisex
                                </span>
                            </td>
                            <td class="py-3 px-4 text-right font-semibold text-purple-700">
                                <span class="text-gray-500 text-xs font-medium italic">To be determined</span>
                            </td>
                        </tr>
                    
                        <tr class="border-b border-gray-100 hover:bg-gray-50 transition-colors">
                            <td class="py-3 px-4 font-medium text-gray-800">
                                MARGRET EKPO HALL (FEMALE EKEHUAN CAMPUS)
                                <div class="text-xs text-gray-500 font-normal mt-0.5">Ekehuan</div>
                            </td>
                            <td class="py-3 px-4 text-center">
                                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-pink-100 text-pink-800">
                                    Female
                                </span>
                            </td>
                            <td class="py-3 px-4 text-right font-semibold text-purple-700">
                                31,000.00
                            </td>
                        </tr>
                    
                        <tr class="border-b border-gray-100 hover:bg-gray-50 transition-colors">
                            <td class="py-3 px-4 font-medium text-gray-800">
                                NDDC HOSTEL (UNISEX )
                                <div class="text-xs text-gray-500 font-normal mt-0.5">Ugbowo</div>
                            </td>
                            <td class="py-3 px-4 text-center">
                                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800">
                                    Unisex
                                </span>
                            </td>
                            <td class="py-3 px-4 text-right font-semibold text-purple-700">
                                60,000.00
                            </td>
                        </tr>
                    
                        <tr class="border-b border-gray-100 hover:bg-gray-50 transition-colors">
                            <td class="py-3 px-4 font-medium text-gray-800">
                                NELSON MANDELA - UNISEX (EKEHUAN CAMPUS)
                                <div class="text-xs text-gray-500 font-normal mt-0.5">Ekehuan</div>
                            </td>
                            <td class="py-3 px-4 text-center">
                                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800">
                                    Unisex
                                </span>
                            </td>
                            <td class="py-3 px-4 text-right font-semibold text-purple-700">
                                31,000.00
                            </td>
                        </tr>
                    
                        <tr class="border-b border-gray-100 hover:bg-gray-50 transition-colors">
                            <td class="py-3 px-4 font-medium text-gray-800">
                                NNPC MALE HOSTEL
                                <div class="text-xs text-gray-500 font-normal mt-0.5">Ugbowo</div>
                            </td>
                            <td class="py-3 px-4 text-center">
                                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800">
                                    Male
                                </span>
                            </td>
                            <td class="py-3 px-4 text-right font-semibold text-purple-700">
                                <span class="text-gray-500 text-xs font-medium italic">To be determined</span>
                            </td>
                        </tr>
                    
                        <tr class="border-b border-gray-100 hover:bg-gray-50 transition-colors">
                            <td class="py-3 px-4 font-medium text-gray-800">
                                POSTGRADUATE HOSTEL (HALL 7 - UNISEX)
                                <div class="text-xs text-gray-500 font-normal mt-0.5">Ugbowo</div>
                            </td>
                            <td class="py-3 px-4 text-center">
                                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800">
                                    Unisex
                                </span>
                            </td>
                            <td class="py-3 px-4 text-right font-semibold text-purple-700">
                                116,000.00
                            </td>
                        </tr>
                    
                        <tr class="border-b border-gray-100 hover:bg-gray-50 transition-colors">
                            <td class="py-3 px-4 font-medium text-gray-800">
                                POSTGRADUATE HOSTEL - AKINGBOLA DOWN - UNISEX
                                <div class="text-xs text-gray-500 font-normal mt-0.5">Ugbowo</div>
                            </td>
                            <td class="py-3 px-4 text-center">
                                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800">
                                    Unisex
                                </span>
                            </td>
                            <td class="py-3 px-4 text-right font-semibold text-purple-700">
                                71,000.00
                            </td>
                        </tr>
                    
                        <tr class="border-b border-gray-100 hover:bg-gray-50 transition-colors">
                            <td class="py-3 px-4 font-medium text-gray-800">
                                POSTGRADUATE HOSTEL- EKENWAN - (UNISEX)
                                <div class="text-xs text-gray-500 font-normal mt-0.5">Ekehuan</div>
                            </td>
                            <td class="py-3 px-4 text-center">
                                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800">
                                    Unisex
                                </span>
                            </td>
                            <td class="py-3 px-4 text-right font-semibold text-purple-700">
                                82,000.00
                            </td>
                        </tr>
                    
                        <tr class="border-b border-gray-100 hover:bg-gray-50 transition-colors">
                            <td class="py-3 px-4 font-medium text-gray-800">
                                QUEEN IDIA (HALL 1 - FEMALE)
                                <div class="text-xs text-gray-500 font-normal mt-0.5">Ugbowo</div>
                            </td>
                            <td class="py-3 px-4 text-center">
                                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-pink-100 text-pink-800">
                                    Female
                                </span>
                            </td>
                            <td class="py-3 px-4 text-right font-semibold text-purple-700">
                                31,000.00
                            </td>
                        </tr>
                    
                        <tr class="border-b border-gray-100 hover:bg-gray-50 transition-colors">
                            <td class="py-3 px-4 font-medium text-gray-800">
                                SENATOR DAISY DANJUMA FEMALE HOSTEL
                                <div class="text-xs text-gray-500 font-normal mt-0.5">Ugbowo</div>
                            </td>
                            <td class="py-3 px-4 text-center">
                                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-pink-100 text-pink-800">
                                    Female
                                </span>
                            </td>
                            <td class="py-3 px-4 text-right font-semibold text-purple-700">
                                <span class="text-gray-500 text-xs font-medium italic">To be determined</span>
                            </td>
                        </tr>
                    
                        <tr class="border-b border-gray-100 hover:bg-gray-50 transition-colors">
                            <td class="py-3 px-4 font-medium text-gray-800">
                                TETFUND STUDENTS HOSTEL (UNISEX)
                                <div class="text-xs text-gray-500 font-normal mt-0.5">Ugbowo</div>
                            </td>
                            <td class="py-3 px-4 text-center">
                                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800">
                                    Unisex
                                </span>
                            </td>
                            <td class="py-3 px-4 text-right font-semibold text-purple-700">
                                <span class="text-gray-500 text-xs font-medium italic">To be determined</span>
                            </td>
                        </tr>
                    
                        <tr class="border-b border-gray-100 hover:bg-gray-50 transition-colors">
                            <td class="py-3 px-4 font-medium text-gray-800">
                                TINUBU (HALL 2 - FEMALE)
                                <div class="text-xs text-gray-500 font-normal mt-0.5">Ugbowo</div>
                            </td>
                            <td class="py-3 px-4 text-center">
                                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-pink-100 text-pink-800">
                                    Female
                                </span>
                            </td>
                            <td class="py-3 px-4 text-right font-semibold text-purple-700">
                                31,000.00
                            </td>
                        </tr>
                    
                            </tbody>
                        </table>
                    </div>
                    <p class="mt-4 text-xs text-gray-500">* Fees listed are for the current session and are subject to change.</p>
                </div>
        </div>

        <div id="hostel-application-content" class="page-content hidden">
            <header class="flex items-center justify-between mb-4">
                <h2 class="text-3xl font-semibold text-gray-800">Bed Allocation</h2>
            </header>

            <div id="hostel-initial-view" class="hostel-view bg-white p-6 rounded-lg shadow-md border border-gray-200 text-center hidden">
                <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-file-pen-line mx-auto text-purple-600 mb-4"><path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"></path><path d="M15 5h-3"></path><path d="M15 8h-3"></path></svg>
                <h3 class="text-2xl font-semibold text-gray-800 mb-2">Apply for Bed Allocation</h3>
                <p class="text-gray-600 mb-6 max-w-xl mx-auto">The portal for bed allocation for the <span id="hostel-application-session" class="font-semibold"></span> session is now open. Click the button below to start your application.</p>
                <button id="start-hostel-application-btn" class="btn-purple text-white py-2 px-6 rounded-md font-semibold shadow-md hover:bg-purple-800 transition-colors">
                    Apply Now
                </button>
            </div>

            <div id="hostel-form-view" class="hostel-view hidden bg-white p-6 rounded-lg shadow-md border border-gray-200">
                <form id="hostel-application-form" class="space-y-6">
                    <div>
                        <label for="hostel-preference" class="block text-sm font-medium text-gray-700 mb-1">Hostel Preference</label>
                        <select id="hostel-preference" name="hostel-preference" required="" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500">
                            <option value="">-- Select a Hostel --</option>
                        </select>
                    </div>
                    
                    <div class="bg-gray-50 p-4 rounded-md border border-gray-200">
                        <h4 class="font-semibold text-gray-800 mb-2">Terms and Conditions</h4>
                        <p class="text-sm text-gray-600 mb-3">I understand that hostel allocation is subject to availability and not guaranteed. I agree to abide by all hostel rules and regulations if my application is successful.</p>
                        <div class="flex items-center">
                            <input type="checkbox" id="hostel-terms-checkbox" name="hostel-terms-checkbox" required="" class="h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded">
                            <label for="hostel-terms-checkbox" class="ml-2 block text-sm text-gray-900">I agree to the terms and conditions.</label>
                        </div>
                    </div>
                    <div class="flex justify-end">
                        <button type="submit" class="btn-purple text-white py-2 px-6 rounded-md font-semibold shadow-md">Submit Application</button>
                    </div>
                </form>
            </div>

            <div id="hostel-pending-view" class="hostel-view hidden bg-white p-6 rounded-lg shadow-md border border-gray-200 text-center">
                <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-hourglass mx-auto text-blue-600 mb-4"><path d="M6 2v6a6 6 0 0 0 6 6 6 6 0 0 0 6-6V2"></path><path d="M6 22v-6a6 6 0 0 1 6-6 6 6 0 0 1 6 6v6"></path></svg>
                <h3 class="text-2xl font-semibold text-gray-800 mb-2">Application Submitted</h3>
                <p class="text-gray-600">Your bed application is now under review.</p>
            </div>

            <div id="hostel-allocated-view" class="hostel-view bg-white p-6 rounded-lg shadow-md border border-gray-200">
                <div class="text-center mb-6">
                    <div id="hostel-status-icon" class="mb-4"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-check-circle mx-auto text-green-600"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><path d="m9 11 3 3L22 4"></path></svg></div>
                    
                    <h3 id="hostel-status-title" class="text-2xl font-bold text-green-700">Allocation Confirmed</h3>
                    <p id="hostel-status-desc" class="text-gray-600 mt-2">Your hostel accommodation has been fully paid for and confirmed.</p>
                </div>

                <div id="reservation-timer-container" class="hidden mb-6 bg-orange-50 border border-orange-200 rounded-lg p-4 text-center">
                    <p class="text-orange-800 font-semibold text-sm uppercase tracking-wide mb-1">Payment Deadline</p>
                    <div class="text-3xl font-bold text-orange-600 font-mono" id="reservation-countdown">00d 00h 00m 00s</div>
                    <p class="text-xs text-orange-700 mt-2">Your reservation <span id="expireText"></span> on: <span id="reservation-expiry-date" class="font-medium"></span></p>
                </div>

                <div class="border-t pt-6 mt-6">
                    <h4 class="text-sm font-bold text-gray-500 uppercase tracking-wider mb-4">Room Details</h4>
                    <table class="w-full text-sm">
                        <tbody id="allocated-hostel-details" class="text-gray-700">
                    <tr class="border-b border-gray-100"><td class="py-3 px-2 font-medium text-gray-500">Hostel</td><td class="py-3 px-2 font-bold text-gray-800 text-right">AKANU IBIAM (HALL 4 - MALE)</td></tr>
                    <tr class="border-b border-gray-100"><td class="py-3 px-2 font-medium text-gray-500">Block / Location</td><td class="py-3 px-2 font-semibold text-gray-800 text-right">UNIT 2</td></tr>
                    <tr class="border-b border-gray-100"><td class="py-3 px-2 font-medium text-gray-500">Room</td><td class="py-3 px-2 font-semibold text-gray-800 text-right">1018</td></tr>
                    <tr class="border-b border-gray-100"><td class="py-3 px-2 font-medium text-gray-500">Bed Space</td><td class="py-3 px-2 font-semibold text-gray-800 text-right">A</td></tr>
                    <tr><td class="py-3 px-2 font-medium text-gray-500">Maintenance Fee</td><td class="py-3 px-2 font-bold text-purple-700 text-right">31,000.00</td></tr>
                </tbody>
                    </table>
                </div>

                <div class="mt-8 pt-6 border-t border-gray-100 flex flex-col sm:flex-row justify-end gap-4">
                    <button id="hostel-alloc-print-slip-btn" class="hidden w-full sm:w-auto bg-gray-800 text-white py-3 px-6 rounded-md font-semibold shadow-md hover:bg-gray-700 transition-colors flex items-start justify-start">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-printer mr-2"><polyline points="6 9 6 2 18 2 18 9"></polyline><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path><rect width="12" height="8" x="6" y="14" rx="2"></rect></svg>
                        Print Allocation Slip
                    </button>

                    <button id="hostel-pay-now-btn" class="hidden w-full sm:w-auto btn-purple text-white py-3 px-6 rounded-md font-semibold shadow-md hover:bg-purple-800 transition-colors flex items-center justify-center">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-credit-card mr-2"><rect width="20" height="14" x="2" y="5" rx="2"></rect><line x1="2" x2="22" y1="10" y2="10"></line></svg>
                        Pay Hostel Fee
                    </button>

                    <button id="hostel-print-slip-btn" class="w-full sm:w-auto bg-gray-800 text-white py-3 px-6 rounded-md font-semibold shadow-md hover:bg-gray-700 transition-colors flex items-center justify-center" data-allocation-id="6799">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-printer mr-2"><polyline points="6 9 6 2 18 2 18 9"></polyline><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path><rect width="12" height="8" x="6" y="14" rx="2"></rect></svg>
                        Print Maintenance Slip
                    </button>
                </div>
            </div>

            <div id="hostel-closed-view" class="hostel-view hidden bg-white p-6 rounded-lg shadow-md border border-gray-200 text-center">
                <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-calendar-x mx-auto text-red-500 mb-4"><path d="M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8"></path><line x1="16" x2="16" y1="2" y2="6"></line><line x1="8" x2="8" y1="2" y2="6"></line><line x1="3" x2="21" y1="10" y2="10"></line><path d="m17 17 5 5"></path><path d="m22 17-5 5"></path></svg>
                <h3 class="text-2xl font-semibold text-gray-800 mb-2">Bed Allocation is Closed</h3>
                <p class="text-gray-600">The portal for bed allocation is not currently open. Please check back later for updates on the next application window.</p>
            </div>
        </div>

        <div id="hostel-history-content" class="page-content hidden">
            <header class="flex items-center justify-between mb-4">
                <h2 class="text-3xl font-semibold text-gray-800">Hostel Allocation History</h2>
            </header>

            <div class="bg-white p-6 rounded-lg shadow-md border border-gray-200">
                <p class="text-gray-600 mb-6">Below is a record of your past and current hostel allocations.</p>
                <div class="overflow-x-auto">
                    <table class="min-w-full bg-white">
                        <thead>
                            <tr class="bg-gray-50 text-left text-gray-600 uppercase text-sm leading-normal">
                                <th class="py-3 px-6 border-b border-gray-200">Session</th>
                                <th class="py-3 px-6 border-b border-gray-200">Hostel Name</th>
                                <th class="py-3 px-6 border-b border-gray-200">Room Number</th>
                                <th class="py-3 px-6 border-b border-gray-200 text-center">Status</th>
                                <th class="py-3 px-6 border-b border-gray-200">Date Allocated</th>
                                <th class="py-3 px-6 border-b border-gray-200 text-center">Action</th>
                            </tr>
                        </thead>
                        <tbody id="hostel-history-table-body" class="text-gray-700 text-sm font-light">
                        <tr class="border-b border-gray-200 hover:bg-gray-50">
                            <td class="py-3 px-6 whitespace-nowrap">2025/2026</td>
                            <td class="py-3 px-6">AKANU IBIAM (HALL 4 - MALE)</td>
                            <td class="py-3 px-6 font-medium">UNIT 2, Room 1018, Bed A</td>
                            <td class="py-3 px-6 text-center">
                                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800">
                                    occupied
                                </span>
                            </td>
                            <td class="py-3 px-6">12/19/2025</td>
                            <td class="py-3 px-6 text-center">
                                
                            <button data-action="print-slip" data-session="2025/2026" data-hostel="AKANU IBIAM (HALL 4 - MALE)" data-room="UNIT 2, Room 1018, Bed A" data-allocation-id="6799" class="btn-purple text-white py-1 px-3 text-xs rounded-md font-semibold shadow-sm transition-opacity duration-200 hover:opacity-80">
                                Print Slip
                            </button>
                            </td>
                        </tr>
                    </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Placeholder for Payment Content (initially hidden) -->
        <div id="payment-content" class="page-content hidden">
            <header class="flex flex-col md:flex-row items-start md:items-center justify-between mb-4">
                <h2 class="text-3xl font-semibold text-gray-800 mb-2 md:mb-0">Payment</h2>
            </header>

            <div class="bg-white p-6 rounded-lg shadow-md border border-gray-200 mb-6 max-w-4xl mx-auto">
                <p class="text-gray-700 mb-6">
                    Select a payment type from the dropdown to proceed. You can also view and print receipts from your previous transactions below.
                </p>

                <section class="p-4 border border-gray-200 rounded-lg bg-gray-50 mb-8">
                    <h3 class="text-xl font-semibold text-gray-800 mb-4 flex items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-plus-circle mr-2 text-purple-600"><circle cx="12" cy="12" r="10"></circle><path d="M8 12h8"></path><path d="M12 8v8"></path></svg>
                        Make a New Payment
                    </h3>
                    <form id="new-payment-form" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label for="payment-type" class="block text-sm font-medium text-gray-700 mb-1">Payment Type</label>
                            <select id="payment-type" name="payment-type" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm rounded-md shadow-sm" required=""><option value="">Select a payment type</option></select>
                        </div>
                        <div>
                            <label for="payment-amount" class="block text-sm font-medium text-gray-700 mb-1">Amount (NGN)</label>
                            <input type="text" id="payment-amount" name="payment-amount" class="mt-1 block w-full pl-3 pr-3 py-2 text-base border-gray-300 bg-gray-100 focus:outline-none sm:text-sm rounded-md shadow-sm font-semibold" placeholder="Select a payment type" readonly="" required="">
                        </div>
                        <div class="md:col-span-2 flex justify-end mt-2">
                            <button type="submit" class="btn-purple text-white py-2 px-6 rounded-md font-semibold focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500">
                                Process Payment
                            </button>
                        </div>
                    </form>
                </section>

                <section>
                    <h3 class="text-xl font-semibold text-gray-800 mb-4 flex items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-receipt-text mr-2 text-purple-600"><path d="M4 2H20a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2z"></path><path d="M12 8h6"></path><path d="M12 12h6"></path><path d="M12 16h6"></path><path d="M6 8h.01"></path><path d="M6 12h.01"></path><path d="M6 16h.01"></path></svg>
                        Previous Payments
                    </h3>
                    <div class="overflow-x-auto">
                        <table class="min-w-full bg-white">
                            <thead>
                                <tr class="bg-gray-50 text-left text-gray-600 uppercase text-xs leading-normal">
                                    <th class="py-3 px-4 border-b border-gray-200">Session</th>
                                    <th class="py-3 px-4 border-b border-gray-200">Description</th>
                                    <th class="py-3 px-4 border-b border-gray-200">Reference</th>
                                    <th class="py-3 px-4 border-b border-gray-200 text-right">Amount</th>
                                    <th class="py-3 px-4 border-b border-gray-200 text-center">Status</th>
                                    <th class="py-3 px-4 border-b border-gray-200 text-center">Action</th>
                                </tr>
                            </thead>
                            <tbody id="payments-table-body" class="text-gray-700 text-sm font-light">
                            <tr class="border-b border-gray-200 hover:bg-gray-50">
                                <td class="py-3 px-4 whitespace-nowrap">2025/2026</td>
                                <td class="py-3 px-4">Hostel Maintenance Fee (AKANU IBIAM (HALL 4 - MALE))</td>
                                <td class="py-3 px-4">191397295667</td>
                                <td class="py-3 px-4 text-right font-medium">31,000.00</td>
                                <td class="py-3 px-4 text-center">
                                    <span class="px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800">
                                        paid
                                    </span>
                                </td>
                                <td class="py-3 px-4 text-center">
                                    <button data-action="view-receipt" data-reference="191397295667" class="text-purple-600 hover:underline text-xs font-semibold">View Receipt</button>
                                </td>
                            </tr>
                        
                            <tr class="border-b border-gray-200 hover:bg-gray-50">
                                <td class="py-3 px-4 whitespace-nowrap">2025/2026</td>
                                <td class="py-3 px-4">School Charges</td>
                                <td class="py-3 px-4">131383341218</td>
                                <td class="py-3 px-4 text-right font-medium">58,250.00</td>
                                <td class="py-3 px-4 text-center">
                                    <span class="px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800">
                                        paid
                                    </span>
                                </td>
                                <td class="py-3 px-4 text-center">
                                    <button data-action="view-receipt" data-reference="131383341218" class="text-purple-600 hover:underline text-xs font-semibold">View Receipt</button>
                                </td>
                            </tr>
                        
                            <tr class="border-b border-gray-200 hover:bg-gray-50">
                                <td class="py-3 px-4 whitespace-nowrap">2025/2026</td>
                                <td class="py-3 px-4">Hostel Application Fee</td>
                                <td class="py-3 px-4">341383382305</td>
                                <td class="py-3 px-4 text-right font-medium">2,000.00</td>
                                <td class="py-3 px-4 text-center">
                                    <span class="px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800">
                                        paid
                                    </span>
                                </td>
                                <td class="py-3 px-4 text-center">
                                    <button data-action="view-receipt" data-reference="341383382305" class="text-purple-600 hover:underline text-xs font-semibold">View Receipt</button>
                                </td>
                            </tr>
                        </tbody>
                        </table>
                    </div>
                </section>
            </div>
        </div>


        <!-- Placeholder for Student Loan Content (initially hidden) -->
        <div id="student-loan-content" class="page-content hidden">
            <h2 class="text-3xl font-semibold text-gray-800 mb-4">Student Loan Information</h2>
            <div class="bg-white p-6 rounded-lg shadow-md border border-gray-200">
                <p class="text-gray-700">This section will provide information about student loans, application status, and repayment schedules.</p>
                <p class="mt-2 text-gray-500">Content for the Student Loan page will go here.</p>
            </div>
        </div>

        <!-- Placeholder for Message Content (initially hidden) -->
        <div id="message-content" class="page-content hidden">
            <h2 class="text-3xl font-semibold text-gray-800 mb-4">Messages</h2>
            <div class="bg-white p-6 rounded-lg shadow-md border border-gray-200">
                <p class="text-gray-700">This section will contain internal messages and communication with faculty/administration.</p>
                <p class="mt-2 text-gray-500">Content for the Message page will go here.</p>
            </div>
        </div>

        <!-- Placeholder for Help Content (initially hidden) -->
        <div id="help-content" class="page-content hidden">
            <h2 class="text-3xl font-semibold text-gray-800 mb-4">Help &amp; Support</h2>
            <div id="help-content-area" class="bg-white p-6 rounded-lg shadow-md border border-gray-200">
                <h3 class="text-xl font-semibold text-gray-800 mb-4">Frequently Asked Questions</h3>
                <div class="space-y-4">
                    <div>
                        <h4 class="font-semibold text-gray-700">How do I start my clearance?</h4>
                        <p class="text-gray-600 mt-1">Navigate to <strong>Academics &gt; Clearance</strong> from the sidebar to begin. Ensure you have all required documents in PDF format and your passport photograph is less than 50KB.</p>
                    </div>
                    <div>
                        <h4 class="font-semibold text-gray-700">How can I print my payment receipt?</h4>
                        <p class="text-gray-600 mt-1">Go to the <strong>Payment</strong> page. Your transaction history is listed at the bottom. Click 'View Receipt' for any successful payment to generate a PDF copy.</p>
                    </div>
                    <div>
                        <h4 class="font-semibold text-gray-700">Why can't I register for an elective course?</h4>
                        <p class="text-gray-600 mt-1">You must register all available <strong>core</strong> courses for the session before the system will allow you to add any elective courses.</p>
                    </div>
                </div>
            </div>
        </div>

        <div id="full-calendar-content" class="page-content hidden">
            
            <div id="printable-calendar-header" class="hidden print:block mb-8 relative border-b border-gray-300 pb-4">
                <div class="absolute top-0 left-0">
                    <img id="printable-logo" src="" alt="Institution Logo" class="h-16 w-16">
                </div>
                <div class="text-center">
                    <h1 id="printable-institution-name" class="text-2xl font-bold text-gray-800"></h1>
                    <h2 class="text-xl font-semibold text-gray-700 mt-1">Academic Calendar</h2>
                    <h3 id="printable-academic-session" class="text-lg text-gray-600"></h3>
                </div>
            </div>

            <header class="flex flex-col md:flex-row items-start md:items-center justify-between mb-6 print:hidden">
                <h2 class="text-3xl font-semibold text-gray-800 mb-2 md:mb-0">Academic Calendar</h2>
                <button id="print-calendar-btn" class="btn-purple text-white py-2 px-4 rounded-md shadow-md">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-printer inline-block mr-2"><polyline points="6 9 6 2 18 2 18 9"></polyline><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path><rect width="12" height="8" x="6" y="14" rx="2"></rect></svg>
                    Print Calendar
                </button>
            </header>

            <div id="full-calendar-container" class="space-y-8">
                </div>
            
            <div id="printable-calendar-footer" class="hidden print:block mt-8 pt-4 border-t border-gray-300">
                <p class="text-xs text-gray-500 text-center">
                     <span id="copyright-year"></span> <span id="copyright-institution-name"></span>. All rights reserved.
                    <span class="mx-2">|</span>
                    <span id="printable-footer-date"></span>
                </p>
            </div>
        </div>

        <!-- Placeholder for change password Content (initially hidden) -->
        <div id="change-password-content" class="page-content hidden">
            <h2 class="text-3xl font-semibold text-gray-800 mb-4">Change Password</h2>
            <div class="bg-white p-6 rounded-lg shadow-md border border-gray-200 max-w-lg">
                <form class="space-y-4">
                    <div>
                        <label for="current-password" class="block text-sm font-medium text-gray-700">Current Password</label>
                        <input type="password" id="current-password" name="current-password" required="" class="mt-1 w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500">
                    </div>
                    <div>
                        <label for="new-password" class="block text-sm font-medium text-gray-700">New Password</label>
                        <input type="password" id="new-password" name="new-password" required="" class="mt-1 w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500">
                    </div>
                    <div>
                        <label for="confirm-password" class="block text-sm font-medium text-gray-700">Confirm New Password</label>
                        <input type="password" id="confirm-password" name="confirm-password" required="" class="mt-1 w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500">
                    </div>
                    <div class="flex justify-end">
                        <button type="submit" class="btn-purple text-white py-2 px-4 rounded-md font-semibold">Update Password</button>
                    </div>
                </form>
            </div>
        </div>

        <footer id="global-footer" class="text-center text-sm text-gray-500 py-4 border-t border-gray-200 mt-8">
            <p class="mb-1"> <span id="footer-copyright-year">2026</span> <span id="footer-institution-name">University of Benin</span>. All Rights Reserved.</p>
            <p>
                <span id="footer-app-name">SPESSE Student Information System</span> v<span id="footer-app-version">0.1.0</span> - <span id="footer-developer-name">Ultison<b></b></span>
            </p>
        </footer>

    </div>

    <!-- Custom Alert Modal -->
    <div id="custom-alert-modal-overlay" class="fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center z-50 hidden">
        <div id="custom-alert-modal" class="bg-white p-6 rounded-lg shadow-xl w-11/12 md:w-1/3 max-w-md relative flex flex-col max-h-[85vh]">
            <button id="close-alert-modal-btn" class="absolute top-3 right-3 text-gray-500 hover:text-gray-800 focus:outline-none">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>
            </button>
            <h3 id="custom-alert-title" class="text-2xl font-semibold text-gray-800 mb-4 border-b pb-2 flex items-center flex-shrink-0">
                <!-- Icon will be dynamically inserted here -->
                <span id="alert-icon-container" class="mr-2 text-yellow-500"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-alert-triangle"><path d="M10.29 3.86 1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><path d="M12 9v4"></path><path d="M12 17h.01"></path></svg></span>
                <span id="alert-title-text">Error</span>
            </h3>
            <p id="custom-alert-message" class="text-gray-700 mb-6 overflow-y-auto min-h-0">Could not load registration data.</p>
            <div class="flex justify-end space-x-3 flex-shrink-0">
                <button class="bg-gray-200 text-gray-800 py-2 px-4 rounded-md font-semibold hover:bg-gray-300 transition duration-200 hidden" id="cancel-alert-btn">
                    Cancel
                </button>
                <button class="btn-purple text-white py-2 px-4 rounded-md shadow-md transition duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50" id="confirm-alert-btn">OK</button>
            </div>
        </div>
    </div>




    <div id="templates" class="hidden">
        <div id="template-make-payment">
            <h2 class="text-2xl font-bold text-gray-800 mb-6 border-b pb-3">Make Payment</h2>
            <div class="p-4 rounded-r-lg mb-6" style="background-color: #f0e7ef; border-left: 4px solid #55074B; color: #44053b;">
                <p class="font-semibold">Payment Required</p>
                <p>You are required to pay a non-refundable Application Fee of <strong id="payment-amount-display"></strong> and <b>Portal Charges</b> to proceed.</p>
            </div>
            <div id="payment-status-container"></div>
        </div>

        <div id="template-payment-summary-modal">
            <div class="bg-white rounded-lg shadow-2xl max-w-sm w-full mx-4">
                <div class="p-4 border-b flex justify-between items-center">
                    <h3 class="text-lg font-bold text-gray-800">Confirm Payment</h3>
                    <button data-action="hide-modal" class="text-gray-500 hover:text-gray-800 font-bold text-2xl"></button>
                </div>
                <div class="p-6">
                    <div class="bg-gray-50 p-4 rounded-lg space-y-3">
                        <div class="flex justify-between">
                            <span class="font-semibold text-gray-600">Description:</span>
                            <span id="summary-payment-description" class="font-medium text-gray-800"></span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-600">Application fee:</span>
                            <span id="summary-application-fee" class="font-medium text-gray-800"></span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-600">Portal charges:</span>
                            <span id="summary-portal-fee" class="font-medium text-gray-800"></span>
                        </div>
                        <hr class="my-2">
                        <div class="flex justify-between items-center">
                            <span class="font-semibold text-gray-600">Total Amount:</span>
                            <strong id="summary-total-amount" class="text-xl" style="color: #55074B;"></strong>
                        </div>
                    </div>
                </div>
                <div class="bg-gray-100 px-6 py-4 rounded-b-lg text-right">
                    <button data-action="confirm-and-pay" class="w-full text-white font-bold py-3 px-8 rounded-lg shadow-lg" style="background-color: #55074B;">Pay Now</button>
                </div>
            </div>
        </div>
        
        <div id="template-modal">
            <div class="bg-white rounded-lg shadow-2xl max-w-sm w-full mx-4">
                <div class="p-4 border-b">
                    <h3 class="text-lg font-bold text-gray-800">Notification</h3>
                </div>
                <div id="modal-message" class="p-6 text-gray-700"></div>
                <div class="bg-gray-50 px-6 py-3 rounded-b-lg text-right">
                    <button data-action="hide-modal" class="btn-purple text-white py-2 px-4 rounded-md">OK</button>
                </div>
            </div>
        </div>

    </div>

    <!-- JavaScript for Mobile Menu Toggle, Profile Dropdown, and Page Switching -->
    <script>
!function(){let e="app/",t=null,a=null,n={},s=!1,i,r=[],o,l,d="",c,u,m,p,g;document.addEventListener("DOMContentLoaded",function(){let h=[],$=1,f={institution:{name:"University of Benin",logoUrl:"uniben.png"},softwareInfo:{developer:"Ultison<b>&#174;</b>",appName:"SPESSE Student Information System",version:"0.1.0"},data:JSON.parse(GsonApis.session("ultison")).data,activePaymentGateway:"remita",loading:!1};async function y(){await function t(){let n={action:"refreshUserData"};return f.loading=!0,new Promise(t=>{let s=setInterval(()=>{f.loading||(clearInterval(s),t(!0))},100);GsonApis.request.postJson(e+"?student",n,e=>{if(e.status&&e.data){if(console.log("Session data refreshed from backend."),f.data.userinfo=e.data,f.hostelBookingOpen=Boolean(f.data.userinfo.hostelBookingOpen),f.data.userinfo.clearanceDetails)try{a=JSON.parse(f.data.userinfo.clearanceDetails),i=1===f.data.userinfo.isCleared?"approved":2===f.data.userinfo.isCleared?"rejected":a.status?a.status:"pending"}catch(t){}let n=JSON.parse(GsonApis.session("ultison"));n.data.userinfo=e.data,GsonApis.session("ultison",JSON.stringify(n)),b(f.data.userinfo),updateClearanceUI(),tB(),document.getElementById("payment-content").classList.contains("hidden")||(tv(),t$(f.data.userinfo)),document.getElementById("course-registration-content").classList.contains("hidden")||A(),th(f.data.userinfo)}f.loading=!1},e=>{console.warn("Data refresh failed:",e),f.loading=!1})})}();let t=JSON.parse(GsonApis.session("ultison"));f.data=t.data}function b(e){let t=`${e.firstName||""} ${e.middleName||""} ${e.lastName||""}`.trim(),a=document.getElementById("profile-avatar-img"),n=document.querySelector("#student-profile-button span");if(n&&(n.textContent=t||"Student"),a){if(e.passportPhotoUrl)a.src=e.passportPhotoUrl;else{let s=e.firstName||"",i=e.lastName||"",r=(s.charAt(0)+i.charAt(0)).toUpperCase();a.src=`https://placehold.co/32x32/cccccc/333333?text=${r||"U"}`}}let o=document.querySelector("#dashboard-content h3");o&&(o.textContent=`Welcome, ${t||"Student"}!`);let l=document.querySelector("#dashboard-content p span.text-purple-600");l&&(l.textContent=e.studentId);let d=document.querySelector("#dashboard-content .bg-purple-100");d&&(d.textContent=`Academic Session: ${e.currentSession||"N/A"}`);let c=document.getElementById("academic-info-loader");c&&(c.classList.remove("space-y-3","animate-pulse"),c.classList.add("text-gray-600","space-y-2"),c.innerHTML=`
                        <p><span class="font-medium text-gray-700">Faculty:</span> ${e.facultyName||"N/A"}</p>
                        <p><span class="font-medium text-gray-700">Department:</span> ${e.departmentName||"N/A"}</p>
                        <p><span class="font-medium text-gray-700">Degree Program:</span> ${e.programName||"N/A"}</p>
                        <p><span class="font-medium text-gray-700">Current GPA:</span> ${e.cgpa||"0.00"}</p>
                        <p><span class="font-medium text-gray-700">Expected Graduation:</span> ${e.expectedGraduationYear||"N/A"}</p>
                    `)}if(f.hostelBookingOpen=Boolean(f.data.userinfo.hostelBookingOpen),f.data.notifications=[],f.helpMessage=`
                <h3 class="text-xl font-semibold text-gray-800 mb-4">Frequently Asked Questions</h3>
                <div class="space-y-4">
                    <div>
                        <h4 class="font-semibold text-gray-700">How do I start my clearance?</h4>
                        <p class="text-gray-600 mt-1">Navigate to <strong>Academics > Clearance</strong> from the sidebar to begin. Ensure you have all required documents in PDF format and your passport photograph is less than 50KB.</p>
                    </div>
                    <div>
                        <h4 class="font-semibold text-gray-700">How can I print my payment receipt?</h4>
                        <p class="text-gray-600 mt-1">Go to the <strong>Payment</strong> page. Your transaction history is listed at the bottom. Click 'View Receipt' for any successful payment to generate a PDF copy.</p>
                    </div>
                    <div>
                        <h4 class="font-semibold text-gray-700">Why can't I register for an elective course?</h4>
                        <p class="text-gray-600 mt-1">You must register all available <strong>core</strong> courses for the session before the system will allow you to add any elective courses.</p>
                    </div>
                </div>
            `,!function e(t){if(logoElement=document.getElementById("institution-logo"),nameElement=document.getElementById("institution-name"),logoElement&&t.institution.logoUrl&&(logoElement.src=t.institution.logoUrl,logoElement.alt=`${t.institution.name} Logo`),nameElement&&t.institution.name&&(nameElement.textContent=t.institution.name,document.title=`${t.institution.name} | Student Portal`),t.institution.logoUrl){var a;let n;a=t.institution.logoUrl,(n=document.querySelector("link[rel*='icon']")||document.createElement("link")).type="image/x-icon",n.rel="shortcut icon",n.href=a,document.getElementsByTagName("head")[0].appendChild(n)}}(f),f.data&&f.data.userinfo&&f.data.userinfo.clearanceDetails)try{let v=JSON.parse(f.data.userinfo.clearanceDetails);a=v,v.profileData&&function e(t,a){if(t&&a){for(let n in a)(null===t[n]||""===t[n]||void 0===t[n])&&(t[n]=a[n]);if(a.nextOfKin)for(let s in t.nextOfKin||(t.nextOfKin={}),a.nextOfKin)t.nextOfKin[s]=a.nextOfKin[s]}}(f.data.userinfo,v.profileData)}catch(x){console.error("Could not parse clearanceDetails JSON:",x),a=null}let w;if(f.data&&f.data.userinfo)switch(f.data.userinfo.isCleared){case 1:w="approved";break;case 2:w="rejected";break;default:w=a&&a.status?a.status:"pending"}else w="pending";function E(e,t,a,n,s){let i=new XMLHttpRequest;i.upload.addEventListener("progress",e=>{if(e.lengthComputable){let t=Math.round(e.loaded/e.total*100);a(t)}}),i.addEventListener("load",()=>{i.status>=200&&i.status<300?n(i.responseText):s(`HTTP Error: ${i.status} ${i.statusText}`)}),i.addEventListener("error",()=>{s("A network error occurred.")}),i.open("POST",e,!0),i.setRequestHeader("Authorization","Bearer "+GsonApis.request.sendAuthorization),i.send(t)}function k(){let e={passportPhotoUrl:d,firstName:eg.value,middleName:eh.value,lastName:e$.value,email:e0.value,phoneNumber:ek.value,dateOfBirth:ef.value,gender:ey.value,maritalStatus:eb.value,nationality:ev.value,stateOfOrigin:ex.value,lgaOfOrigin:ew.value,address:eL.value,sponsorName:e_.value,sponsorRelationship:eI.value,sponsorPhone:eB.value,sponsorEmail:eS.value,nextOfKin:{name:eC.value,relationship:e9.value,phone:eN.value,address:eA.value}},t=[];if(!eM.classList.contains("hidden")){let a=[];eq.querySelectorAll(".grid.grid-cols-3").forEach(e=>{let t=e.querySelector('select[name="first-sitting-subject[]"]').value,n=e.querySelector('select[name="first-sitting-grade[]"]').value;t&&n&&a.push({subject:t,grade:n})}),t.push({sitting:"1",examType:eT.value,examNumber:e4.value,examDate:o.value,subjects:a})}if(!eO.classList.contains("hidden")){let s=[];eD.querySelectorAll(".grid.grid-cols-3").forEach(e=>{let t=e.querySelector('select[name="second-sitting-subject[]"]').value,a=e.querySelector('select[name="second-sitting-grade[]"]').value;t&&a&&s.push({subject:t,grade:a})}),t.push({sitting:"2",examType:ej.value,examNumber:e5.value,examDate:l.value,subjects:s})}let i=[];document.querySelectorAll('[id^="alevel-section-"]').forEach(e=>{let t=[];e.querySelector('[id$="-subjects-container"]').querySelectorAll(".grid.grid-cols-3").forEach(e=>{let a=e.querySelector('select[name*="-subject[]"]').value,n=e.querySelector('select[name*="-grade[]"]').value;a&&n&&t.push({name:a,grade:n})}),i.push({examType:e.querySelector('[name^="alevel-exam-type-"]').value,examNumber:e.querySelector('[name^="alevel-exam-number-"]').value,institution:e.querySelector('[name^="alevel-institution-"]').value,year:e.querySelector('[name^="alevel-year-"]').value,subjects:t})});let r=[];document.querySelectorAll('[id^="he-section-"]').forEach(e=>{r.push({institution:e.querySelector('[name^="he-institution-"]').value,qualification:e.querySelector('[name^="he-qualification-name-"]').value,graduationYear:e.querySelector('[name^="he-year-graduation-"]').value,degreeClass:e.querySelector('[name^="he-degree-class-"]').value,cgpa:e.querySelector('[name^="he-cgpa-"]').value})});let c=[];for(let u in n){let m=document.querySelector(`label[for="${u}"]`);if(m){let p=m.textContent.replace("*","").trim();c.push({name:p,url:n[u]})}}return{status:"pending",profileData:e,educationalHistory:{olevel:t,advancedLevel:i,higherEducation:r},uploadedDocuments:c}}function L(t){let{isValid:a,errorMessage:n}=function e(t){let a=!0,n="";if(0===t){let s=[eg,e$,ef,ey,ev,ex,ew,e0,ek,eL,e_,eI,eB,eC,e9,eN,eA];for(let i of s)if("file"===i.type){if(!i.files[0]){a=!1,n=`Please upload your ${i.labels?i.labels[0].textContent.replace("*","").trim():"passport photograph"}.`;break}}else if(!i.value.trim()){a=!1,n=`Please fill in all required fields in the Profile section. Missing: ${i.labels?i.labels[0].textContent.replace("*","").trim():i.id}.`;break}!a||d||eu.files&&0!==eu.files.length||(a=!1,n="Please upload your passport photograph."),a&&!ep.classList.contains("hidden")&&(a=!1,n=ep.textContent)}else if(1===t){let r=!1;if(!eM.classList.contains("hidden")){if(r=!0,eT.value&&e4.value.trim()&&o.value){let c=eq.querySelectorAll('select[name="first-sitting-subject[]"]'),u=eq.querySelectorAll('select[name="first-sitting-grade[]"]');if(0===c.length)a=!1,n="Please add at least one subject for First Sitting (O'Level).";else for(let m=0;m<c.length;m++)if(!c[m].value||!u[m].value){a=!1,n="Please select both subject and grade for all entries in First Sitting (O'Level).";break}}else a=!1,n="Please provide Exam Type, Exam Number, and Exam Date for First Sitting (O'Level)."}if(a&&!eO.classList.contains("hidden")){if(r=!0,ej.value&&e5.value.trim()&&l.value){let p=eD.querySelectorAll('select[name="second-sitting-subject[]"]'),g=eD.querySelectorAll('select[name="second-sitting-grade[]"]');if(0===p.length)a=!1,n="Please add at least one subject for Second Sitting (O'Level), or remove the section.";else for(let h=0;h<p.length;h++)if(!p[h].value||!g[h].value){a=!1,n="Please select both subject and grade for all entries in Second Sitting (O'Level), or remove the section.";break}}else a=!1,n="Please provide Exam Type, Exam Number, and Exam Date for Second Sitting (O'Level)."}document.querySelectorAll('[id^="alevel-section-"]').forEach((e,t)=>{if(!a)return;r=!0;let s=e.querySelector('[name^="alevel-exam-type-"]'),i=e.querySelector('[name^="alevel-exam-number-"]'),o=e.querySelector('[name^="alevel-institution-"]'),l=e.querySelector('[name^="alevel-year-"]'),d=e.querySelector('[id$="-subjects-container"]');if(!s.value||!i.value.trim()||!o.value.trim()||!l.value.trim()){a=!1,n=`Please fill in all required fields for Advanced Level Result #${t+1}.`;return}let c=d.querySelectorAll('[name^="alevel-subject-"]'),u=d.querySelectorAll('[name^="alevel-grade-"]');if(c.length>0){for(let m=0;m<c.length;m++)if(!c[m].value||!u[m].value){a=!1,n=`Please select both subject and grade for all entries in Advanced Level Result #${t+1}.`;return}}}),document.querySelectorAll('[id^="he-section-"]').forEach((e,t)=>{if(!a)return;r=!0;let s=e.querySelector('[name^="he-institution-"]'),i=e.querySelector('[name^="he-qualification-name-"]'),o=e.querySelector('[name^="he-year-graduation-"]'),l=e.querySelector('[name^="he-degree-class-"]'),d=e.querySelector('[name^="he-cgpa-"]');if(!s.value.trim()||!i.value.trim()||!o.value.trim()||!l.value||!d.value.trim()){a=!1,n=`Please fill in all required fields for Higher Education Result #${t+1}.`;return}let c=parseFloat(d.value);if(isNaN(c)||c<0||c>5){a=!1,n=`CGPA for Higher Education Result #${t+1} must be a number between 0.00 and 5.00.`;return}}),!r&&a&&(a=!1,n="You must provide at least one academic qualification (O'Level, Advanced Level, or Higher Education).")}else if(2===t)for(let $ of eZ){if($.required&&"Uploaded"!==$.status.textContent&&"Verified"!==$.status.textContent){a=!1,n=`Please upload the required document: ${$.label}.`;break}if(!$.error.classList.contains("hidden")){a=!1,n=$.error.textContent;break}}return{isValid:a,errorMessage:n}}(to);if(!a){tO("Verify Input",n,"warning");return}let s=k(),i=document.getElementById(`${es[to].id.replace("-tab","")}-next-btn`);i&&(i.disabled=!0),GsonApis.request.postJson(e+"?student",{action:"updateClearanceRecord",data:{clearanceDetails:s}},e=>{i&&(i.disabled=!1);let a=e;if(a.status){f.data.userinfo.clearanceDetails=s;let n=JSON.parse(GsonApis.session("ultison"));n.data.userinfo.clearanceDetails=n.data.userinfo.clearanceDetails,GsonApis.session("ultison",JSON.stringify(n)),tl.add(to),to=t,_()}else tO("Save Failed",a.message||"Could not save your progress.","warning")},e=>{i&&(i.disabled=!1),tO("Network Error",`Could not save progress: ${e}. Please try again.`,"warning")})}function _(){en.forEach((e,t)=>{let a=e.dataset.tab,n=document.getElementById(`${a}-tab`);e.classList.remove("active","completed","disabled"),n.classList.remove("active"),t===to?(e.classList.add("active"),n.classList.add("active")):tl.has(t)?(e.classList.add("completed"),e.disabled=!1):(e.classList.add("disabled"),e.disabled=!0)})}function I(e,t){let a=e?.officer;if(a&&Array.isArray(a)||(a=e?.clearancecomment?.officer),Array.isArray(a)&&a.length>0){let n=a[a.length-1],s=n.formattedTime;if(!s&&n.time){let i=new Date(n.time);s=isNaN(i.getTime())?n.time:i.toLocaleDateString("en-GB",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})}let r=n.comment?n.comment.replace(/\n/g,"<br>"):"";if(t.querySelector(".officer-feedback-card"))return;let o=document.createElement("div");o.className="officer-feedback-card bg-blue-50 border-l-4 border-blue-500 p-4 rounded-r shadow-sm mb-6 mt-4 text-left",o.innerHTML=`
                        <div class="flex justify-between items-center mb-2">
                            <h4 class="text-xs font-bold text-blue-900 uppercase tracking-wide flex items-center">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-info mr-2"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg>
                                Officer Comment
                            </h4>
                            <span class="text-xs text-blue-700 bg-white px-2 py-1 rounded border border-blue-100 shadow-sm">${s||""}</span>
                        </div>
                        <div class="text-gray-800 text-sm font-medium leading-relaxed">
                            ${r}
                        </div>
                        <div class="mt-2 text-right">
                            <span class="text-xs text-gray-500 italic">By: ${n.name}</span>
                        </div>
                    `;let l=t.querySelector("h3");l?l.parentNode.insertBefore(o,l.nextSibling):t.prepend(o)}}function B(t){t.disabled=!0,t.innerHTML=`
                    <svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                    </svg>
                    Generating...
                `,GsonApis.request.postJson(e+"?student",{action:"generateClearancePdf"},e=>{let a=e;a.status&&a.link?window.open(a.link,"_blank"):tO("Error",a.message||"Could not generate the PDF link.","warning"),t.disabled=!1,t.innerHTML=`
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-printer inline-block mr-2"><polyline points="6 9 6 2 18 2 18 9"/><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"/><rect width="12" height="8" x="6" y="14" rx="2"/></svg>
                            Print Clearance Slip
                        `},e=>{tO("Network Error",`Could not connect to the server: ${e}`,"warning"),t.disabled=!1,t.innerHTML=`
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-printer inline-block mr-2"><polyline points="6 9 6 2 18 2 18 9"/><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"/><rect width="12" height="8" x="6" y="14" rx="2"/></svg>
                            Print Clearance Slip
                        `})}function S(){let e=f.data.userinfo.courseRegistration;if(!e){tO("Error","Could not load registration data.","warning");return}r=JSON.parse(JSON.stringify(e.registeredCourses)),"submitted"===e.status||"closed"===e.status?(document.getElementById("registration-main-panel").classList.add("hidden"),document.getElementById("registration-submitted-panel").classList.remove("hidden"),function e(t){let a=document.getElementById("submitted-courses-tbody");if(a.innerHTML="",!t||0===t.length){a.innerHTML='<tr><td colspan="6" class="py-4 px-6 text-center text-gray-500 italic">No courses were submitted.</td></tr>';return}let n=[...t];n.sort((e,t)=>{let a=e?.type||"",n=t?.type||"",s=e?.title||"",i=t?.title||"",r=e?.semester||0,o=t?.semester||0,l=a.localeCompare(n);if(0!==l)return l;let d=r-o;return 0!==d?d:s.localeCompare(i)}),n.forEach((e,t)=>{let n="Core"===e.type?"bg-blue-100 text-blue-800":"Elective"===e.type?"bg-purple-100 text-purple-800":"bg-yellow-100 text-yellow-800",s=1===e.semester?"First":"Second",i=`
                        <tr class="border-b border-gray-200">
                            <td class="py-3 px-4">${t+1}</td>
                            <td class="py-3 px-4">${e.code||"N/A"}</td>
                            <td class="py-3 px-4">${e.title||"Untitled Course"}</td>
                            <td class="py-3 px-4 text-center">${s}</td>
                            <td class="py-3 px-4 text-center">
                                <span class="px-2 py-1 text-xs font-semibold rounded-full ${n}">${e.type||"N/A"}</span>
                            </td>
                            <td class="py-3 px-4 text-center">${e.units||0}</td>
                        </tr>
                    `;a.innerHTML+=i})}(e.submittedCourses),"closed"===e.status&&(document.querySelector("#registration-submitted-panel h3").textContent="Registration is Closed",document.querySelector("#registration-submitted-panel p").textContent="The portal for course registration is currently closed.")):(document.getElementById("registration-main-panel").classList.remove("hidden"),document.getElementById("registration-submitted-panel").classList.add("hidden")),N()}function C(e){let t=document.getElementById("allocated-hostel-details");if(!t)return;let a=e.hall_name||e.hostel_name||"Unknown Hostel",n=e.block_name||e.block||"N/A",s=e.room_name||e.room_number||"N/A",i=e.bed_letter||e.bed_code||"N/A",r=e.maintenance_fee?new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"}).format(e.maintenance_fee):"N/A";t.innerHTML=`
                    <tr class="border-b border-gray-100"><td class="py-3 px-2 font-medium text-gray-500">Hostel</td><td class="py-3 px-2 font-bold text-gray-800 text-right">${a}</td></tr>
                    <tr class="border-b border-gray-100"><td class="py-3 px-2 font-medium text-gray-500">Block / Location</td><td class="py-3 px-2 font-semibold text-gray-800 text-right">${n}</td></tr>
                    <tr class="border-b border-gray-100"><td class="py-3 px-2 font-medium text-gray-500">Room</td><td class="py-3 px-2 font-semibold text-gray-800 text-right">${s}</td></tr>
                    <tr class="border-b border-gray-100"><td class="py-3 px-2 font-medium text-gray-500">Bed Space</td><td class="py-3 px-2 font-semibold text-gray-800 text-right">${i}</td></tr>
                    <tr><td class="py-3 px-2 font-medium text-gray-500">Maintenance Fee</td><td class="py-3 px-2 font-bold text-purple-700 text-right">${r}</td></tr>
                `}function N(){let e=f.data.userinfo.courseRegistration;document.getElementById("reg-session-semester").textContent=e.session,document.getElementById("reg-credit-limit").textContent=`${e.minCredits} (Min) - ${e.maxCredits} (Max)`;let t=document.getElementById("reg-status");t.textContent=e.status.charAt(0).toUpperCase()+e.status.slice(1),t.className="text-lg font-semibold ","open"===e.status.toLowerCase()?t.classList.add("text-yellow-600"):"submitted"===e.status.toLowerCase()?t.classList.add("text-blue-600"):"approved"===e.status.toLowerCase()?t.classList.add("text-green-600"):t.classList.add("text-red-600"),function e(){let t=document.getElementById("course-select"),{availableCourses:a}=f.data.userinfo.courseRegistration,n=a.filter(e=>"core"===e.type).map(e=>e.code),s=r.filter(e=>"core"===e.type).map(e=>e.code),i=n.every(e=>s.includes(e));t.innerHTML='<option value="">-- Select a course to add --</option>',a.forEach(e=>{let a=r.some(t=>t.code===e.code);if(!a){let n=document.createElement("option");n.value=e.code,n.dataset.course_id=e.course_id,n.dataset.units=e.units,n.dataset.title=e.title,n.dataset.type=e.type,n.dataset.semester=e.semester;let s=1===e.semester?"1st Sem":"2nd Sem";"elective"!==e.type||i?n.textContent=`${e.code} - ${e.title} (${e.units} Units) [${e.type}] - ${s}`:(n.disabled=!0,n.textContent=`${e.code} - ${e.title} (Register all core courses first)`),t.appendChild(n)}})}(),function e(){let t=document.getElementById("registered-courses-tbody");if(t.innerHTML="",0===r.length){t.innerHTML='<tr><td colspan="7" class="py-4 px-6 text-center text-gray-500 italic">No courses registered yet.</td></tr>';return}r.forEach((e,a)=>{let n="repeat"===e.type,s="core"===e.type?"bg-blue-100 text-blue-800":"elective"===e.type?"bg-purple-100 text-purple-800":"bg-yellow-100 text-yellow-800",i=1===e.semester?"First":"Second",r=n?'<button class="text-gray-400 cursor-not-allowed" ...>...</button>':`<button data-code="${e.code}" class="remove-course-btn ...">...</button>`,o=`
                        <tr class="border-b border-gray-200 hover:bg-gray-50">
                            <td class="py-3 px-4">${a+1}</td>
                            <td class="py-3 px-4">${e.code}</td>
                            <td class="py-3 px-4">${e.title}</td>
                            <td class="py-3 px-4 text-center">${i}</td>
                            <td class="py-3 px-4 text-center">
                                <span class="px-2 py-1 text-xs font-semibold rounded-full ${s}">
                                    ${e.type}
                                </span>
                            </td>
                            <td class="py-3 px-4 text-center">${e.units}</td>
                            <td class="py-3 px-4 text-center">${r}</td>
                        </tr>
                    `;t.innerHTML+=o})}(),A()}function A(){let e=f.data.userinfo.courseRegistration,t=[];t="submitted"===e.status||"closed"===e.status?e.submittedCourses||[]:r;let a=t.reduce((e,t)=>e+t.units,0),n=e.maxCredits,s=document.getElementById("reg-registered-units");s.textContent=a,s.classList.remove("text-red-600","text-green-600"),a>n?s.classList.add("text-red-600"):s.classList.add("text-green-600")}i=w,f.data&&f.data.userinfo&&(b(f.data.userinfo),function e(t){let a=document.getElementById("ar-student-details"),n=document.getElementById("ar-academic-summary");a&&(a.innerHTML=`
                        <p><span class="font-medium text-gray-700">Name:</span> ${t.firstName||""} ${t.middleName||""} ${t.lastName||""}</p>
                        <p><span class="font-medium text-gray-700">Matriculation Number:</span> ${t.matriculationNumber||"..."}</p>
                        <p><span class="font-medium text-gray-700">College/Faculty:</span> ${t.facultyName||"N/A"}</p>
                        <p><span class="font-medium text-gray-700">Department:</span> ${t.departmentName||"N/A"}</p>
                        <p><span class="font-medium text-gray-700">Course of Study:</span> ${t.programName||"N/A"}</p>
                        <p><span class="font-medium text-gray-700">Level:</span> ${t.currentLevel||"N/A"}</p>
                        <p><span class="font-medium text-gray-700">Year of Entry:</span> ${t.entrySession||"N/A"}</p>
                        <p><span class="font-medium text-gray-700">Mode of Entry:</span> ${t.entryMode||"N/A"}</p>
                        <p><span class="font-medium text-gray-700">Current Academic Session:</span> ${t.currentSession||"N/A"}</p>
                        <p><span class="font-medium text-gray-700">Expected Graduation:</span> ${t.expectedGraduationYear||"N/A"}</p>
                    `),n&&(n.innerHTML=`
                        <p><span class="font-medium text-gray-700">Overall GPA:</span> <span class="text-green-600 font-bold">${t.cgpa||"0.00"}</span></p>
                        <p><span class="font-medium text-gray-700">Total Credits Earned:</span> ${t.creditsEarned||0} / ${t.totalCredits||120}</p>
                        <p><span class="font-medium text-gray-700">Academic Standing:</span> ${t.academicStanding||"N/A"}</p>
                    `),function e(){h=[],$=1;let t=f.data.userinfo.results||{},a=f.data.userinfo.courseRegistration||{},n=a.submittedCourses||[],s=new Set(n.map(e=>e.code));for(let i in n.forEach(e=>{h.push({...e,session:a.session,grade:"N/A",status:"In Progress"})}),t)for(let r in t[i])t[i][r].forEach(e=>{s.has(e.code)||h.push({...e,session:i,status:"Completed"})});t4();let o=document.getElementById("prev-page-btn"),l=document.getElementById("next-page-btn"),d=o.cloneNode(!0);o.parentNode.replaceChild(d,o),d.addEventListener("click",()=>{$>1&&($--,t4())});let c=l.cloneNode(!0);l.parentNode.replaceChild(c,l),c.addEventListener("click",()=>{let e=Math.ceil(h.length/5);$<e&&($++,t4())})}()}(f.data.userinfo),t$(f.data.userinfo),th(f.data.userinfo)),document.getElementById("add-course-form").addEventListener("submit",function(e){e.preventDefault();let t=document.getElementById("course-select"),a=t.options[t.selectedIndex];if(!a||!a.value)return;let n={course_id:a.dataset.course_id,code:a.value,title:a.dataset.title,units:parseInt(a.dataset.units),type:a.dataset.type,semester:parseInt(a.dataset.semester)};if("elective"===n.type){let s=f.data.userinfo.courseRegistration.availableCourses.filter(e=>"core"===e.type).map(e=>e.code),i=r.filter(e=>"core"===e.type).map(e=>e.code),o=s.every(e=>i.includes(e));if(!o){tO("Prerequisite Missing","You must register all available core courses before adding an elective.","warning");return}}let l=r.reduce((e,t)=>e+t.units,0),d=f.data.userinfo.courseRegistration.maxCredits;if(l+n.units>d){tO("Credit Limit Exceeded",`Adding this course would exceed the maximum of ${d} credit units.`,"warning");return}r.push(n),N()}),document.getElementById("registered-courses-tbody").addEventListener("click",function(e){let t=e.target.closest(".remove-course-btn");if(t){let a=t.dataset.code;r=r.filter(e=>e.code!==a),N()}}),document.getElementById("submit-registration-btn").addEventListener("click",function(){let t=this,a=f.data.userinfo.courseRegistration.availableCourses.filter(e=>"core"===e.type).map(e=>e.code),n=r.filter(e=>"core"===e.type).map(e=>e.code),s=a.every(e=>n.includes(e)),i=r.reduce((e,t)=>e+t.units,0),{minCredits:o,maxCredits:l}=f.data.userinfo.courseRegistration;if(!s&&i<l){tO("Submission Blocked","You must register for all available core courses before you can submit.","warning");return}if(i<o||i>l){tO("Invalid Credit Load",`Your total registered units (${i}) must be between ${o} and ${l}.`,"warning");return}t.disabled=!0;let d=t.innerHTML;t.innerHTML=`
                    <svg class="animate-spin h-5 w-5 mr-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                    </svg>
                    Submitting...
                `;let c={action:"submitCourseRegistration",data:{session:f.data.userinfo.courseRegistration.session,courses:r.map(e=>({course_id:e.course_id,course_code:e.code}))}};GsonApis.request.postJson(e+"?student",c,e=>{if(e.status){f.data.userinfo.courseRegistration.status="submitted",f.data.userinfo.courseRegistration.submittedCourses=JSON.parse(JSON.stringify(r));let a=JSON.parse(GsonApis.session("ultison"));a.data.userinfo=f.data.userinfo,GsonApis.session("ultison",JSON.stringify(a)),tO("Success!","Your course registration has been submitted successfully.","success"),S()}else tO("Submission Failed",e.message||"An error occurred on the server.","warning"),t.disabled=!1,t.innerHTML=d},e=>{tO("Network Error",`Could not connect to the server: ${e}`,"warning"),t.disabled=!1,t.innerHTML=d})});let M=document.getElementById("mobile-menu-button"),T=document.getElementById("desktop-sidebar-toggle"),q=document.getElementById("sidebar"),O=document.getElementById("main-content"),H=document.getElementById("student-profile-button"),P=document.getElementById("profile-dropdown"),j=document.getElementById("notification-button"),D=document.getElementById("notification-dropdown"),K=q.querySelectorAll("nav ul li a span"),G=q.querySelectorAll("nav ul li a"),R=q.querySelectorAll(".sidebar-icon"),U=document.querySelectorAll(".page-content"),F=document.getElementById("academics-menu-toggle"),W=document.getElementById("academics-submenu"),z=document.getElementById("academics-chevron"),Y,J,V,Z,Q,X,ee,et,ea,en,es,ei,er,eo,el,ed,ec,eu,em,ep,eg,eh,e$,ef,ey,eb,ev,ex,ew,eE,e0,ek,eL,e_,eI,eB,eS,eC,e9,eN,eA,eM,e2,e1,eT,e4,eq,e3,eO,eH,eP,ej,e5,eD,e6,eK,eG,eR,eU,eF,e7,eW,ez,eY,e8,eJ=0,eV=0,eZ=[];JSON.parse(localStorage.getItem("submittedClearanceData")),localStorage.getItem("transferProgramme");let eQ=["Excellent (A1)","Very Good (A2)","Good (A3)","Very Good (B2)","Good (B3)","Credit (C4)","Credit (C5)","Credit (C6)","Pass (P7)","Pass (P8)","Fail (F9)","Pass (A)","Pass (B)","Pass (C)","Pass (U)","Pass (D7)","Pass (E8)","A (a)","B (b)","C ( c)","D (d)","E (e )","F (f)","G (g)","Credit-1","Credit-2","Distinction","Pass","Awaiting Result","B1","P"],eX=["Additional Mathematics","Accounts","Advance Electrical Installation and Maintenance","Agricultural Science","Animal Husbandary (Alt B)","Animal Husbandary (Alt A)","Applied Electricity","Arabic","Arithmetics","Art","Auto Electrical Work","Auto Mechanical Work","Auto Mechanics","Basic Electricity","Bible Knowledge","Biology","Biology (Alt. Syl)","Block Laying, Brick Laying and Concreting","Book Keeping","Building Construction","Business/Construction Management (Adv)","Business Management","Carpentry and Joinery","Catering Craft Practice","Chemistry","Chemistry (Alt. Syl)","Christian Religious Studies","Civic Education","Class Teaching","Clerical Office Duties","Clothing and Textiles","Commerce","Computer Studies","Cosmetology","Data Processing","Dyeing and Bleaching","Economics","Edo Language","Efik","Education","Electrical Installation and Maintenance Work","Electronics","Elementary Survey","Engineering Science","English Language","Financial Accounting","Fine Art","First Written","Fisheries (Alt A) Ghana Candidates","Fisheries (Alt B) Nigerian Candidates","Food and Nutrition","French","Furniture Making","Further Mathematics","Garment Making","General Agriculture","General Science","Geography","German","Government","GSM Phones Maintenance and Repairs","Hausa","Hausa Literature","Health Science","History","Home Economics","Home Management","Human Biology","Igbo","Igbo Literature","Industrial Electrical Installation (Adv)","Information and Communication Technology","Insurance","Integrated Science","Islamic Studies","Literature in English","Literature in Nigerian Languages","Management in Living","Marketing","Mathematics","Metal Work","Mining","Music","Nigerian Language","Office Practice","Painting and Decorating","Photography","Physical Education","Physical and Health Education","Physics","Physics (Alt. Syl)","Practical Tests","Principles and Practice of Education","Principles of Cost Accounting","Printing Craft Practice","Rural Science","Salesmanship","Science","Second Written","Secretarial Duties","Shorthand","Sierra Leone Languages","Sierra Leone Studies","Social Studies","Statistics","Store Management","Teaching Practice","Technical Drawing","Textiles","Tourism","Typewriting","Visual Art","Welding and Fabrication","Winding of Electrical Machines and Elect Engine Science","Woodwork","Yoruba","Yoruba Literature"].sort(),te=["Biology","Christian Religious Studies","Chemistry","Physics","Mathematics","Further Mathematics","Economics","Government","Literature-in-English","Geography","Accounting","Business Studies","Art","French","History"].sort(),tt=["First Class","Second Class (Upper Division)","Second Class (Lower Division)","Third Class","Pass","Distinction","Upper Credit","Lower Credit","Unclassified"],ta=["Nigeria","Afghanistan","Albania","Algeria","Andorra","Angola","Antigua and Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cabo Verde","Cambodia","Cameroon","Canada","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo (Brazzaville)","Congo (Kinshasa)","Costa Rica","Croatia","Cuba","Cyprus","Czech Republic","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Eswatini","Ethiopia","Fiji","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Korea, North","Korea, South","Kosovo","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Mauritania","Mauritius","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","New Zealand","Nicaragua","Niger","North Macedonia","Norway","Oman","Pakistan","Palau","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Qatar","Romania","Russia","Rwanda","Saint Kitts and Nevis","Saint Lucia","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Timor-Leste","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Vanuatu","Vatican City","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"].sort(),tn={Abia:["Aba North","Aba South","Arochukwu","Bende","Ikwuano","Isiala Ngwa North","Isiala Ngwa South","Isuikwuato","Obi Ngwa","Ohafia","Osisioma Ngwa","Ugwunagbo","Ukwa East","Ukwa West","Umu Nneochi","Umuahia North","Umuahia South"],Adamawa:["Demsa","Fufure","Ganye","Gayuk","Gombi","Hong","Jada","Lamurde","Madagali","Maiha","Mayo-Belwa","Michika","Mubi North","Mubi South","Numan","Shelleng","Song","Toungo","Yola North","Yola South"],"Akwa Ibom":["Abak","Eastern Obolo","Eket","Esit Eket","Essien Udim","Etim Ekpo","Etinan","Ibeno","Ibesikpo Asutan","Ibiono-Ibom","Ika","Ikono","Ikot Abasi","Ikot Ekpene","Ini","Itu","Mbo","Mkpat-Enin","Nsit-Atai","Nsit-Ibom","Nsit-Ubium","Obot Akara","Okobo","Onna","Oron","Oruk Anam","Ukanafun","Uruan","Urue-Offong/Oruko","Uyo"],Anambra:["Aguata","Anambra East","Anambra West","Anaocha","Awka North","Awka South","Ayamelem","Dunukofia","Ekwusigo","Idemili North","Idemili South","Ihiala","Njikoka","Nnewi North","Nnewi South","Ogbaru","Onitsha North","Onitsha South","Orumba North","Orumba South","Oyi"],Bauchi:["Alkaleri","Bauchi","Bogoro","Damban","Darazo","Dass","Gamawa","Ganjuwa","Giade","Itas/Gadau","Jama'are","Katagum","Kirfi","Misau","Ningi","Shira","Tafawa Balewa","Toro","Warji","Zaki"],Bayelsa:["Brass","Ekeremor","Kolokuma/Opokuma","Nembe","Ogbia","Sagbama","Southern Ijaw","Yenagoa"],Benue:["Ado","Agatu","Apa","Buruku","Gboko","Guma","Gwer East","Gwer West","Katsina-Ala","Konshisha","Kwande","Logo","Makurdi","Obi","Ogbadibo","Ohimini","Oju","Okpokwu","Oturkpo","Tarka","Ukum","Ushongo","Vandeikya"],Borno:["Abadam","Askira/Uba","Bama","Bayo","Biu","Chibok","Damboa","Dikwa","Gubio","Guzamala","Gwoza","Hawul","Jere","Kaga","Kala/Balge","Konduga","Kukawa","Kwaya Kusar","Mafa","Magumeri","Maiduguri","Marte","Mobbar","Monguno","Ngala","Nganzai","Shani"],"Cross River":["Abi","Akamkpa","Akpabuyo","Bakassi","Bekwarra","Biase","Boki","Calabar Municipal","Calabar South","Etung","Ikom","Obanliku","Obubra","Obudu","Odukpani","Ogoja","Yakuur","Yala"],Delta:["Aniocha North","Aniocha South","Bomadi","Burutu","Ethiope East","Ethiope West","Ika North East","Ika South","Isoko North","Isoko South","Ndokwa East","Ndokwa West","Okpe","Oshimili North","Oshimili South","Patani","Sapele","Udu","Ughelli North","Ughelli South","Ukwuani","Uvwie","Warri North","Warri South","Warri South West"],Ebonyi:["Abakaliki","Afikpo North","Afikpo South","Ebonyi","Ezza North","Ezza South","Ikwo","Ishielu","Ivo","Izzi","Ohaozara","Ohaukwu","Onicha"],Edo:["Akoko-Edo","Egor","Esan Central","Esan North-East","Esan South-East","Esan West","Etsako Central","Etsako East","Etsako West","Iguedo","Ikpoba Okha","Orhionmwon","Oredo","Ovia North-East","Ovia South-West","Owan East","Owan West","Uhunmwonde"],Ekiti:["Ado Ekiti","Efon","Ekiti East","Ekiti South-West","Ekiti West","Emure","Ido-Osi","Ijero","Ikere","Ikole","Ilejemeje","Irele","Ise/Orun","Moba","Oye"],Enugu:["Aninri","Awgu","Enugu East","Enugu North","Enugu South","Ezeagu","Igbo Etiti","Igbo Eze North","Igbo Eze South","Isi Uzo","Nkanu East","Nkanu West","Nsukka","Oji River","Udenu","Udi","Uzo-Uwani"],FCT:["Abaji","Bwari","Gwagwalada","Kuje","Kwali","Municipal Area Council"],Gombe:["Akko","Balanga","Billiri","Dukku","Funakaye","Gombe","Kaltungo","Kwami","Nafada","Shongom","Yamaltu/Deba"],Imo:["Aboh Mbaise","Ahiazu Mbaise","Ehime Mbano","Ezinihitte Mbaise","Ideato North","Ideato South","Ihitte/Uboma","Ikeduru","Isiala Mbano","Isu","Mbaitoli","Ngor Okpala","Njaba","Nkwerre","Nwangele","Obowo","Oguta","Ohaji/Egbema","Okigwe","Onuimo","Orlu","Orsu","Oru East","Oru West","Owerri Municipal","Owerri North","Owerri West"],Jigawa:["Auyo","Babura","Biriniwa","Birnin Kudu","Buji","Dutse","Gagarawa","Garki","Gumel","Guri","Hadejia","Jahun","Kafin Hausa","Kaugama","Kazaure","Kiri Kasama","Kiyawa","Kaugama","Maigatari","Malam Madori","Miga","Ringim","Roni","Sule Tankarkar","Taura","Yankwashi"],Kaduna:["Birnin Gwari","Chikun","Giwa","Igabi","Ikara","Jaba","Kachia","Kaduna North","Kaduna South","Kagarko","Kajuru","Kaura","Kauru","Kubau","Kudan","Lere","Makarfi","Sabon Gari","Sanga","Soba","Zangon Kataf","Zaria"],Kano:["Ajingi","Albasu","Bagwai","Bebeji","Bichi","Bunkure","Dala","Dambatta","Dawakin Kudu","Dawakin Tofa","Doguwa","Fagge","Gabasawa","Garko","Garun Mallam","Gaya","Geza","Gwale","Gwarzo","Kabo","Kano Municipal","Karaye","Kibiya","Kiru","Kumbotso","Kunchi","Kura","Madobi","Makoda","Minjibir","Nasarawa","Rano","Rimin Gado","Rogo","Shanono","Sumaila","Takai","Tarauni","Tofa","Tsanyawa","Tudun Wada","Ungogo","Warawa","Wudil"],Katsina:["Bakori","Batagarawa","Batsari","Baure","Bindawa","Charanchi","Dandume","Danja","Dan Musa","Daura","Dutsi","Dutsin Ma","Faskari","Funtua","Ingawa","Jibia","Kafur","Kaita","Kankara","Kankia","Katsina","Kurfi","Kusada","Mai'Adua","Malumfashi","Mani","Mashi","Matazu","Musawa","Rimi","Sabuwa","Safana","Sandamu","Zango"],Kebbi:["Aleiro","Arewa Dandi","Argungu","Augie","Bagudo","Birnin Kebbi","Bunza","Dandi","Fakai","Gwandu","Jega","Kalgo","Koko/Besse","Maiyama","Ngaski","Sakaba","Shanga","Suru","Wasagu/Danko","Yauri","Zuru"],Kogi:["Adavi","Ajaokuta","Ankpa","Bassa","Dekina","Ibaji","Idah","Igalamela Odolu","Ijumu","Kabba/Bunu","Kogi","Lokoja","Mopa-Muro","Ofu","Ogori/Magongo","Okehi","Okene","Olamaboro","Omala","Yagbawas"],Kwara:["Asa","Baruten","Edu","Ekiti","Ifelodun","Ilorin East","Ilorin South","Ilorin West","Isin","Kaiama","Moro","Offa","Oke Ero","Oyun","Pategi"],Lagos:["Agege","Ajeromi-Ifelodun","Alimosho","Amuwo-Odofin","Apapa","Badagry","Epe","Eti-Osa","Ibeju-Lekki","Ifako-Ijaiye","Ikeja","Ikorodu","Kosofe","Lagos Island","Lagos Mainland","Mushin","Ojo","Oshodi-Isolo","Shomolu","Surulere"],Nasarawa:["Akwanga","Awe","Doma","Karima","Keffi","Kokona","Lafia","Nasarawa","Obi","Toto","Wamba"],Niger:["Agaie","Agwara","Bida","Borgu","Bosso","Chanchaga","Edati","Gbako","Gurara","Katcha","Kontagora","Lapai","Lavun","Magama","Mariga","Mashegu","Mokwa","Paikoro","Rafi","Rijau","Shiroro","Suleja","Tafa","Wushishi"],Ogun:["Abeokuta North","Abeokuta South","Ado-Ddo/Ota","Egbado North","Egbado South","Ewekoro","Ifo","Ijebu East","Ijebu North","Ijebu North East","Ijebu Ode","Ikenne","Imeko Afon","Ipokia","Obafemi Owode","Odeda","Odogbolu","Ogun Waterside","Remo North","Sagamu"],Ondo:["Akoko North-East","Akoko North-West","Akoko South-West","Akoko South-East","Akure North","Akure South","Ese Odo","Idanre","Ifedore","Ilaje","Ile Oluji/Okeigbo","Irele","Odigbo","Okitipupa","Ondo East","Ondo West","Ose","Owo"],Osun:["Atakumosa East","Atakumosa West","Ayedaade","Ayedire","Boluwaduro","Boripe","Ede North","Ede South","Egbedore","Ejigbo","Ife Central","Ife East","Ife North","Ife South","Ifelodun","Ila","Ilesa East","Ilesa West","Irepodun","Irewole","Isokan","Iwo","Obokun","Odo Otin","Ola Oluwa","Olorunda","Oriade","Orolu","Osogbo"],Oyo:["Afijio","Akinyele","Atiba","Atisbo","Egbeda","Ibadan North","Ibadan North-East","Ibadan North-West","Ibadan South-East","Ibadan South-West","Ido","Ifeloju","Igbo Ora","Igboho","Irepo","Iseyin","Itesiwaju","Iwajowa","Kajola","Lagelu","Ogbomosho North","Ogbomosho South","Ogo Oluwa","Olorunsogo","Oluyole","Ona Ara","Orelope","Ori Ire","Oyo East","Oyo West","Saki East","Saki West","Surulere"],Plateau:["Barkin Ladi","Bassa","Bokkos","Jos East","Jos North","Jos South","Kanam","Kanke","Langtang North","Langtang South","Mangu","Mikang","Pankshin","Qua'an Pan","Riyom","Shendam","Wase"],Rivers:["Abua/Odual","Ahoada East","Ahoada West","Akuku-Toru","Andoni","Asari-Toru","Bonny","Degema","Eleme","Emuoha","Etche","Gokana","Ikwerre","Khana","Obio/Akpor","Ogba/Egbema/Ndoni","Ogu/Bolo","Okrika","Omuma","Opobo/Nkoro","Port Harcourt","Tai"],Sokoto:["Binji","Bodinga","Dange Shuni","Gada","Goronyo","Gudu","Gwadabawa","Illela","Kebbe","Kware","Rabah","Sabon Birni","Shagari","Silame","Sokoto North","Sokoto South","Tambuwal","Tangaza","Tureta","Wamako","Wurno","Yabo"],Taraba:["Ardo-Kola","Bali","Donga","Gashaka","Gassol","Ibi","Jalingo","Karim Lamido","Kaufure","Lau","Sardauna","Takum","Ussa","Wukari","Yorro","Zing"],Yobe:["Bade","Bursari","Damaturu","Fika","Fune","Geidam","Gogaram","Gujba","Gulani","Jakusko","Karasuwa","Machina","Nangere","Nguru","Potiskum","Tarmuwa","Yunusari","Yusufari"],Zamfara:["Anka","Bakura","Birnin Magaji/Kiyaw","Bukkuyum","Bungudu","Gummi","Gusau","Kaura Namoda","Maradun","Maru","Shinkafi","Talata Mafara","Tsafe","Zurmi"]},ts=document.getElementById("custom-alert-modal-overlay");document.getElementById("alert-icon-container"),document.getElementById("alert-title-text"),document.getElementById("custom-alert-message");let ti=document.getElementById("close-alert-modal-btn"),tr=document.getElementById("confirm-alert-btn");ti.addEventListener("click",function(){ts.classList.add("hidden")}),tr.addEventListener("click",function(){ts.classList.add("hidden")}),ts.addEventListener("click",function(e){e.target===ts&&ts.classList.add("hidden")});let to=0,tl=new Set;function td(){tO("Clearance Required",'Access to this feature requires you to complete your clearance process. Please navigate to the "Academics > Clearance" section to initiate or complete your clearance.',"warning")}function tc(e,t){return"dashboard"===t||"clearance"===t||"payment"===t||"help"===t||"change-password"===t||"hostel-application"===t||"hostel-information"===t||"hostel-history"===t||"profile-action"===e&&("change-password"===t||"sign-out"===t)||"approved"===i||(td(),!1)}function tu(){window.innerWidth<768?(q.classList.add("sidebar-mobile-closed","hidden"),q.classList.remove("md:flex","w-20","w-64"),O.classList.remove("md:ml-20"),O.classList.add("md:ml-64"),K.forEach(e=>{e.classList.remove("opacity-0","max-w-0","ml-0"),e.classList.add("ml-3")}),G.forEach(e=>{e.closest("#academics-menu-toggle")||(e.classList.remove("justify-center"),e.classList.add("justify-start"))}),R.forEach(e=>{e.setAttribute("width","20"),e.setAttribute("height","20")}),W.classList.add("hidden"),z.classList.remove("rotate-180")):(q.classList.remove("sidebar-mobile-closed","hidden"),q.classList.add("md:flex"),"true"===localStorage.getItem("sidebarCollapsed")?(q.classList.add("w-20"),O.classList.add("md:ml-20"),q.classList.remove("w-64"),O.classList.remove("md:ml-64"),K.forEach(e=>{e.classList.add("opacity-0","max-w-0","ml-0"),e.classList.remove("ml-3")}),G.forEach(e=>{e.closest("#academics-menu-toggle")||(e.classList.add("justify-center"),e.classList.remove("justify-start"))}),R.forEach(e=>{e.setAttribute("width","28"),e.setAttribute("height","28")}),W.classList.add("hidden"),z.classList.remove("rotate-180")):(q.classList.remove("w-20"),O.classList.remove("md:ml-20"),q.classList.add("w-64"),O.classList.add("md:ml-64"),K.forEach(e=>{e.classList.remove("opacity-0","max-w-0","ml-0"),e.classList.add("ml-3")}),G.forEach(e=>{e.closest("#academics-menu-toggle")||(e.classList.remove("justify-center"),e.classList.add("justify-start"))}),R.forEach(e=>{e.setAttribute("width","20"),e.setAttribute("height","20")})))}function tm(t){let r=t.replace("-content","");if("clearance-content"===t){if(f&&f.data&&f.data.userinfo){if(!f.data.userinfo.paidAcceptanceFee&&"approved"!==i){tO("Acceptance Fee Required","You must pay the acceptance fee before starting the clearance process. You will now be redirected to the payment page.","warning"),tm("payment-content");return}}else{GsonApis.debug&&console.error("User info not available to check acceptance fee status."),tO("Error","An error has occured and we are working on fixing it.","warning");return}}if("course-registration-content"===t){if(f&&f.data&&f.data.userinfo){if(!f.data.userinfo.paidSchoolFee){tO("School Charges Required","School charges must be paid before course registration can commence. You will be redirected to the payment page.","warning"),tm("payment-content");return}}else{GsonApis.debug&&console.error("User info not available to check school fee status."),tO("Error","An error has occurred and we are working on fixing it.","warning");return}}if(!tc("navigate",r))return;"payment-content"===t&&tv(),"hostel-application-content"===t&&tB(),"hostel-history-content"===t&&function e(t){let a=document.getElementById("hostel-history-table-body");if(!a)return;let n=t.hostelAllocationHistory||[];if(0===n.length){a.innerHTML='<tr><td colspan="6" class="py-4 px-6 text-center text-gray-500 italic">No allocation history found.</td></tr>';return}a.innerHTML="",n.sort((e,t)=>new Date(t.date_allocated)-new Date(e.date_allocated)),n.forEach(e=>{let t=e.hostel_name,n=`${e.block||e.block_name}, Room ${e.room_number}`;e.bed_letter&&(n+=`, Bed ${e.bed_letter}`);let s=e.allocation_status,i=new Date(e.date_allocated).toLocaleDateString(),r=e.academic_session||"N/A",o="";switch(s.toLowerCase()){case"occupied":o="bg-green-100 text-green-800";break;case"allocated":o="bg-purple-100 text-purple-800";break;case"reserved":o="bg-yellow-100 text-yellow-800";break;case"released":default:o="bg-gray-100 text-gray-800";break;case"cancelled":o="bg-red-100 text-red-800"}let l="";("allocated"===s.toLowerCase()||"occupied"===s.toLowerCase())&&(l=`
                            <button data-action="print-slip"
                                    data-session="${r}"
                                    data-hostel="${t}"
                                    data-room="${n}"
                                    data-allocation-id="${e.allocation_id}" class="btn-purple text-white py-1 px-3 text-xs rounded-md font-semibold shadow-sm transition-opacity duration-200 hover:opacity-80">
                                Print Slip
                            </button>`);let d=`
                        <tr class="border-b border-gray-200 hover:bg-gray-50">
                            <td class="py-3 px-6 whitespace-nowrap">${r}</td>
                            <td class="py-3 px-6">${t}</td>
                            <td class="py-3 px-6 font-medium">${n}</td>
                            <td class="py-3 px-6 text-center">
                                <span class="px-2 py-1 text-xs font-semibold rounded-full ${o}">
                                    ${s}
                                </span>
                            </td>
                            <td class="py-3 px-6">${i}</td>
                            <td class="py-3 px-6 text-center">
                                ${l}
                            </td>
                        </tr>
                    `;a.innerHTML+=d})}(f.data.userinfo),"full-calendar-content"===t&&function t(){let a=document.getElementById("full-calendar-container");a.innerHTML=`
                    <div class="bg-white p-6 rounded-lg shadow-md border border-gray-200 animate-pulse">
                        <div class="h-8 bg-gray-200 rounded w-1/3 mb-4"></div>
                        <div class="space-y-3"><div class="h-4 bg-gray-200 rounded w-3/4"></div><div class="h-4 bg-gray-200 rounded w-5/6"></div></div>
                    </div>`,GsonApis.request.postJson(e+"?student",{action:"viewFullAcademicCalendar"},e=>{e.status&&e.data?(document.getElementById("printable-logo").src=f.institution.logoUrl,document.getElementById("printable-institution-name").textContent=f.institution.name,document.getElementById("printable-academic-session").textContent=`Academic Session: ${e.data.session}`,tM(e.data.calendar)):(tM([]),tO("Error",e.message||"Could not load calendar data.","warning"))},e=>{console.error("Failed to load full calendar data:",e),tM([]),tO("Network Error","Failed to connect to the server.","warning")})}(),"course-registration-content"===t&&S(),"results-content"===t&&function t(){let a=f.data.userinfo.results,n=document.getElementById("session-select"),s=document.getElementById("print-results-btn");if(!a||0===Object.keys(a).length){document.getElementById("results-display-container").innerHTML='<p class="text-gray-500">No results found.</p>',n.innerHTML="<option>No sessions available</option>";return}let i=Object.keys(a).sort().reverse();n.innerHTML="",i.forEach(e=>{let t=document.createElement("option");t.value=e,t.textContent=e,n.appendChild(t)}),n.addEventListener("change",e=>{t2(e.target.value)}),s&&(s.replaceWith(s.cloneNode(!0)),document.getElementById("print-results-btn").addEventListener("click",function(){(function t(a){let n=document.getElementById("session-select"),s=n.value;if(!s){tO("Error","Please select an academic session first.","warning");return}a.disabled=!0;let i=a.innerHTML;a.innerHTML=`
                    <svg class="animate-spin h-5 w-5 mr-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                    </svg>
                    Generating...
                `,GsonApis.request.postJson(e+"?student",{action:"generateResultSlipPdf",data:{session:s}},e=>{e.status&&e.link?(window.open(e.link,"_blank"),tO("Success",`The result slip for the ${s} session has been generated.`,"success")):tO("Error",e.message||"Could not generate the result slip.","warning"),a.disabled=!1,a.innerHTML=i},e=>{tO("Network Error",`Could not connect to the server: ${e}`,"warning"),a.disabled=!1,a.innerHTML=i})})(this)})),i.length>0&&t2(i[0])}(),"help-content"===t&&function e(){let t=document.getElementById("help-content-area");t&&f.helpMessage&&(t.innerHTML=f.helpMessage)}(),"hostel-information-content"===t&&function t(){let a=document.getElementById("hostel-info-area");if(a){if(f.cachedHostelDirectory){tq(f.cachedHostelDirectory);return}a.innerHTML=`
                    <div class="flex justify-center items-center p-12">
                        <svg class="animate-spin h-8 w-8 text-purple-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                        </svg>
                        <span class="ml-3 text-gray-600 font-medium">Loading hostel directory...</span>
                    </div>
                `,GsonApis.request.postJson(e+"?student",{action:"viewAllHostels"},e=>{e.status&&Array.isArray(e.data)?(f.cachedHostelDirectory=e.data,tq(e.data)):a.innerHTML=`
                                <div class="bg-red-50 p-4 rounded-lg border border-red-200 text-red-700 text-center">
                                    Could not load hostel information.
                                </div>
                            `},e=>{a.innerHTML=`
                            <div class="bg-red-50 p-4 rounded-lg border border-red-200 text-red-700 text-center">
                                Network error. Please try again later.
                            </div>
                        `})}}(),U.forEach(e=>{e.classList.add("hidden")});let h=document.getElementById(t);h&&h.classList.remove("hidden"),document.querySelectorAll("#sidebar nav ul li a, #sidebar nav ul li button").forEach(e=>{e.classList.remove("bg-purple-100","text-purple-700"),e.classList.add("text-gray-700")});let $=document.querySelector(`[data-page="${r}"]`);$&&($.classList.add("bg-purple-100","text-purple-700"),$.classList.remove("text-gray-700"),$.closest("#academics-submenu")&&(F.classList.add("bg-purple-100","text-purple-700"),F.classList.remove("text-gray-700"),W.classList.remove("hidden"),z.classList.add("rotate-180"))),window.innerWidth<768&&!q.classList.contains("sidebar-mobile-closed")&&(q.classList.add("sidebar-mobile-closed"),setTimeout(()=>{q.classList.add("hidden")},300)),"clearance-content"===t&&function t(){Y=document.getElementById("pending-clearance-view"),J=document.getElementById("submitted-clearance-view"),V=document.getElementById("rejected-clearance-view"),Z=document.getElementById("transfer-clearance-view"),Q=document.getElementById("approved-clearance-view"),X=document.getElementById("clearance-update-form"),ee=document.getElementById("update-success-message"),et=document.getElementById("update-error-message"),ea=document.getElementById("clearance-status-message"),eW=document.getElementById("clearance-tab-navigation"),en=document.querySelectorAll("#clearance-content .tab-button"),es=document.querySelectorAll("#clearance-content .tab-content"),ei=document.getElementById("profile-next-btn"),er=document.getElementById("academic-prev-btn"),eo=document.getElementById("academic-next-btn"),el=document.getElementById("documents-prev-btn"),ed=document.getElementById("documents-next-btn"),ec=document.getElementById("declaration-prev-btn"),eu=document.getElementById("passport-upload"),em=document.getElementById("passport-preview"),ep=document.getElementById("passport-error"),eg=document.getElementById("first-name"),eh=document.getElementById("middle-name"),e$=document.getElementById("last-name"),ef=document.getElementById("date-of-birth"),ey=document.getElementById("gender"),eb=document.getElementById("marital-status"),ev=document.getElementById("nationality"),ex=document.getElementById("state-of-origin"),ew=document.getElementById("lga-of-origin"),eE=document.getElementById("home-town"),e0=document.getElementById("email"),ek=document.getElementById("phone"),eL=document.getElementById("address"),e_=document.getElementById("sponsor-name"),eI=document.getElementById("sponsor-relationship"),eB=document.getElementById("sponsor-phone"),eS=document.getElementById("sponsor-email"),eC=document.getElementById("nok-name"),e9=document.getElementById("nok-relationship"),eN=document.getElementById("nok-phone"),eA=document.getElementById("nok-address"),eM=document.getElementById("first-sitting-section"),e2=document.getElementById("add-first-sitting-btn"),e1=document.getElementById("remove-first-sitting"),eT=document.getElementById("first-sitting-exam-type"),e4=document.getElementById("first-sitting-exam-number"),o=document.getElementById("first-sitting-exam-date"),eq=document.getElementById("first-sitting-subjects-container"),e3=document.getElementById("add-first-sitting-subject"),eO=document.getElementById("second-sitting-section"),eH=document.getElementById("add-second-sitting-btn"),eP=document.getElementById("remove-second-sitting"),ej=document.getElementById("second-sitting-exam-type"),e5=document.getElementById("second-sitting-exam-number"),l=document.getElementById("second-sitting-exam-date"),eD=document.getElementById("second-sitting-subjects-container"),e6=document.getElementById("add-second-sitting-subject"),eK=document.getElementById("advanced-level-results-container"),eG=document.getElementById("add-advanced-level-btn"),eR=document.getElementById("higher-education-results-container"),eU=document.getElementById("add-higher-education-btn"),eF=document.getElementById("document-uploads-container"),e7=document.getElementById("declaration-checkbox"),ez=document.getElementById("approved-student-details"),eY=document.getElementById("approved-documents-list"),e8=document.getElementById("transfer-programme-display"),c=document.getElementById("submitted-student-details"),u=document.getElementById("submitted-olevel-results"),m=document.getElementById("submitted-alevel-results"),p=document.getElementById("submitted-he-results"),g=document.getElementById("submitted-documents-list");let r=document.getElementById("print-submitted-slip-btn"),h=document.getElementById("print-approved-slip-btn"),$=document.getElementById("edit-submission-btn");function y(){sortedCountries=ta.filter(e=>"Nigeria"!==e).sort(),ev.innerHTML='<option value="Nigeria">Nigeria</option>',sortedCountries.forEach(e=>{(option=document.createElement("option")).value=e,option.textContent=e,ev.appendChild(option)})}function b(){for(state in ex.innerHTML='<option value="">Select State</option>',tn)(option=document.createElement("option")).value=state,option.textContent=state,ex.appendChild(option)}function v(){selectedState=ex.value,ew.innerHTML='<option value="">Select LGA</option>',selectedState&&tn[selectedState]&&tn[selectedState].forEach(e=>{(option=document.createElement("option")).value=e,option.textContent=e,ew.appendChild(option)})}function x(e){e&&(e.disabled=!1,e.innerHTML=`
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-edit-3 inline-block mr-2"><path d="M12 20h9"/><path d="M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z"/></svg>
                            Make Changes
                        `)}function w(t){t&&(t.disabled=!0,t.innerHTML="Processing..."),tO("Processing...","Re-opening your clearance form, please wait...","info"),GsonApis.request.postJson(e+"?student",{action:"unSubmitClearance"},e=>{if(e.status){f.data.userinfo.isCleared=0;let a=JSON.parse(f.data.userinfo.clearanceDetails);a.status="pending",f.data.userinfo.clearanceDetails=JSON.stringify(a),i="pending";let n=JSON.parse(GsonApis.session("ultison"));n.data.userinfo.isCleared=0,n.data.userinfo.clearanceDetails=f.data.userinfo.clearanceDetails,GsonApis.session("ultison",JSON.stringify(n)),t&&x(t),updateClearanceUI(),tO("Success","Clearance has been re-opened. You can now make edits.","success")}else tO("Error",e.message||"Could not re-open clearance. Please contact support.","warning"),t&&x(t)},e=>{tO("Network Error",`Could not connect to the server: ${e}`,"warning"),t&&x(t)})}function S(){let e=f.data.userinfo;if(!e){console.error("User info not found in appState! Cannot prefill profile.");return}let t=e=>{e.classList.add("bg-gray-100","cursor-not-allowed","focus:ring-0","focus:border-gray-300"),e.classList.remove("focus:ring-purple-500","focus:border-purple-500")};GsonApis.debug&&console.log("User Info for Prefilling:",e),eg.value=e.firstName||"",eg.readOnly=!0,t(eg),eh.value=e.middleName||"",eh.readOnly=!0,t(eh),e$.value=e.lastName||"",e$.readOnly=!0,t(e$),ef.value=e.dateOfBirth||"",eb.value=e.maritalStatus||"Single";let a=document.getElementById("gender");a.value=e.gender||"",a.readOnly=!0,t(a);let n=document.getElementById("nationality");n.value=e.nationality||"",n.readOnly=!0,t(n);let s=document.getElementById("state-of-origin");s.value=("Nigeria"===e.nationality?e.stateOfOrigin:"N/A")||"",s.readOnly=!0,t(s);let i=document.getElementById("lga-of-origin");i.value=("Nigeria"===e.nationality?e.lgaOfOrigin:"N/A")||"",i.readOnly=!0,t(i),eE.value=e.homeTown||"",e0.value=e.email||"",ek.value=e.phoneNumber||"",eL.value=e.address||"",e_.value=e.sponsorName||"",eI.value=e.sponsorRelationship||"",eB.value=e.sponsorPhone||"",eS.value=e.sponsorEmail||"",e.nextOfKin?(eC.value=e.nextOfKin.name||"",e9.value=e.nextOfKin.relationship||"",eN.value=e.nextOfKin.phone||"",eA.value=e.nextOfKin.address||""):(eC.value="",e9.value="",eN.value="",eA.value=""),e.passportPhotoUrl?(em.src=e.passportPhotoUrl,d=e.passportPhotoUrl,eu.required=!1):(em.src="https://placehold.co/100x100/E0E0E0/666666?text=Passport",d="",eu.required=!0)}function C(e,t,a="",n=""){let s=document.createElement("div");return s.className="grid grid-cols-3 gap-2 items-end",uniqueId=`${e}-subject-${Date.now()}-${Math.floor(1e3*Math.random())}`,s.innerHTML=`
                        <div>
                            <label for="${uniqueId}" class="block text-xs font-medium text-gray-600">Subject</label>
                            <select id="${uniqueId}" name="${e}-subject[]" required
                                    class="w-full px-2 py-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 text-sm">
                                <option value="">Select Subject</option>
                                ${t.map(e=>`<option value="${e}" ${a===e?"selected":""}>${e}</option>`).join("")}
                            </select>
                        </div>
                        <div>
                            <label for="${uniqueId.replace("subject","grade")}" class="block text-xs font-medium text-gray-600">Grade</label>
                            <select id="${uniqueId.replace("subject","grade")}" name="${e}-grade[]" required
                                    class="w-full px-2 py-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 text-sm">
                                <option value="">Select Grade</option>
                                ${eQ.map(e=>`<option value="${e}" ${n===e?"selected":""}>${e}</option>`).join("")}
                            </select>
                        </div>
                        <div>
                            <button type="button" class="remove-subject-btn inline-flex items-center p-2 border border-transparent rounded-full text-red-600 hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500">
                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-minus-circle"><circle cx="12" cy="12" r="10"/><path d="M8 12h8"/></svg>
                            </button>
                        </div>
                    `,s.querySelector(".remove-subject-btn").addEventListener("click",()=>s.remove()),s}function N(){uniqueIdPrefix=`alevel-${++eJ}`;let e=document.createElement("div");e.id=`alevel-section-${eJ}`,e.className="bg-gray-50 p-4 rounded-md border border-gray-200 mb-6",e.innerHTML=`
                        <h4 class="text-lg font-semibold text-gray-800 mb-4 flex items-center justify-between">
                            Advanced Level Result #${eJ}
                            <button type="button" class="remove-alevel-btn text-red-500 hover:text-red-700 text-sm font-medium" data-alevel-id="${eJ}">
                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x-circle inline-block mr-1"><circle cx="12" cy="12" r="10"/><path d="m15 9-6 6"/><path d="m9 9 6 6"/></svg>
                                Remove
                            </button>
                        </h4>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                            <div>
                                <label for="${uniqueIdPrefix}-exam-type" class="block text-sm font-medium text-gray-700 mb-1">Exam Type</label>
                                <select id="${uniqueIdPrefix}-exam-type" name="alevel-exam-type-${eJ}" required
                                        class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm">
                                    <option value="">Select Exam Type</option>
                                    <option value="A-Levels">A-Levels</option>
                                    <option value="IJMB">IJMB</option>
                                    <option value="JUPEB">JUPEB</option>
                                    <option value="OND">OND</option>
                                    <option value="HND">HND</option>
                                </select>
                            </div>
                            <div>
                                <label for="${uniqueIdPrefix}-exam-number" class="block text-sm font-medium text-gray-700 mb-1">Exam Number (or Index)</label>
                                <input type="text" id="${uniqueIdPrefix}-exam-number" name="alevel-exam-number-${eJ}" required
                                       class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm"
                                       placeholder="e.g., AB1234567">
                            </div>
                            <div>
                                <label for="${uniqueIdPrefix}-institution" class="block text-sm font-medium text-gray-700 mb-1">Institution</label>
                                <input type="text" id="${uniqueIdPrefix}-institution" name="alevel-institution-${eJ}" required
                                       class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm"
                                       placeholder="e.g., Cambridge College">
                            </div>
                            <div>
                                <label for="${uniqueIdPrefix}-year" class="block text-sm font-medium text-gray-700 mb-1">Year</label>
                                <input type="number" id="${uniqueIdPrefix}-year" name="alevel-year-${eJ}" min="1900" max="2099" step="1" required
                                       class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm"
                                       placeholder="e.g., 2020">
                            </div>
                        </div>
                        <div id="${uniqueIdPrefix}-subjects-container" class="space-y-3 mb-4 border p-3 rounded-md bg-white">
                            <p class="text-sm font-medium text-gray-700 mb-2">Subjects and Grades:</p>
                        </div>
                        <button type="button" class="add-alevel-subject-btn inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500" data-target-container="${uniqueIdPrefix}-subjects-container">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-plus mr-1"><path d="M12 5v14"/><path d="M5 12h14"/></svg>
                            Add Subject
                        </button>
                    `,eK.appendChild(e),e.querySelector(".remove-alevel-btn").addEventListener("click",t=>{e.remove(),M()}),e.querySelector(".add-alevel-subject-btn").addEventListener("click",e=>{targetContainerId=e.target.dataset.targetContainer,document.getElementById(targetContainerId).appendChild(C(`alevel-${eJ}`,te))}),M()}function A(){uniqueIdPrefix=`he-${++eV}`;let e=document.createElement("div");e.id=`he-section-${eV}`,e.className="bg-gray-50 p-4 rounded-md border border-gray-200 mb-6",e.innerHTML=`
                        <h4 class="text-lg font-semibold text-gray-800 mb-4 flex items-center justify-between">
                            Higher Education Result #${eV}
                            <button type="button" class="remove-he-btn text-red-500 hover:text-red-700 text-sm font-medium" data-he-id="${eV}">
                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x-circle inline-block mr-1"><circle cx="12" cy="12" r="10"/><path d="m15 9-6 6"/><path d="m9 9 6 6"/></svg>
                                Remove
                            </button>
                        </h4>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label for="${uniqueIdPrefix}-institution" class="block text-sm font-medium text-gray-700 mb-1">Institution</label>
                                <input type="text" id="${uniqueIdPrefix}-institution" name="he-institution-${eV}" required
                                       class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm"
                                       placeholder="e.g., University of Lagos">
                            </div>
                            <div>
                                <label for="${uniqueIdPrefix}-qualification-name" class="block text-sm font-medium text-gray-700 mb-1">Qualification Name</label>
                                <input type="text" id="${uniqueIdPrefix}-qualification-name" name="he-qualification-name-${eV}" required
                                       class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm"
                                       placeholder="e.g., B.Sc. Computer Science">
                            </div>
                            <div>
                                <label for="${uniqueIdPrefix}-year-graduation" class="block text-sm font-medium text-gray-700 mb-1">Year of Graduation</label>
                                <input type="number" id="${uniqueIdPrefix}-year-graduation" name="he-year-graduation-${eV}" min="1900" max="2099" step="1" required
                                       class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm"
                                       placeholder="e.g., 2024">
                            </div>
                            <div>
                                <label for="${uniqueIdPrefix}-degree-class" class="block text-sm font-medium text-gray-700 mb-1">Degree Class</label>
                                <select id="${uniqueIdPrefix}-degree-class" name="he-degree-class-${eV}" required
                                        class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm">
                                    <option value="">Select Class</option>
                                    ${tt.map(e=>`<option value="${e}">${e}</option>`).join("")}
                                </select>
                            </div>
                            <div>
                                <label for="${uniqueIdPrefix}-cgpa" class="block text-sm font-medium text-gray-700 mb-1">CGPA (e.g., 4.50)</label>
                                <input type="number" id="${uniqueIdPrefix}-cgpa" name="he-cgpa-${eV}" step="0.01" min="0" max="5" required
                                       class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm"
                                       placeholder="e.g., 4.50">
                            </div>
                        </div>
                    `,eR.appendChild(e),e.querySelector(".remove-he-btn").addEventListener("click",t=>{e.remove(),M()}),M()}function M(){eF.innerHTML="",eZ.length=0;let t=new Map;a&&a.uploadedDocuments&&a.uploadedDocuments.forEach(e=>{t.set(e.name,e.url)});let s=[{id:"acceptance-letter",label:"Acceptance Letter",required:!0},{id:"sponsor-letter",label:"Sponsor's Letter",required:!0},{id:"birth-certificate",label:"Birth Certificate",required:!0}],i=f.data?.userinfo?.entryMode;("utme"===i.toLowerCase()||"direct_entry"===i.toLowerCase())&&s.push({id:"lga-origin-cert",label:"Local government of origin certificate or Affidavit",required:!0},{id:"jamb-result",label:"JAMB result slip (with passport)",required:!0},{id:"jamb-admission",label:"JAMB admission letter (institution's copy)",required:!0},{id:"affidavit-conduct",label:"Affidavit of good conduct",required:!0},{id:"affidavit-cult",label:"Affidavit of non-membership of secret cult",required:!0}),eM.classList.contains("hidden")||(s.push({id:"first-sitting-olevel",label:"First Sitting O'Level Result",required:!0}),s.push({id:"first-sitting-testimonial",label:"First Sitting Testimonial",required:!1}),s.push({id:"first-sitting-scratch-card",label:"First Sitting Scratch Card",required:!0})),eO.classList.contains("hidden")||(s.push({id:"second-sitting-olevel",label:"Second Sitting O'Level Result",required:!0}),s.push({id:"second-sitting-testimonial",label:"Second Sitting Testimonial",required:!1}),s.push({id:"second-sitting-scratch-card",label:"Second Sitting Scratch Card",required:!0})),document.querySelectorAll('[id^="alevel-section-"]').forEach((e,t)=>{let a=t+1;s.push({id:`alevel-result-${a}`,label:`Advanced Level Result #${a}`,required:!0})}),document.querySelectorAll('[id^="he-section-"]').forEach((e,t)=>{let a=t+1;s.push({id:`he-result-${a}`,label:`Higher Education Result #${a}`,required:!0})}),s.forEach(a=>{let s=document.createElement("div");s.className="border border-gray-200 rounded-lg p-4",s.innerHTML=`
                            <label for="${a.id}" class="block text-sm font-medium text-gray-700 mb-2">
                                ${a.label} ${a.required?'<span class="text-red-500">*</span>':""}
                            </label>
                            <input type="file" id="${a.id}" name="${a.id}" accept="application/pdf" ${a.required?"required":""}
                                class="w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100">
                            <p id="${a.id}-error" class="text-red-500 text-xs mt-1 hidden"></p>
                            <p class="text-gray-500 text-xs mt-2">Status: <span id="${a.id}-status" class="font-medium text-red-500">Pending</span></p>
                            <div class="w-full bg-gray-200 rounded-full h-2.5 mt-2">
                                <div class="bg-purple-600 h-2.5 rounded-full transition-all duration-300 ease-out" style="width: 0%" id="${a.id}-progress"></div>
                            </div>
                        `,eF.appendChild(s);let i=s.querySelector(`#${a.id}`),r=s.querySelector(`#${a.id}-error`),o=s.querySelector(`#${a.id}-status`),l=s.querySelector(`#${a.id}-progress`);if(t.has(a.label)){let d=t.get(a.label);n[a.id]=d,o.textContent="Uploaded",o.className="font-medium text-green-600",l.style.width="100%",i.required=!1}eZ.push({input:i,error:r,status:o,required:a.required,label:a.label}),i.addEventListener("change",function(t){let s=t.target.files[0];if(r.classList.add("hidden"),l.style.width="0%",o.textContent="Pending",o.className="font-medium text-red-500",delete n[a.id],!s)return;if("application/pdf"!==s.type){r.textContent="Please upload a PDF file.",r.classList.remove("hidden"),i.value="";return}if(s.size>2097152){r.textContent="File size must be less than 2MB.",r.classList.remove("hidden"),i.value="";return}let d=new FormData;d.append("action","uploadClearanceDocument"),d.append("documentName",a.id),d.append("file",s),E(e+"?student",d,e=>{l.style.width=`${e}%`,o.textContent="Uploading...",o.className="font-medium text-yellow-600"},e=>{try{let t=JSON.parse(e);if(t.status&&t.data&&t.data.document&&t.data.document.url)o.textContent="Uploaded",o.className="font-medium text-green-600",n[a.id]=t.data.document.url,i.required=!1;else throw Error(t.message||"Upload failed.")}catch(s){r.textContent=s.message,r.classList.remove("hidden"),o.textContent="Failed",o.className="font-medium text-red-500",l.style.width="0%",i.value=""}},e=>{r.textContent=`Network error: ${e}`,r.classList.remove("hidden"),o.textContent="Failed",o.className="font-medium text-red-500",l.style.width="0%",i.value=""})})})}if($&&$.addEventListener("click",function(){tH("Confirm Changes","Are you sure you want to edit your submission? This will move your clearance back to edit and require you to re-submit.","Yes, Make Changes","Cancel").then(e=>{e&&w(this)})}),r&&r.addEventListener("click",function(){B(this)}),h&&h.addEventListener("click",function(){B(this)}),ev.addEventListener("change",function(){"Nigeria"!==ev.value?(ex.value="",ex.disabled=!0,ex.innerHTML='<option value="">N/A</option>',ew.value="",ew.disabled=!0,ew.innerHTML='<option value="">N/A</option>',eE.value="",eE.disabled=!0):(ex.disabled=!1,b(),ew.disabled=!1,v(),eE.disabled=!1)}),ex.addEventListener("change",v),eu.addEventListener("change",function(t){let a=t.target.files[0],n=ep,s=em;if(n.classList.add("hidden"),!a){s.src="https://placehold.co/100x100/E0E0E0/666666?text=Passport";return}if("image/jpeg"!==a.type){n.textContent="Please upload a JPG image.",n.classList.remove("hidden"),t.target.value="";return}if(a.size>51200){n.textContent="Image size must be less than 50KB.",n.classList.remove("hidden"),t.target.value="";return}let i=new FileReader;i.onload=e=>s.src=e.target.result,i.readAsDataURL(a);let r=new FormData;r.append("action","uploadClearanceDocument"),r.append("documentName","passport-photo"),r.append("file",a),s.style.opacity="0.5",E(e+"?student",r,e=>{},e=>{s.style.opacity="1";try{let t=JSON.parse(e);if(t.status)d=t.data.document.url,s.src=d,n.classList.add("hidden");else throw Error(t.message||"Upload failed.")}catch(a){n.textContent=a.message,n.classList.remove("hidden")}},e=>{s.style.opacity="1",n.textContent=`Network error: ${e}`,n.classList.remove("hidden")})}),en.forEach(e=>{e.addEventListener("click",()=>{((index=parseInt(e.dataset.tabIndex))<=to||tl.has(index))&&(to=index,_())})}),e3.addEventListener("click",()=>{eq.appendChild(C("first-sitting",eX))}),e6.addEventListener("click",()=>{eD.appendChild(C("second-sitting",eX))}),e2.addEventListener("click",()=>{eM.classList.remove("hidden"),e2.classList.add("hidden"),eT.required=!0,e4.required=!0,M()}),e1.addEventListener("click",()=>{eM.classList.add("hidden"),e2.classList.remove("hidden"),eT.value="",e4.value="",eT.required=!1,e4.required=!1,eq.innerHTML='<p class="text-sm font-medium text-gray-700 mb-2">Subjects and Grades:</p>',M()}),eH.addEventListener("click",()=>{eO.classList.remove("hidden"),eH.classList.add("hidden"),ej.required=!0,e5.required=!0,M()}),eP.addEventListener("click",()=>{eO.classList.add("hidden"),eH.classList.remove("hidden"),ej.value="",e5.value="",ej.required=!1,e5.required=!1,eD.innerHTML='<p class="text-sm font-medium text-gray-700 mb-2">Subjects and Grades:</p>',M()}),eG.addEventListener("click",N),eU.addEventListener("click",A),a&&"approved"!==i){let T=a.educationalHistory;T&&T.olevel&&T.olevel.forEach(e=>{let t="1"===e.sitting,a=t?eM:eO,n=t?e2:eH,s=t?eT:ej,i=t?e4:e5,r=t?o:l,d=t?eq:eD,c=t?"first-sitting":"second-sitting";a.classList.remove("hidden"),n.classList.add("hidden"),s.required=!0,i.required=!0,r.required=!0,s.value=e.examType,i.value=e.examNumber,r.value=e.examDate,e.subjects&&e.subjects.forEach(e=>{d.appendChild(C(c,eX,e.subject,e.grade))})}),T&&T.advancedLevel&&T.advancedLevel.forEach(e=>{N();let t=document.getElementById(`alevel-section-${eJ}`);t.querySelector('[name^="alevel-exam-type-"]').value=e.examType,t.querySelector('[name^="alevel-exam-number-"]').value=e.examNumber,t.querySelector('[name^="alevel-institution-"]').value=e.institution,t.querySelector('[name^="alevel-year-"]').value=e.year;let a=t.querySelector('[id$="-subjects-container"]');e.subjects&&e.subjects.forEach(e=>{a.appendChild(C(`alevel-${eJ}`,te,e.name,e.grade))})}),T&&T.higherEducation&&T.higherEducation.forEach(e=>{A();let t=document.getElementById(`he-section-${eV}`);t.querySelector('[name^="he-institution-"]').value=e.institution,t.querySelector('[name^="he-qualification-name-"]').value=e.qualification,t.querySelector('[name^="he-year-graduation-"]').value=e.graduationYear,t.querySelector('[name^="he-cgpa-"]').value=e.cgpa,t.querySelector('[name^="he-degree-class-"]').value=e.degreeClass})}function q(){X&&((formElements=X.querySelectorAll("input, select, textarea, button")).forEach(e=>{e.disabled=!0,e.classList.add("opacity-60","cursor-not-allowed")}),eW&&eW.querySelectorAll(".tab-button").forEach(e=>{e.disabled=!0,e.classList.add("opacity-60","cursor-not-allowed")}))}if(updateClearanceUI=function(){document.querySelectorAll(".clearance-view").forEach(e=>e.classList.add("hidden"));let e="pending",t=null;try{if(f.data.userinfo.clearanceDetails){let a=f.data.userinfo.clearanceDetails;(t="string"==typeof a?JSON.parse(a):a).status&&(e=t.status.toLowerCase())}1===f.data.userinfo.isCleared&&"provisional"!==e?e="approved":2===f.data.userinfo.isCleared&&(e="rejected")}catch(n){console.error("Error parsing clearance details:",n)}if("approved"===e)Q.classList.remove("hidden"),function e(){if(!f.data||!f.data.userinfo||!f.data.userinfo.clearanceDetails){console.error("Clearance details not found in appState for approved view!");return}let t=JSON.parse(f.data.userinfo.clearanceDetails),a=t.profileData||{},n=t.uploadedDocuments||[];ez.innerHTML=`
                        <p><span class="font-medium text-gray-700">Name:</span> ${a.firstName} ${a.middleName?a.middleName+" ":""}${a.lastName}</p>
                        <p><span class="font-medium text-gray-700">${f.data.userinfo.jambRegNo?"JAMB Reg. No":"Student Id"}:</span> ${f.data.userinfo.jambRegNo?f.data.userinfo.jambRegNo:f.data.userinfo.studentId}</p>
                        <p><span class="font-medium text-gray-700">Date of Birth:</span> ${a.dateOfBirth}</p>
                        <p><span class="font-medium text-gray-700">Gender:</span> ${a.gender}</p>
                        <p><span class="font-medium text-gray-700">Email:</span> ${a.email}</p>
                        <p><span class="font-medium text-gray-700">Phone:</span> ${a.phoneNumber}</p>
                    `,eY.innerHTML="",n.length>0?n.forEach(e=>{let t=document.createElement("li");t.innerHTML=`
                                <span class="text-gray-800">${e.name}</span>
                                (<span class="text-green-600">Verified</span>)
                                <a href="${e.url}" target="_blank" class="text-purple-600 hover:underline font-medium ml-2">
                                    [View File]
                                </a>
                            `,eY.appendChild(t)}):eY.innerHTML='<li class="text-gray-500">No documents found.</li>'}(),q();else if("rejected"===e){V.classList.remove("hidden");let s=document.getElementById("rejection-comment-display"),i="No specific reason provided by the officer.",r="",o="";if(t&&t.clearancecomment&&t.clearancecomment.officer){let l=t.clearancecomment.officer;if(Array.isArray(l)||"object"!=typeof l){if(Array.isArray(l)&&l.length>0){let d=l[l.length-1];i=d.comment||i,r=d.name||"",o=d.formattedTime||d.time||""}}else i=l.comment||i,r=l.name||"",o=l.formattedTime||l.time||""}s&&(s.classList.remove("hidden"),s.innerHTML=`
                                <div class="bg-red-50 border-l-4 border-red-500 p-4 rounded text-left shadow-sm">
                                    <div class="flex justify-between items-start mb-2">
                                        <h4 class="font-bold text-red-800 text-sm uppercase tracking-wide flex items-center">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-message-square-warning mr-2"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
                                            Officer's Reason for Rejection
                                        </h4>
                                        ${o?`<span class="text-xs text-red-600 bg-white px-2 py-1 rounded border border-red-100">${o}</span>`:""}
                                    </div>
                                    <p class="text-gray-800 text-base font-medium leading-relaxed">
                                        ${i.replace(/\n/g,"<br>")}
                                    </p>
                                    ${r?`<div class="mt-2 text-right text-xs text-red-400 italic">Officer: ${r}</div>`:""}
                                </div>
                            `),q();let h=document.getElementById("rejected-edit-btn");if(h){let $=h.cloneNode(!0);h.parentNode.replaceChild($,h),$.addEventListener("click",function(){tH("Re-open Application",'Do you want to re-open your application to make corrections? This will change your status to "Pending".',"Yes, Fix It","Cancel").then(e=>{e&&w(this)})})}}else if("transferred"===e)Z.classList.remove("hidden"),e8&&(e8.textContent=localStorage.getItem("transferProgramme")||"Not Specified"),I(t,Z),q();else if("submitted"===e||"locked"===e||"provisional"===e||"pending_review"===e){J.classList.remove("hidden"),function e(){if(!f.data||!f.data.userinfo||!f.data.userinfo.clearanceDetails){console.error("Clearance details not found in appState for submitted view!"),c.innerHTML='<p class="text-red-500">Error: Could not load submitted clearance data.</p>';return}let t=f.data.userinfo.clearanceDetails;try{t=JSON.parse(t)}catch(a){}let n=t.profileData||{},s=t.educationalHistory||{},i=t.uploadedDocuments||[];c.innerHTML=`
                    <h5 class="font-semibold text-gray-700 mb-2 md:col-span-2 border-b">Personal Details</h5>
                    <p><span class="font-medium text-gray-700">Full Name:</span> ${n.firstName} ${n.middleName||""} ${n.lastName}</p>
                    <p><span class="font-medium text-gray-700">Date of Birth:</span> ${n.dateOfBirth||"N/A"}</p>
                    <p><span class="font-medium text-gray-700">Gender:</span> ${n.gender||"N/A"}</p>
                    <p><span class="font-medium text-gray-700">Marital Status:</span> ${n.maritalStatus||"N/A"}</p>
                    
                    <h5 class="font-semibold text-gray-700 mt-4 mb-2 md:col-span-2 border-b">Contact & Address</h5>
                    <p><span class="font-medium text-gray-700">Email:</span> ${n.email}</p>
                    <p><span class="font-medium text-gray-700">Phone:</span> ${n.phoneNumber}</p>
                    <p class="md:col-span-2"><span class="font-medium text-gray-700">Address:</span> ${n.address||"N/A"}</p>

                    <h5 class="font-semibold text-gray-700 mt-4 mb-2 md:col-span-2 border-b">Origin</h5>
                    <p><span class="font-medium text-gray-700">Nationality:</span> ${n.nationality||"N/A"}</p>
                    <p><span class="font-medium text-gray-700">State of Origin:</span> ${n.stateOfOrigin||"N/A"}</p>
                    <p><span class="font-medium text-gray-700">LGA of Origin:</span> ${n.lgaOfOrigin||"N/A"}</p>

                    <h5 class="font-semibold text-gray-700 mt-4 mb-2 md:col-span-2 border-b">Sponsor & Next of Kin</h5>
                    <p><span class="font-medium text-gray-700">Sponsor:</span> ${n.sponsorName||"N/A"}</p>
                    <p><span class="font-medium text-gray-700">Sponsor's Phone:</span> ${n.sponsorPhone||"N/A"}</p>
                    <p><span class="font-medium text-gray-700">Next of Kin:</span> ${n.nextOfKin?n.nextOfKin.name:"N/A"}</p>
                    <p><span class="font-medium text-gray-700">Next of Kin's Phone:</span> ${n.nextOfKin?n.nextOfKin.phone:"N/A"}</p>
                `,u.innerHTML="",s.olevel&&s.olevel.length>0&&s.olevel.forEach(e=>{let t=`
                            <div class="mt-4 border rounded-md">
                                <h5 class="font-semibold text-gray-700 p-3 bg-gray-50 border-b">${"1"===e.sitting?"First":"Second"} Sitting O'Level</h5>
                                <div class="p-3 grid grid-cols-1 md:grid-cols-3 gap-2 text-sm">
                                    <p><span class="font-medium text-gray-600">Exam Type:</span> ${e.examType}</p>
                                    <p><span class="font-medium text-gray-600">Exam Number:</span> ${e.examNumber}</p>
                                    <p><span class="font-medium text-gray-600">Exam Date:</span> ${e.examDate}</p>
                                </div>
                                ${e.subjects.length>0?`
                                <div class="overflow-x-auto px-3 pb-3"><table class="min-w-full text-sm border">
                                    <thead class="bg-gray-100"><tr><th class="px-4 py-2 text-left border-b">Subject</th><th class="px-4 py-2 text-left border-b">Grade</th></tr></thead>
                                    <tbody>${e.subjects.map(e=>`<tr><td class="px-4 py-2 border-b">${e.subject}</td><td class="px-4 py-2 border-b">${e.grade}</td></tr>`).join("")}</tbody>
                                </table></div>`:""}
                            </div>`;u.innerHTML+=t}),m.innerHTML="",s.advancedLevel&&s.advancedLevel.length>0&&s.advancedLevel.forEach((e,t)=>{let a=`
                            <div class="mt-4 border rounded-md">
                                <h5 class="font-semibold text-gray-700 p-3 bg-gray-50 border-b">Advanced Level Result #${t+1}</h5>
                                <div class="p-3 grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-2 text-sm">
                                    <p><span class="font-medium text-gray-600">Exam Type:</span> ${e.examType}</p>
                                    <p><span class="font-medium text-gray-600">Exam Number:</span> ${e.examNumber}</p>
                                    <p><span class="font-medium text-gray-600">Institution:</span> ${e.institution}</p>
                                    <p><span class="font-medium text-gray-600">Year:</span> ${e.year}</p>
                                </div>
                                ${e.subjects&&e.subjects.length>0?`
                                <div class="overflow-x-auto px-3 pb-3"><table class="min-w-full text-sm border">
                                    <thead class="bg-gray-100"><tr><th class="px-4 py-2 text-left border-b">Subject</th><th class="px-4 py-2 text-left border-b">Grade</th></tr></thead>
                                    <tbody>${e.subjects.map(e=>`<tr><td class="px-4 py-2 border-b">${e.name}</td><td class="px-4 py-2 border-b">${e.grade}</td></tr>`).join("")}</tbody>
                                </table></div>`:'<p class="text-sm text-gray-500 px-3 pb-3">- No subjects were entered for this qualification.</p>'}
                            </div>`;m.innerHTML+=a}),p.innerHTML="",s.higherEducation&&s.higherEducation.length>0&&s.higherEducation.forEach((e,t)=>{let a=`
                            <div class="mt-4 border rounded-md">
                                <h5 class="font-semibold text-gray-700 p-3 bg-gray-50 border-b">Higher Education Result #${t+1}</h5>
                                <div class="p-3 grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-2 text-sm">
                                    <p><span class="font-medium text-gray-600">Institution:</span> ${e.institution}</p>
                                    <p><span class="font-medium text-gray-600">Qualification:</span> ${e.qualification}</p>
                                    <p><span class="font-medium text-gray-600">Year of Graduation:</span> ${e.graduationYear}</p>
                                    <p><span class="font-medium text-gray-600">Class of Degree:</span> ${e.degreeClass}</p>
                                    <p><span class="font-medium text-gray-600">CGPA:</span> ${e.cgpa}</p>
                                </div>
                            </div>`;p.innerHTML+=a}),g.innerHTML="",i.length>0?i.forEach(e=>{let t=document.createElement("li");t.className="flex items-center justify-between py-1",t.innerHTML=`
                            <span>${e.name} - <span class="text-green-600 font-medium">Submitted</span></span>
                            <a href="${e.url}" target="_blank" class="text-purple-600 hover:underline font-medium ml-4 px-3 py-1 rounded-md bg-purple-50 hover:bg-purple-100 text-xs transition-colors duration-200">
                                [View File]
                            </a>
                        `,g.appendChild(t)}):g.innerHTML='<li class="text-gray-500">No documents were submitted.</li>'}(),I(t,J);let v=J.querySelector("h3");if("provisional"===e){if(v.innerHTML=`
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-alert-circle text-yellow-600 mr-2"><circle cx="12" cy="12" r="10"/><line x1="12" x2="12" y1="8" y2="12"/><line x1="12" x2="12.01" y1="16"/></svg>
                                Provisional Clearance
                            `,!document.getElementById("provisional-note")){let x=document.createElement("p");x.id="provisional-note",x.className="text-yellow-800 bg-yellow-50 p-3 rounded mb-4 text-sm",x.innerText="Your clearance is provisionally approved pending the satisfaction of the conditions in the officer's comment above.",v.parentNode.insertBefore(x,v.nextSibling)}}else{v.innerHTML=`
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-hourglass text-blue-600 mr-2"><path d="M6 2v6a6 6 0 0 0 6 6 6 6 0 0 0 6-6V2"/><path d="M6 22v-6a6 6 0 0 1 6-6 6 6 0 0 1 6 6v6"/></svg>
                                Clearance Submitted for Review
                            `;let E=document.getElementById("provisional-note");E&&E.remove()}let k=document.getElementById("edit-submission-btn");k&&("locked"===e?k.classList.add("hidden"):k.classList.remove("hidden")),q()}else Y.classList.remove("hidden"),function e(){if(X){(formElements=X.querySelectorAll("input, select, textarea, button")).forEach(e=>{e.disabled=!1,e.classList.remove("opacity-60","cursor-not-allowed")}),eW&&eW.querySelectorAll(".tab-button").forEach(e=>{e.disabled=!1,e.classList.remove("opacity-60","cursor-not-allowed")});let t,a,n,s,i,r;t=ei.cloneNode(!0),ei.parentNode.replaceChild(t,ei),(ei=t).addEventListener("click",()=>L(1)),a=eo.cloneNode(!0),eo.parentNode.replaceChild(a,eo),(eo=a).addEventListener("click",()=>L(2)),n=ed.cloneNode(!0),ed.parentNode.replaceChild(n,ed),(ed=n).addEventListener("click",()=>L(3)),s=er.cloneNode(!0),er.parentNode.replaceChild(s,er),(er=s).addEventListener("click",()=>{to=0,_()}),i=el.cloneNode(!0),el.parentNode.replaceChild(i,el),(el=i).addEventListener("click",()=>{to=1,_()}),r=ec.cloneNode(!0),ec.parentNode.replaceChild(r,ec),(ec=r).addEventListener("click",()=>{to=2,_()})}}(),to=0,tl=new Set,_(),y(),b(),S(),M(),I(t,Y)},"pending"===i&&(ei.addEventListener("click",()=>{L(1)}),eo.addEventListener("click",()=>{L(2)}),ed.addEventListener("click",()=>{L(3)}),er.addEventListener("click",()=>{to=0,_()}),el.addEventListener("click",()=>{to=1,_()}),ec.addEventListener("click",()=>{to=2,_()})),X.addEventListener("submit",function(t){if(t.preventDefault(),!e7.checked){tO("Verify Input","Please agree to the declaration to submit.","warning");return}payloadData=k();let n={action:"submitClearanceRecord",data:{clearanceDetails:payloadData}};GsonApis.request.postJson(e+"?student",n,e=>{if((res=e).status){tO("Success",res.message,"success"),payloadData.status="submitted",i="submitted",a=payloadData;let t=JSON.stringify(payloadData);f.data.userinfo.clearanceDetails=t,f.data.userinfo.isCleared=0;let n=JSON.parse(GsonApis.session("ultison"));n.data.userinfo.missingRequiredDocuments=[],n.data.userinfo.clearanceDetails=t,n.data.userinfo.isCleared=0,GsonApis.session("ultison",JSON.stringify(n)),updateClearanceUI()}else tO("Submission Failed",res.message||"An unknown error occurred.","warning")},e=>{tO("Network Error",`The request failed: ${e}. Please check your connection and try again.`,"warning")})}),a&&a.profileData&&a.profileData.passportPhotoUrl){let O=a.profileData.passportPhotoUrl;d=O,em.src=O,eu.required=!1}s||(y(),b(),S(),M(),s=!0),updateClearanceUI()}(),window.location.hash=`#${r}`}M.addEventListener("click",function(){q.classList.toggle("hidden"),setTimeout(()=>{q.classList.toggle("sidebar-mobile-closed")},10),P.classList.add("hidden"),D.classList.add("hidden")}),document.addEventListener("click",function(e){!(window.innerWidth<768)||q.contains(e.target)||M.contains(e.target)||q.classList.contains("sidebar-mobile-closed")||(q.classList.add("sidebar-mobile-closed"),setTimeout(()=>{q.classList.add("hidden")},300))}),H.addEventListener("click",function(e){e.stopPropagation(),P.classList.toggle("hidden"),D.classList.add("hidden")}),j.addEventListener("click",function(e){e.stopPropagation(),D.classList.toggle("hidden"),P.classList.add("hidden")}),document.addEventListener("click",function(e){H.contains(e.target)||P.contains(e.target)||P.classList.add("hidden"),j.contains(e.target)||D.contains(e.target)||D.classList.add("hidden")}),T.addEventListener("click",function(){q.classList.toggle("w-64"),q.classList.toggle("w-20"),O.classList.toggle("md:ml-64"),O.classList.toggle("md:ml-20"),K.forEach(e=>{e.classList.toggle("opacity-0"),e.classList.toggle("max-w-0"),e.classList.toggle("ml-0"),e.classList.toggle("ml-3")}),q.querySelectorAll("nav ul li a:not(#academics-menu-toggle)").forEach(e=>{q.classList.contains("w-20")?(e.classList.add("justify-center"),e.classList.remove("justify-start")):(e.classList.remove("justify-center"),e.classList.add("justify-start"))}),R.forEach(e=>{q.classList.contains("w-20")?(e.setAttribute("width","28"),e.setAttribute("height","28")):(e.setAttribute("width","20"),e.setAttribute("height","20"))}),q.classList.contains("w-20")&&(W.classList.add("hidden"),z.classList.remove("rotate-180")),localStorage.setItem("sidebarCollapsed",q.classList.contains("w-20"))}),F.addEventListener("click",function(){if(W.classList.toggle("hidden"),z.classList.toggle("rotate-180"),W.classList.contains("hidden")){let e=W.querySelector(".bg-purple-100");e||(this.classList.remove("bg-purple-100","text-purple-700"),this.classList.add("text-gray-700"))}else this.classList.add("bg-purple-100","text-purple-700"),this.classList.remove("text-gray-700")}),G.forEach(e=>{e.addEventListener("click",function(e){if(this.dataset.page){e.preventDefault();let t=this.dataset.page;tm(`${t}-content`)}})}),document.getElementById("dashboard-academic-record-btn").addEventListener("click",function(e){tc("navigate","academic-record")?tm("academic-record-content"):e.preventDefault()}),document.getElementById("dashboard-view-full-calendar-btn").addEventListener("click",function(e){e.preventDefault(),tm("full-calendar-content")}),document.getElementById("quick-link-academic-calendar").addEventListener("click",function(e){tc("feature-access","academic-calendar")?tO("Academic Calendar","Accessing academic calendar is allowed.","info"):e.preventDefault()}),document.getElementById("quick-link-student-handbook").addEventListener("click",function(e){tc("feature-access","student-handbook")?tO("Student Handbook","Accessing student handbook is allowed.","info"):e.preventDefault()}),document.getElementById("quick-link-contact-support").addEventListener("click",function(e){tO("Contact Support","Contacting support is allowed.","info"),e.preventDefault()}),document.getElementById("update-profile-link").addEventListener("click",function(e){e.preventDefault(),tO("Feature Disabled","Profile update is currently disabled.","warning")});let tp=document.getElementById("latest-announcements-list");tp&&tp.addEventListener("click",function(e){let t=e.target.closest(".read-more-announcement");if(t){let a=t.dataset.title,n=t.dataset.fullMessage;tO(a,n,"info")}}),document.getElementById("print-calendar-btn").addEventListener("click",function(){let e=new Date;document.getElementById("copyright-year").textContent=e.getFullYear(),document.getElementById("copyright-institution-name").textContent=f.institution.name,document.getElementById("printable-footer-date").textContent="Printed on: "+e.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});let t=document.createElement("style");t.innerHTML=`
                    @media print {
                        /* Use @page rule to control print margins */
                        @page {
                            size: A4;
                            margin: 1in;
                        }

                        body * { visibility: hidden; }
                        
                        /* Make the printable header, content, and footer visible */
                        #printable-calendar-header, #printable-calendar-header *,
                        #full-calendar-container, #full-calendar-container *,
                        #printable-calendar-footer, #printable-calendar-footer * {
                            visibility: visible;
                        }
                        
                        #full-calendar-content {
                            position: absolute;
                            left: 0;
                            top: 0;
                            width: 100%;
                        }

                        /* This ensures the footer is displayed after the content */
                        #printable-calendar-footer {
                            /* Removed 'fixed' positioning */
                            width: 100%;
                            text-align: center;
                        }

                        /* Hide all non-essential UI elements */
                        .btn-purple, header, #sidebar, nav {
                            display: none !important;
                        }
                    }
                `,document.head.appendChild(t),window.print(),document.head.removeChild(t)}),document.getElementById("change-password-link").addEventListener("click",function(e){e.preventDefault(),tm("change-password-content")}),document.getElementById("sign-out-link").addEventListener("click",function(t){t.preventDefault(),GsonApis.request.postJson(e+"?deauthenticate",{},e=>{e.status&&GsonApis.session(null),e.status&&tO("Sign Out","You have been signed out.","info"),e.status&&location.reload(),e.status||"Not authenticated"!=e.message||GsonApis.session(null),e.status||"Not authenticated"!=e.message||tO("Sign Out","Session not found. You have been automatically signed out.","info"),e.status||"Not authenticated"!=e.message||location.reload()},this.neterr)});let tg=document.querySelector("#change-password-content form");async function th(t){if(!t||"submitted"!==i)return;let a=t.missingRequiredDocuments;if(a&&a.length>0){let n=`
                        <p class="mb-3">Your clearance submission is incomplete. The following required documents are missing:</p>
                        <ul class="list-disc list-inside mb-3 bg-gray-50 p-3 rounded-md text-left">
                            ${a.map(e=>`<li class="font-medium">${e}</li>`).join("")}
                        </ul>
                        <p class="font-semibold text-red-900">You will not be cleared until these documents are uploaded.</p>
                        <p class="mt-3">Would you like to re-open your clearance form to fix this now?</p>
                    `,s=await tH("Missing Required Documents",n,"Fix Now","Later");s&&(tO("Processing...","Re-opening your clearance form, please wait...","info"),GsonApis.request.postJson(e+"?student",{action:"unSubmitClearance"},e=>{if(e.status){f.data.userinfo.isCleared=0;let t=JSON.parse(f.data.userinfo.clearanceDetails);t.status="pending",f.data.userinfo.clearanceDetails=JSON.stringify(t),i="pending";let a=JSON.parse(GsonApis.session("ultison"));a.data.userinfo.isCleared=0,a.data.userinfo.clearanceDetails=f.data.userinfo.clearanceDetails,GsonApis.session("ultison",JSON.stringify(a)),to=2,tm("clearance-content"),tO("Success","Clearance has been re-opened. Please upload your missing documents.","success")}else tO("Error",e.message||"Could not re-open clearance. Please contact support.","warning")},e=>{tO("Network Error",`Could not connect to the server: ${e}`,"warning")}))}}function t$(e){let t=document.getElementById("payments-table-body"),a=e.paymentHistory||[],n=new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"});t&&a.length>0&&(t.innerHTML="",a.forEach(e=>{let a="paid"===e.status.toLowerCase(),s=a?`<button data-action="view-receipt" data-reference="${e.referenceNumber||e.reference_number}" class="text-purple-600 hover:underline text-xs font-semibold">View Receipt</button>`:'<button class="text-gray-400 cursor-not-allowed text-xs font-semibold" disabled>View Receipt</button>',i=`
                            <tr class="border-b border-gray-200 hover:bg-gray-50">
                                <td class="py-3 px-4 whitespace-nowrap">${e.session}</td>
                                <td class="py-3 px-4">${e.description}</td>
                                <td class="py-3 px-4">${e.referenceNumber||e.reference_number||""}</td>
                                <td class="py-3 px-4 text-right font-medium">${n.format(e.amount)}</td>
                                <td class="py-3 px-4 text-center">
                                    <span class="px-2 py-1 text-xs font-semibold rounded-full ${a?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}">
                                        ${e.status}
                                    </span>
                                </td>
                                <td class="py-3 px-4 text-center">
                                    ${s}
                                </td>
                            </tr>
                        `;t.innerHTML+=i}))}tg&&tg.addEventListener("submit",function(t){t.preventDefault();let a=document.getElementById("current-password"),n=document.getElementById("new-password"),s=document.getElementById("confirm-password"),i=this.querySelector('button[type="submit"]'),r=a.value,o=n.value,l=s.value;if(!r||!o||!l){tO("Input Error","Please fill in all password fields.","warning");return}if(o.length<8){tO("Validation Error","New password must be at least 8 characters long.","warning");return}if(o!==l){tO("Validation Error","New passwords do not match.","warning");return}i.disabled=!0,i.textContent="Updating...",GsonApis.request.postJson(e+"?student",{action:"changePassword",currentPassword:r,newPassword:o,confirmPassword:l},e=>{i.disabled=!1,i.textContent="Update Password";let t=e;t.status?(tO("Success","Your password has been changed successfully.","success"),tg.reset()):tO("Update Failed",t.message||"An unknown error occurred.","warning")},e=>{i.disabled=!1,i.textContent="Update Password",tO("Network Error",`Could not connect to the server: ${e}`,"warning")})});let tf=document.getElementById("new-payment-form"),ty=document.getElementById("payment-type"),tb=document.getElementById("payment-amount");function tv(){f.payKeys||GsonApis.request.postJson(e+"?getPaymentKeys",{},e=>{let t=JSON.parse(GsonApis.session("ultison"));t.payKeys=e,f.payKeys=e,GsonApis.session("ultison",JSON.stringify(t)),e[f.activePaymentGateway]&&setTimeout(()=>{GsonApis.script.load(e[f.activePaymentGateway].url,()=>{},()=>{tO("INFO",`${f.activePaymentGateway} payment service is currently unavailable.`,"warning")})},3e3),"remita"==f.activePaymentGateway&&e.remita&&e.remita.pubKey&&(app.state.remitaPublicKey=e.remita.pubKey)});let a=document.getElementById("payment-type");a&&GsonApis.request.postJson(e+"?student",{action:"getAvailablePayments"},e=>{if(e.status&&e.data.availablePayments&&(a.innerHTML='<option value="">Select a payment type</option>',e.data.availablePayments.forEach(e=>{let t=document.createElement("option");t.value=e.transaction_type,t.textContent=e.description,t.dataset.amount=e.amount,t.dataset.gateway=e.paymentgateway,t.dataset.serviceTypeId=e.serviceTypeId,a.appendChild(t)}),t)){let n=Array.from(a.options).find(e=>e.value===t);n&&(a.value=t,a.dispatchEvent(new Event("change"))),t=null}},e=>{console.error("Failed to load available payments:",e)})}function tx(t){tO("","Payment window was closed. But wait while we check your transaction status","warning"),GsonApis.request.postJson(e+"?student",{action:"checkPayment",gateway:"remita",rrr:t},e=>{e.status?tO("Success","Your payment was successful","success"):tO("Notice",e.message||"Yet to make payment.","warning")},e=>{GsonApis.debug&&console.warn(e)})}ty&&tb&&ty.addEventListener("change",function(){let e=this.options[this.selectedIndex],t=e.dataset.amount,a=new Intl.NumberFormat("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2});tb.value=t?a.format(t):""}),tf&&tf.addEventListener("submit",function(t){t.preventDefault();let a=this.querySelector('button[type="submit"]'),n=ty.options[ty.selectedIndex],s=n.dataset.amount,i=n.value,r=n.dataset.description;if(!s||!i){tO("Invalid Selection","Please select a valid payment type.","warning");return}a.disabled=!0,a.textContent="Processing...";let o={action:"initiatePayment",data:{amount:parseFloat(s),description:r,paymentType:i,gateway:"remita"}};GsonApis.request.postJson(e+"?student",o,t=>{let n=t;n.status?(tO("Redirecting...",`You will now be redirected to a secure payment gateway to complete your payment of ${s}.`,"success"),setTimeout(()=>{if(n.status){let t=n.data.rrr,a=n.data.pubKey,s=RmPaymentEngine.init({key:a,processRrr:!0,transactionId:Date.now(),extendedData:{customFields:[{name:"rrr",value:t}]},onSuccess(t){var a;a=t,console.log("Remita Success Callback:",a),tO("Processing","Payment successful. Verifying transaction...","info"),GsonApis.request.postJson(e+"?student",{action:"verifyPayment",gateway:"remita",transactionId:a.transactionId,paymentReference:a.paymentReference},e=>{if(e.status)try{f.data.userinfo.paymentHistory=e.data;let t=GsonApis.session("ultison");if(t){let a=JSON.parse(t);a.data.userinfo=f.data.userinfo,GsonApis.session("ultison",JSON.stringify(a))}t$(f.data.userinfo),y(),tB(),tO("Success","Your payment was verified successfully!","success")}catch(n){console.error("Error updating UI:",n),tO("Success","Payment received! Please refresh the page to see the update.","success")}else tO("Notice",e.message||"Transaction status is pending. Please check back later.","warning")},e=>{console.error("Network Error:",e),tO("Connection Error","Could not verify payment status immediately. Please refresh the page.","warning")})},onError(e){console.log("Payment Error:",e),tO("Error","An error occurred while processing the payment.","error")},onClose(){console.log("The payment window was closed")}});s.showPaymentWidget()}else tO(n.message||"Could not initiate payment.","warning")},2e3)):tO("Error",n.message||"Could not initiate payment. Please try again.","warning"),a.disabled=!1,a.textContent="Process Payment"},e=>{a.disabled=!1,a.textContent="Process Payment",tO("Network Error",`Could not connect to server: ${e}`,"warning")})});let tw=document.getElementById("payments-table-body");tw&&tw.addEventListener("click",function(t){let a=t.target.closest('button[data-action="view-receipt"]');if(a){let n=a.dataset.reference;!function t(a,n){a.disabled=!0;let s=a.innerHTML;a.innerHTML=`
                    <svg class="animate-spin h-4 w-4 text-purple-600 inline-block" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                    </svg>
                    Loading...
                `,GsonApis.request.postJson(e+"?student",{action:"generatePaymentReceiptPdf",data:{reference:n}},e=>{let t=e;t.status&&t.link?window.open(t.link,"_blank"):tO("Error",t.message||"Could not generate the receipt link.","warning"),a.disabled=!1,a.innerHTML=s},e=>{GsonApis.debug&&console.error("Receipt Generation Error:",e),tO("Error","Receipt generation failed. Server returned an error","warning"),a.disabled=!1,a.innerHTML=s})}(a,n)}});let tE=document.getElementById("hostel-menu-toggle"),t0=document.getElementById("hostel-submenu"),tk=document.getElementById("hostel-chevron"),tL=document.querySelectorAll(".hostel-view"),t_=document.getElementById("start-hostel-application-btn"),tI=document.getElementById("hostel-application-form");function tB(){let a=f.data.userinfo.hostelApplicationStatus??"not_applied",n=f.data.userinfo.hostelAllocation;if(tL.forEach(e=>e.classList.add("hidden")),!f.hostelBookingOpen&&"not_applied"===a){document.getElementById("hostel-closed-view").classList.remove("hidden");return}switch(a){case"reserved":C(n),function t(a){let n=document.getElementById("hostel-status-icon"),s=document.getElementById("hostel-status-title"),i=document.getElementById("hostel-status-desc"),r=document.getElementById("reservation-timer-container");document.getElementById("hostel-action-buttons"),n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-calendar-check mx-auto text-yellow-600"><rect width="18" height="18" x="3" y="4" rx="2" ry="2"/><line x1="16" x2="16" y1="2" y2="6"/><line x1="8" x2="8" y1="2" y2="6"/><line x1="3" x2="21" y1="10" y2="10"/><path d="m9 16 2 2 4-4"/></svg>',s.textContent="Bedspace Reserved For You",s.className="text-2xl font-bold text-yellow-700",i.innerHTML="An administrator has reserved this bedspace for you.<br>Please <b>Accept</b> to proceed to payment, or contact support if this is incorrect.",r.classList.add("hidden");let o=document.getElementById("hostel-pay-now-btn"),l=document.getElementById("hostel-print-slip-btn"),d=document.getElementById("hostel-alloc-print-slip-btn"),c=document.getElementById("hostel-claim-btn");c||((c=document.createElement("button")).id="hostel-claim-btn",c.className="w-full sm:w-auto btn-purple text-white py-3 px-6 rounded-md font-semibold shadow-md hover:bg-purple-800 transition-colors flex items-center justify-center",o.parentNode.insertBefore(c,o)),o.classList.add("hidden"),l.classList.add("hidden"),d.classList.add("hidden"),c.classList.remove("hidden"),c.innerHTML=`
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-check mr-2"><path d="M20 6 9 17l-5-5"/></svg>
                    Accept & Claim Bedspace
                `,c.onclick=()=>{c.disabled=!0,c.innerHTML="Processing...";let t={action:"applyHostel",data:{hostel_code:a.hostel_code}};GsonApis.request.postJson(e+"?student",t,e=>{if(e.status){f.data.userinfo=e.data;let t=JSON.parse(GsonApis.session("ultison"));t.data.userinfo=e.data,GsonApis.session("ultison",JSON.stringify(t)),tB(),tO("Success","Bedspace successfully claimed!","success")}else tO("Error",e.message,"warning"),c.disabled=!1,c.innerHTML="Accept & Claim Bedspace"})}}(n),document.getElementById("hostel-allocated-view").classList.remove("hidden");break;case"allocated":C(n),function e(a){let n=document.getElementById("hostel-status-icon"),s=document.getElementById("hostel-status-title"),i=document.getElementById("hostel-status-desc"),r=document.getElementById("reservation-timer-container"),o=document.getElementById("hostel-pay-now-btn"),l=document.getElementById("hostel-print-slip-btn"),d=document.getElementById("hostel-alloc-print-slip-btn"),c=document.getElementById("hostel-claim-btn");n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-hourglass mx-auto text-orange-500"><path d="M5 22h14"/><path d="M5 2h14"/><path d="M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22"/><path d="M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2"/></svg>',s.textContent="Bedspace Allocated",s.className="text-2xl font-bold text-orange-700",i.textContent="You have been successfully allocated a bedspace. Payment is required immediately to confirm your allocation. Your allocation will expire if you dont pay your hostel maintenance fee within the specified days.",c&&c.classList.add("hidden"),l&&l.classList.add("hidden"),o.classList.remove("hidden"),d.classList.remove("hidden"),r.classList.remove("hidden");let u;void 0!==a.seconds_remaining&&null!==a.seconds_remaining?u=new Date(Date.now()+1e3*a.seconds_remaining):a.expires_at?u=new Date(a.expires_at.replace(" ","T")):(console.warn("Expiration data missing. Defaulting timer."),u=new Date(Date.now()+864e5)),function e(t){tS&&clearInterval(tS);let a=document.getElementById("reservation-countdown"),n=document.getElementById("expireText"),s=document.getElementById("reservation-expiry-date"),i=document.getElementById("hostel-pay-now-btn"),r=document.getElementById("hostel-alloc-print-slip-btn"),o=document.getElementById("hostel-status-title"),l=document.getElementById("hostel-status-desc"),d=document.getElementById("hostel-status-icon");function c(){let e=new Date().getTime(),s=new Date(t).getTime(),c=s-e;if(c<0){clearInterval(tS),a.textContent="EXPIRED",a.className="text-3xl font-bold text-red-600 font-mono",n.textContent="expired",i&&i.classList.add("hidden"),r&&r.classList.add("hidden"),o&&(o.textContent="Reservation Expired",o.className="text-2xl font-bold text-red-700"),l&&(l.textContent="You failed to pay the maintenance fee within the allocated time. This reservation is invalid and will be cleared by an administrator."),d&&(d.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-circle-x mx-auto text-red-600"><circle cx="12" cy="12" r="10"/><path d="m15 9-6 6"/><path d="m9 9 6 6"/></svg>');return}a.textContent=`${Math.floor(c/864e5)}d ${Math.floor(c%864e5/36e5)}h ${Math.floor(c%36e5/6e4)}m ${Math.floor(c%6e4/1e3)}s`,n.textContent="will expire"}s&&(s.textContent=new Date(t).toLocaleString()),c(),tS=setInterval(c,1e3)}(u.toISOString()),d.dataset.allocationId=a.allocation_id,d.onclick=function(){tC(this)},o.onclick=()=>{t="hostelMaintenanceFee",tm("payment-content"),document.getElementById("new-payment-form").scrollIntoView({behavior:"smooth"})}}(n),document.getElementById("hostel-allocated-view").classList.remove("hidden");break;case"occupied":C(n),function e(t){let a=document.getElementById("hostel-status-icon"),n=document.getElementById("hostel-status-title"),s=document.getElementById("hostel-status-desc"),i=document.getElementById("reservation-timer-container"),r=document.getElementById("hostel-pay-now-btn"),o=document.getElementById("hostel-print-slip-btn"),l=document.getElementById("hostel-alloc-print-slip-btn"),d=document.getElementById("hostel-claim-btn");a.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-check-circle mx-auto text-green-600"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><path d="m9 11 3 3L22 4"/></svg>',n.textContent="Allocation Confirmed",n.className="text-2xl font-bold text-green-700",s.textContent="Your hostel accommodation has been fully paid for and confirmed.",i.classList.add("hidden"),d&&d.classList.add("hidden"),l&&l.classList.add("hidden"),r.classList.add("hidden"),o.classList.remove("hidden"),o.dataset.allocationId=t.allocation_id,o.onclick=function(){tC(this)}}(n),document.getElementById("hostel-allocated-view").classList.remove("hidden");break;default:document.getElementById("hostel-initial-view").classList.remove("hidden")}}tE.addEventListener("click",function(){t0.classList.toggle("hidden"),tk.classList.toggle("rotate-180")});let tS;function tC(t){t.disabled=!0;let a=t.innerHTML;t.innerHTML=`
                    <svg class="animate-spin h-4 w-4 text-white inline-block" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                    </svg>
                `;let n=t.dataset.allocationId;GsonApis.request.postJson(e+"?student",{action:"generateHostelSlipPdf",data:{allocation_id:n}},e=>{e.status&&e.link?(window.open(e.link,"_blank"),tO("Success","The allocation slip has been generated.","success")):tO("Error",e.message||"Could not generate the hostel slip.","warning"),t.disabled=!1,t.innerHTML=a},e=>{tO("Network Error",`Could not connect to the server: ${e}`,"warning"),t.disabled=!1,t.innerHTML=a})}t_&&t_.addEventListener("click",()=>{tL.forEach(e=>e.classList.add("hidden")),document.getElementById("hostel-form-view").classList.remove("hidden"),function t(){let a=document.getElementById("hostel-preference");a&&(a.disabled=!0,a.innerHTML="<option>Loading hostels...</option>",GsonApis.request.postJson(e+"?student",{action:"listMyHostels"},e=>{if(a.disabled=!1,a.innerHTML='<option value="">-- Select a Hostel --</option>',e.status&&Array.isArray(e.data)){if(0===e.data.length){a.innerHTML="<option>No hostels available for your category.</option>";return}let t=e.data.map(e=>`<option value="${e.hostel_code}">
                                    ${e.hostel_name} - ${e.location} (${e.gender})
                                 </option>`).join("");a.innerHTML+=t}else a.innerHTML="<option>Could not load hostels.</option>",tO("Error",e.message||"Failed to load hostel list.","warning")},e=>{a.disabled=!1,a.innerHTML="<option>Error loading hostels.</option>",tO("Network Error",`Could not connect to the server: ${e}`,"warning")}))}()}),tI&&tI.addEventListener("submit",function(t){t.preventDefault();let a=this.querySelector('button[type="submit"]'),n=a.innerHTML,s=document.getElementById("hostel-preference").value,i=document.getElementById("hostel-terms-checkbox").checked;if(!s){tO("Invalid Input","Please select a hostel preference.","warning");return}if(!i){tO("Agreement Required","You must agree to the terms and conditions.","warning");return}a.disabled=!0,a.innerHTML="Submitting...",tO("Processing...","Submitting your application, please wait.","info"),GsonApis.request.postJson(e+"?student",{action:"applyHostel",data:{hostel_code:s}},e=>{if(e.status){f.data.userinfo.hostelApplicationStatus=e.data.hostelApplicationStatus,f.data.userinfo.hostelAllocation=e.data.hostelAllocation,f.data.userinfo.hostelAllocationHistory=e.data.hostelAllocationHistory;let t=JSON.parse(GsonApis.session("ultison"));t.data.userinfo=f.data.userinfo,GsonApis.session("ultison",JSON.stringify(t)),tB(),tO("Success!",e.message||"Bedspace allocated successfully!","success")}else tO("Application Failed",e.message||"An error occurred on the server.","warning");a.disabled=!1,a.innerHTML=n},e=>{tO("Network Error",`Could not connect to the server: ${e}`,"warning"),a.disabled=!1,a.innerHTML=n})});let t9=document.getElementById("hostel-history-table-body");function tN(e=[]){let t=document.getElementById("upcoming-events-container");if(!t)return;if(0===e.length){t.innerHTML='<p class="text-gray-500 italic">No upcoming events found.</p>';return}let a=e.map(e=>{let t=new Date(e.date),a=t.toLocaleDateString("en-US",{month:"short",day:"numeric"});return{...e,formattedDate:a,originalDate:t}}).sort((e,t)=>e.originalDate-t.originalDate),n=document.createElement("ul");n.className="text-gray-600 space-y-2",a.forEach(e=>{let t=document.createElement("li");t.innerHTML=`<span class="font-medium text-gray-700">${e.formattedDate}:</span> ${e.title}`,n.appendChild(t)}),t.innerHTML="",t.appendChild(n)}function tA(e=[]){let t=document.getElementById("event-calendar-table-body");if(t){if(0===e.length){t.innerHTML='<tr><td colspan="3" class="py-4 px-6 text-center text-gray-500 italic">No calendar events available.</td></tr>';return}t.innerHTML="",e.forEach(e=>{let a=`
                        <tr class="border-b border-gray-200 hover:bg-gray-50">
                            <td class="py-3 px-6 whitespace-nowrap">${e.date}</td>
                            <td class="py-3 px-6">${e.event}</td>
                            <td class="py-3 px-6">${e.location}</td>
                        </tr>
                    `;t.innerHTML+=a})}}function tM(e=[]){let t=document.getElementById("full-calendar-container");if(!t)return;if(0===e.length){t.innerHTML='<div class="bg-white p-6 rounded-lg shadow-md"><p class="text-center text-gray-500 italic">No calendar events are available at this time.</p></div>';return}let a=e.reduce((e,t)=>{let a=new Date(t.startDate+"T00:00:00"),n=a.toLocaleString("default",{month:"long",year:"numeric"});return e[n]||(e[n]=[]),e[n].push(t),e},{});t.innerHTML="";let n=Object.keys(a).sort((e,t)=>new Date(e)-new Date(t));for(let s of n){let i=document.createElement("div");i.className="bg-white p-6 rounded-lg shadow-md border border-gray-200";let r=a[s].sort((e,t)=>new Date(e.startDate)-new Date(t.startDate)),o=r.map(e=>{let t=new Date(e.startDate+"T00:00:00"),a=new Date(e.endDate+"T00:00:00"),n=e=>e.toLocaleDateString("en-US",{month:"short",day:"numeric"}),s;return`
                            <div class="flex flex-col sm:flex-row items-start py-3 border-b border-gray-100 last:border-b-0">
                                <div class="w-full sm:w-40 text-left sm:text-center flex-shrink-0 mb-2 sm:mb-0">
                                    <p class="text-lg sm:text-xl font-bold text-purple-700 whitespace-nowrap">${s=e.startDate===e.endDate?t.getDate():`${n(t)} - ${n(a)}`}</p>
                                </div>
                                <div class="ml-0 sm:ml-4 flex-1">
                                    <p class="font-semibold text-gray-800">${e.title}</p>
                                    ${e.location?`<p class="text-sm text-gray-500">${e.location}</p>`:""}
                                </div>
                            </div>
                        `}).join("");i.innerHTML=`
                        <h3 class="text-2xl font-semibold text-gray-700 mb-4 border-b pb-2">${s}</h3>
                        <div class="space-y-2">
                            ${o}
                        </div>
                    `,t.appendChild(i)}}function t2(e){let t=f.data.userinfo.results[e],a=document.getElementById("results-display-container");if(!t){a.innerHTML=`<p>No results found for the ${e} session.</p>`;return}let n=t1("First Semester",t.firstSemester),s=t1("Second Semester",t.secondSemester);a.innerHTML=n+s}function t1(e,t){if(!t||0===t.length)return`
                        <div class="mb-8">
                            <h3 class="text-xl font-semibold text-gray-700 mb-3">${e}</h3>
                            <div class="bg-white p-4 rounded-lg shadow-md border">
                                <p class="text-center text-gray-500 italic">No courses recorded for this semester.</p>
                            </div>
                        </div>
                    `;let a={A:5,"B+":4.5,B:4,"C+":3.5,C:3,D:2,E:1,F:0,"A-":4.7},n=0,s=0;t.forEach(e=>{n+=e.units,s+=(a[e.grade]||0)*e.units});let i=n>0?(s/n).toFixed(2):"0.00",r=t.map((e,t)=>`
                    <tr class="border-b border-gray-200">
                        <td class="py-2 px-4">${t+1}</td>
                        <td class="py-2 px-4">${e.code}</td>
                        <td class="py-2 px-4">${e.title}</td>
                        <td class="py-2 px-4 text-center">${e.units}</td>
                        <td class="py-2 px-4 text-center font-bold">${e.grade}</td>
                    </tr>
                `).join("");return`
                    <div class="mb-8">
                        <h3 class="text-xl font-semibold text-gray-700 mb-3">${e}</h3>
                        <div class="bg-white rounded-lg shadow-md border overflow-hidden">
                            <div class="overflow-x-auto">
                                <table class="min-w-full text-sm">
                                    <thead>
                                        <tr class="bg-gray-50 text-left text-gray-600 uppercase text-xs">
                                            <th class="py-3 px-4">S/N</th>
                                            <th class="py-3 px-4">Code</th>
                                            <th class="py-3 px-4">Title</th>
                                            <th class="py-3 px-4 text-center">Units</th>
                                            <th class="py-3 px-4 text-center">Grade</th>
                                        </tr>
                                    </thead>
                                    <tbody class="text-gray-700">
                                        ${r}
                                    </tbody>
                                </table>
                            </div>
                            <div class="bg-gray-50 p-3 text-right font-semibold">
                                Semester GPA: <span class="text-purple-700 text-lg">${i}</span>
                            </div>
                        </div>
                    </div>
                `}function tT(){let e=document.getElementById("course-history-tbody");if(!e)return;let t=f.data.userinfo.results||{},a=f.data.userinfo.courseRegistration||{},n=a.submittedCourses||[],s=[],i=new Set(n.map(e=>e.code));for(let r in n.forEach(e=>{s.push({...e,session:a.session,grade:"N/A",status:"In Progress"})}),t){let o=t[r];for(let l in o)o[l].forEach(e=>{i.has(e.code)||s.push({...e,session:r,status:"Completed"})})}if(0===s.length){e.innerHTML='<tr><td colspan="6" class="py-4 px-6 text-center text-gray-500 italic">No course history found.</td></tr>';return}e.innerHTML="",s.forEach(t=>{let a=t.grade.startsWith("A")||t.grade.startsWith("B")?"text-green-600 font-bold":t.grade.startsWith("C")?"text-yellow-600 font-bold":"text-red-600 font-bold",n=`
                        <tr class="border-b border-gray-200 hover:bg-gray-50">
                            <td class="py-3 px-6 whitespace-nowrap">${t.code}</td>
                            <td class="py-3 px-6">${t.title}</td>
                            <td class="py-3 px-6">${t.units}</td>
                            <td class="py-3 px-6">${t.session}</td>
                            <td class="py-3 px-6 ${a}">${t.grade}</td>
                            <td class="py-3 px-6">${t.status}</td>
                        </tr>
                    `;e.innerHTML+=n})}function t4(){let e=document.getElementById("course-history-tbody");if(!e)return;if(0===h.length){e.innerHTML='<tr><td colspan="6" class="py-4 px-6 text-center text-gray-500 italic">No course history found.</td></tr>',document.getElementById("page-info").textContent="Page 0 of 0";return}let t=($-1)*5,a=h.slice(t,t+5);e.innerHTML="",a.forEach(t=>{let a=t.grade.startsWith("A")||t.grade.startsWith("B")?"text-green-600 font-bold":t.grade.startsWith("C")?"text-yellow-600 font-bold":"text-red-600 font-bold",n=`
                        <tr class="border-b border-gray-200 hover:bg-gray-50">
                            <td class="py-3 px-6 whitespace-nowrap">${t.code}</td>
                            <td class="py-3 px-6">${t.title}</td>
                            <td class="py-3 px-6">${t.units}</td>
                            <td class="py-3 px-6">${t.session}</td>
                            <td class="py-3 px-6 ${a}">${t.grade}</td>
                            <td class="py-3 px-6">${t.status}</td>
                        </tr>
                    `;e.innerHTML+=n}),function e(){let t=Math.ceil(h.length/5),a=document.getElementById("page-info"),n=document.getElementById("prev-page-btn"),s=document.getElementById("next-page-btn");a.textContent=`Page ${$} of ${t||1}`,n.disabled=1===$,s.disabled=$===t||0===t}()}function tq(e){let t=document.getElementById("hostel-info-area"),a=new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"});if(0===e.length){t.innerHTML='<p class="text-gray-600 italic">No hostels are currently listed.</p>';return}let n=e.map(e=>{let t="bg-gray-100 text-gray-800";"female"===e.gender.toLowerCase()&&(t="bg-pink-100 text-pink-800"),"male"===e.gender.toLowerCase()&&(t="bg-blue-100 text-blue-800");let n=parseFloat(e.maintenance_fee),s;return`
                        <tr class="border-b border-gray-100 hover:bg-gray-50 transition-colors">
                            <td class="py-3 px-4 font-medium text-gray-800">
                                ${e.hostel_name}
                                <div class="text-xs text-gray-500 font-normal mt-0.5">${e.location||""}</div>
                            </td>
                            <td class="py-3 px-4 text-center">
                                <span class="px-2 py-1 text-xs font-semibold rounded-full ${t}">
                                    ${e.gender}
                                </span>
                            </td>
                            <td class="py-3 px-4 text-right font-semibold text-purple-700">
                                ${s=n>0?a.format(n):'<span class="text-gray-500 text-xs font-medium italic">To be determined</span>'}
                            </td>
                        </tr>
                    `}).join("");t.innerHTML=`
                    <p class="text-gray-600 mb-6">Below are the available university hostels for the current session. Allocation is subject to availability and completion of the clearance process.</p>
                    <div class="overflow-x-auto border border-gray-200 rounded-lg">
                        <table class="min-w-full bg-white text-sm">
                            <thead>
                                <tr class="bg-gray-50 text-left text-gray-600 uppercase text-xs tracking-wider border-b border-gray-200">
                                    <th class="py-3 px-4 font-semibold">Hostel Name / Location</th>
                                    <th class="py-3 px-4 font-semibold text-center">Gender</th>
                                    <th class="py-3 px-4 font-semibold text-right">Maintenance Fee</th>
                                </tr>
                            </thead>
                            <tbody class="text-gray-700 divide-y divide-gray-100">
                                ${n}
                            </tbody>
                        </table>
                    </div>
                    <p class="mt-4 text-xs text-gray-500">* Fees listed are for the current session and are subject to change.</p>
                `}function t3(e=[]){let t=document.getElementById("latest-announcements-list");if(!t)return;if(0===e.length){t.innerHTML='<li class="text-gray-500 italic">No new announcements.</li>';return}let a=e.sort((e,t)=>new Date(t.date)-new Date(e.date)).slice(0,3);t.innerHTML="",a.forEach(e=>{let a=document.createElement("li"),{truncated:n,wasTruncated:s}=function e(t,a){let n=t.split(" ");if(n.length<=a)return{truncated:t,wasTruncated:!1};let s=n.slice(0,a).join(" ")+"...";return{truncated:s,wasTruncated:!0}}(e.message,20),i=e.title.replace(/"/g,"&quot;").replace(/'/g,"&#39;"),r=e.message.replace(/"/g,"&quot;").replace(/'/g,"&#39;"),o="";s&&(o=`
                            <button 
                                class="read-more-announcement text-purple-600 hover:underline font-medium text-sm ml-1"
                                data-title="${i}"
                                data-full-message="${r}">
                                Read more
                            </button>
                        `),a.innerHTML=`
                        <span class="font-bold text-gray-800">${e.title}:</span> 
                        ${n} 
                        ${o}
                    `,t.appendChild(a)})}function tO(e,t,a="warning"){let n=document.getElementById("custom-alert-modal-overlay"),s=document.getElementById("alert-title-text"),i=document.getElementById("custom-alert-message"),r=document.getElementById("confirm-alert-btn"),o=document.getElementById("cancel-alert-btn"),l=document.getElementById("alert-icon-container"),d="",c="";"success"===a?(d='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-check-circle"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><path d="m9 11 3 3L22 4"/></svg>',c="text-green-500"):"info"===a?(d='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-info"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg>',c="text-blue-500"):(d='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-alert-triangle"><path d="M10.29 3.86 1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/><path d="M12 9v4"/><path d="M12 17h.01"/></svg>',c="text-yellow-500"),l.innerHTML=d,l.className=`mr-2 ${c}`,s.textContent=e,i.innerHTML=t,r.textContent="OK",r.classList.remove("hidden"),o.classList.add("hidden"),n.classList.remove("hidden")}function tH(e,t,a="OK",n="Cancel"){let s=document.getElementById("custom-alert-modal-overlay"),i=document.getElementById("alert-title-text"),r=document.getElementById("custom-alert-message"),o=document.getElementById("confirm-alert-btn"),l=document.getElementById("cancel-alert-btn"),d=document.getElementById("alert-icon-container");return d.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-alert-triangle"><path d="M10.29 3.86 1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/><path d="M12 9v4"/><path d="M12 17h.01"/></svg>',d.className="mr-2 text-yellow-500",i.textContent=e,r.innerHTML=t,o.textContent=a,l.textContent=n,o.classList.remove("hidden"),l.classList.remove("hidden"),s.classList.remove("hidden"),new Promise(e=>{let t=()=>{s.classList.add("hidden"),n(),e(!0)},a=()=>{s.classList.add("hidden"),n(),e(!1)},n=()=>{o.removeEventListener("click",t),l.removeEventListener("click",a),o.textContent="OK",l.classList.add("hidden")};o.addEventListener("click",t,{once:!0}),l.addEventListener("click",a,{once:!0})})}t9&&t9.addEventListener("click",function(e){let t=e.target.closest('button[data-action="print-slip"]');t&&tC(t)}),GsonApis.request.postJson(e+"?student",{action:"viewAcademicCalendar"},e=>{e.data&&(e.data.announcements=f.data.userinfo.announcements),e.status&&e.data?(tN(e.data.upcomingEvents),tA(e.data.fullCalendar),e.data.announcements&&t3(e.data.announcements)):(tN([]),tA([]),t3([]),tO("Error",e.message||"Could not load dashboard data.","warning"))},e=>{console.error("Failed to load dashboard data:",e),tN([]),tA([]),t3([]),tO("Network Error","Failed to connect to the server to get dashboard data.","warning")}),lucide.createIcons(),tu(),window.addEventListener("resize",tu),tm(`${initialPage="login"==(initialPage=window.location.hash.substring(1)||"dashboard")?"dashboard":initialPage}-content`),"approved"!==i&&"clearance"!==initialPage&&"dashboard"!==initialPage&&setTimeout(()=>{td()},500),!function e(){let t=document.getElementById("footer-copyright-year"),a=document.getElementById("footer-institution-name"),n=document.getElementById("footer-app-name"),s=document.getElementById("footer-app-version"),i=document.getElementById("footer-developer-name");t&&(t.textContent=new Date().getFullYear()),a&&(a.textContent=f.institution.name),n&&(n.textContent=f.softwareInfo.appName),s&&(s.textContent=f.softwareInfo.version),i&&(i.innerHTML=f.softwareInfo.developer)}(),function e(){let t=f.data.notifications||[],a=t.filter(e=>!e.read).length,n=document.getElementById("notification-badge");n&&(a>0?(n.textContent=a>9?"9+":a,n.classList.remove("hidden")):n.classList.add("hidden")),function e(t=[]){let a=document.getElementById("notification-list-container");if(a){if(0===t.length){a.innerHTML='<p class="p-4 text-sm text-center text-gray-500">No new notifications.</p>';return}a.innerHTML="",t.forEach(e=>{let t=!e.read,n=document.createElement("a");n.href="#",n.className=`block px-4 py-3 text-gray-700 hover:bg-gray-100 text-sm ${t?"bg-purple-50":""}`,n.innerHTML=`
                        <div class="flex items-center">
                            ${t?'<div class="w-2 h-2 bg-purple-600 rounded-full mr-3 flex-shrink-0"></div>':'<div class="w-2 h-2 mr-3"></div>'}
                            <div>
                                <span class="font-semibold block">${e.title}</span>
                                <span class="text-gray-600">${e.message}</span>
                            </div>
                        </div>
                    `,a.appendChild(n)})}}(t)}(),y()})}();
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9c633d2f1c883dac',t:'MTc2OTc5OTkwNw=='};var a=document.createElement('script');a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script><iframe height="1" width="1" style="position: absolute; top: 0px; left: 0px; border: none; visibility: hidden;"></iframe>
</body></html>